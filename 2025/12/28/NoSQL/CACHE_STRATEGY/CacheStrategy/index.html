<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>캐시 전략 | Seo Yang Hun Blog</title>
  <meta name="keywords" content="">
  <meta name="description" content="캐시 전략 | Seo Yang Hun Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="캐시 전략기본적으로 웹서비스 경우 데이터베이스 통해 수집, 저장, 관리, 검색 역할을 하고 있습니다. 하지만 많은 트래픽이 발생이 하면 캐싱을 하게 되는데 기본적으로 데이터베이스 (디스크) 보다 메모리 (RAM) 같은 빠른 임시 저장소에 저장 해서 관리 하게 됩니다. 이는 어플리케이션 응답 속도를 획기적으로 높이고, 데이터베이스 부하를 줄이는데 획기적인 방">
<meta property="og:type" content="article">
<meta property="og:title" content="캐시 전략">
<meta property="og:url" content="https://syh8088.github.io/2025/12/28/NoSQL/CACHE_STRATEGY/CacheStrategy/index.html">
<meta property="og:site_name" content="Seo Yang Hun Blog">
<meta property="og:description" content="캐시 전략기본적으로 웹서비스 경우 데이터베이스 통해 수집, 저장, 관리, 검색 역할을 하고 있습니다. 하지만 많은 트래픽이 발생이 하면 캐싱을 하게 되는데 기본적으로 데이터베이스 (디스크) 보다 메모리 (RAM) 같은 빠른 임시 저장소에 저장 해서 관리 하게 됩니다. 이는 어플리케이션 응답 속도를 획기적으로 높이고, 데이터베이스 부하를 줄이는데 획기적인 방">
<meta property="og:locale">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1.CachePenetration.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-1.NullObjectPattern.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-1.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-2.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-3.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-4.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-5.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-6.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-7.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-8.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1-2-9.BloomFilter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2.CacheStampede.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-1.Jitter.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-2-1.ProbabilisticEarlyRecomputation(PER).png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-2-2.ProbabilisticEarlyRecomputation(PER).png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-3-1.RequestCollapsing.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-3-2.RequestCollapsing.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-4.RateLimit.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-5-1.WriteThrough.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-5-2.WriteThrough.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-5-3.WriteThrough.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-5-4.WriteThrough.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-5-5.WriteThrough.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/2-5-6.WriteThrough.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/3_1.HotKey.png">
<meta property="og:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/3_2.HotKey.png">
<meta property="article:published_time" content="2025-12-27T22:47:42.000Z">
<meta property="article:modified_time" content="2026-01-20T13:11:34.573Z">
<meta property="article:author" content="Seo Yang Hun">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://syh8088.github.io/img/NoSQL/CACHE_STRATEGY/1.CachePenetration.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>Seo Yang Hun</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/syh8088"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:syh8088@gmail.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=872336115&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(69)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="Authentication">
            <i class="fold iconfont icon-right"></i>
            Authentication
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Authentication&lt;---&gt;JWT">
            
            JWT
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Authentication&lt;---&gt;Oauth">
            
            Oauth
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="AWS">
            <i class="fold iconfont icon-right"></i>
            AWS
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="AWS&lt;---&gt;Image Resizing">
            
            Image Resizing
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="CI-CD">
            <i class="fold iconfont icon-right"></i>
            CI-CD
            <small>(10)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;AWS">
            <i class="fold iconfont icon-right"></i>
            AWS
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;AWS&lt;---&gt;EKS">
            <i class="fold iconfont icon-right"></i>
            EKS
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;AWS&lt;---&gt;EKS&lt;---&gt;Kubernetes">
            <i class="fold iconfont icon-right"></i>
            Kubernetes
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;AWS&lt;---&gt;EKS&lt;---&gt;Kubernetes&lt;---&gt;Docker">
            
            Docker
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;GitHubActions">
            
            GitHubActions
            <small>(6)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;Jenkins">
            
            Jenkins
            <small>(3)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="DB">
            <i class="fold iconfont icon-right"></i>
            DB
            <small>(5)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql">
            <i class="fold iconfont icon-right"></i>
            Mysql
            <small>(4)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;DBCP">
            
            DBCP
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;optimizing">
            
            optimizing
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;Paging">
            
            Paging
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="DB&lt;---&gt;MySql">
            <i class="fold iconfont icon-right"></i>
            MySql
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="DB&lt;---&gt;MySql&lt;---&gt;Collation">
            
            Collation
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Elastic Search">
            
            Elastic Search
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Flink">
            <i class="fold iconfont icon-right"></i>
            Flink
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Flink&lt;---&gt;Real Time">
            <i class="fold iconfont icon-right"></i>
            Real Time
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Flink&lt;---&gt;Real Time&lt;---&gt;Kafka">
            
            Kafka
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="J">
            <i class="fold iconfont icon-right"></i>
            J
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="J&lt;---&gt;Jenkins">
            
            Jenkins
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JAVA">
            <i class="fold iconfont icon-right"></i>
            JAVA
            <small>(29)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;HTTP">
            <i class="fold iconfont icon-right"></i>
            HTTP
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;HTTP&lt;---&gt;FeignClient">
            
            FeignClient
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;JPA">
            
            JPA
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Object">
            
            Object
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Payment">
            
            Payment
            <small>(5)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Security">
            
            Security
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring">
            <i class="fold iconfont icon-right"></i>
            Spring
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5">
            <i class="fold iconfont icon-right"></i>
            junit5
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5&lt;---&gt;Mockito">
            
            Mockito
            <small>(2)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringBatch">
            
            SpringBatch
            <small>(5)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringBootAndSecurityAndJWT">
            
            SpringBootAndSecurityAndJWT
            <small>(3)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringCloudConfig">
            
            SpringCloudConfig
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Transaction">
            
            Transaction
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Validator">
            
            Validator
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JavaScript">
            <i class="fold iconfont icon-right"></i>
            JavaScript
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JavaScript&lt;---&gt;Webpack">
            
            Webpack
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Kafka">
            <i class="fold iconfont icon-right"></i>
            Kafka
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Kafka&lt;---&gt;idempotent">
            
            idempotent
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="KUBERNETES">
            
            KUBERNETES
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="MSA">
            <i class="fold iconfont icon-right"></i>
            MSA
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka">
            <i class="fold iconfont icon-right"></i>
            Kafka
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA">
            <i class="fold iconfont icon-right"></i>
            EDA
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;CQRS">
            
            CQRS
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga">
            <i class="fold iconfont icon-right"></i>
            Saga
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga&lt;---&gt;Axon">
            
            Axon
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Network">
            
            Network
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="NoSQL">
            <i class="fold iconfont icon-right"></i>
            NoSQL
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="NoSQL&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="NoSQL&lt;---&gt;Redis&lt;---&gt;RateLimiter">
            
            RateLimiter
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="R">
            
            R
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="대용량 트래픽">
            <i class="fold iconfont icon-right"></i>
            대용량 트래픽
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;EDA">
            <i class="fold iconfont icon-right"></i>
            EDA
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;EDA&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;EDA&lt;---&gt;Payment&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;EDA&lt;---&gt;Payment&lt;---&gt;Redis&lt;---&gt;Kafka">
            
            Kafka
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;Redis&lt;---&gt;Kafka">
            
            Kafka
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;Redis&lt;---&gt;WebFlux">
            <i class="fold iconfont icon-right"></i>
            WebFlux
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="대용량 트래픽&lt;---&gt;Redis&lt;---&gt;WebFlux&lt;---&gt;접근자 대기열">
            
            접근자 대기열
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">About</a>
        
        <a style="width: 50%"
                
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="69">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="search shortcut key i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="switch to outline view shortcut key w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="return"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="case sensitive"></i>
            <i class="iconfont icon-tag" data-title="label"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">outline</div>
            <i class="iconfont icon-list" data-title="switch to article list"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All NoSQL Redis "
           href="/2025/12/28/NoSQL/CACHE_STRATEGY/CacheStrategy/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="캐시 전략">캐시 전략</span>
            <span class="post-date" title="2025-12-28 07:47:42">2025/12/28</span>
        </a>
        
        
        <a  class="All CI-CD AWS EKS Kubernetes Docker "
           href="/2025/08/15/CI-CD/AWS_EKS_CICD/aws_eks_cicd/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AWS EKS 서버 배포 - CI/CD">AWS EKS 서버 배포 - CI/CD</span>
            <span class="post-date" title="2025-08-15 07:47:42">2025/08/15</span>
        </a>
        
        
        <a  class="All DB MySql Collation "
           href="/2025/07/23/DB/Mysql/Collation/Collation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mysql - Collation">Mysql - Collation</span>
            <span class="post-date" title="2025-07-23 07:47:42">2025/07/23</span>
        </a>
        
        
        <a  class="All Network "
           href="/2025/07/15/NETWORK/introduction/Network-Introduction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="네트워크 - 구조 및 공유기 원리">네트워크 - 구조 및 공유기 원리</span>
            <span class="post-date" title="2025-07-15 07:47:42">2025/07/15</span>
        </a>
        
        
        <a  class="All Kafka "
           href="/2025/07/06/KAFKA/introduction/kafka_introduction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="카프카 개념 및 실전">카프카 개념 및 실전</span>
            <span class="post-date" title="2025-07-06 07:47:42">2025/07/06</span>
        </a>
        
        
        <a  class="All "
           href="/2025/06/27/AWS/ImageResizing/imageTest/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2025-06-27 20:10:06">2025/06/27</span>
        </a>
        
        
        <a  class="All AWS Image Resizing "
           href="/2025/06/26/AWS/ImageResizing/aws-image-resizing/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AWS Image Resizing 구현하기">AWS Image Resizing 구현하기</span>
            <span class="post-date" title="2025-06-26 07:47:42">2025/06/26</span>
        </a>
        
        
        <a  class="All Elastic Search "
           href="/2025/06/16/ELASTIC_SEARCH/introduction/elasticsearch-introduction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Elastic Search 검색 활용기">Elastic Search 검색 활용기</span>
            <span class="post-date" title="2025-06-16 07:47:42">2025/06/16</span>
        </a>
        
        
        <a  class="All Flink Real Time Kafka "
           href="/2025/04/05/FLINK/introduction/Flink-Introduction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Flink 이용해서 실시간 데이터 스트림 처리 해보기">Flink 이용해서 실시간 데이터 스트림 처리 해보기</span>
            <span class="post-date" title="2025-04-05 07:47:42">2025/04/05</span>
        </a>
        
        
        <a  class="All Kafka idempotent "
           href="/2024/12/23/KAFKA/idempotent/Kafka_idempotent/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="카프카 멱등성 및 이벤트 일관성 보장하기">카프카 멱등성 및 이벤트 일관성 보장하기</span>
            <span class="post-date" title="2024-12-23 07:47:42">2024/12/23</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA CQRS "
           href="/2024/12/16/MSA/paymentMsa/MSA_Payment_Project_3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템으로 알아보는 MSA 3 - 쿼리 문제">결제 시스템으로 알아보는 MSA 3 - 쿼리 문제</span>
            <span class="post-date" title="2024-12-16 07:47:42">2024/12/16</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA Saga Axon "
           href="/2024/12/15/MSA/paymentMsa/MSA_Payment_Project_2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템으로 알아보는 MSA 2 - 분산 트랜잭션 구현">결제 시스템으로 알아보는 MSA 2 - 분산 트랜잭션 구현</span>
            <span class="post-date" title="2024-12-15 07:47:42">2024/12/15</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA "
           href="/2024/12/14/MSA/paymentMsa/MSA_Payment_Project_1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템으로 알아보는 MSA 1 - 기본 설명">결제 시스템으로 알아보는 MSA 1 - 기본 설명</span>
            <span class="post-date" title="2024-12-14 07:47:42">2024/12/14</span>
        </a>
        
        
        <a  class="All 대용량 트래픽 EDA Payment Redis Kafka "
           href="/2024/12/13/HIGH_VOLUME_TRAFFIC/PaymentEDA/PaymentEDA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템으로 알아보는 EDA 시스템">결제 시스템으로 알아보는 EDA 시스템</span>
            <span class="post-date" title="2024-12-13 07:47:42">2024/12/13</span>
        </a>
        
        
        <a  class="All DB Mysql optimizing "
           href="/2024/12/06/DB/Mysql/optimizing/IndexDiveOptimizaiton/IndexDiveOptimizaiton/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Index Dive 최적화">Index Dive 최적화</span>
            <span class="post-date" title="2024-12-06 07:47:42">2024/12/06</span>
        </a>
        
        
        <a  class="All JAVA Spring Payment junit5 Mockito "
           href="/2024/12/03/JAVA/TEST/PaymentTesting/PaymentTesting2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 Testing - 2">결제 Testing - 2</span>
            <span class="post-date" title="2024-12-03 15:50:00">2024/12/03</span>
        </a>
        
        
        <a  class="All JAVA Spring Payment junit5 Mockito "
           href="/2024/12/02/JAVA/TEST/PaymentTesting/PaymentTesting1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 Testing - 1">결제 Testing - 1</span>
            <span class="post-date" title="2024-12-02 15:50:00">2024/12/02</span>
        </a>
        
        
        <a  class="All 대용량 트래픽 Redis WebFlux 접근자 대기열 "
           href="/2024/11/28/HIGH_VOLUME_TRAFFIC/AccessorQueuingSystem/AccessorQueuingSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="대용량 트래픽 - 접근자 대기열 시스템 만들기">대용량 트래픽 - 접근자 대기열 시스템 만들기</span>
            <span class="post-date" title="2024-11-28 07:47:42">2024/11/28</span>
        </a>
        
        
        <a  class="All 대용량 트래픽 Redis Kafka "
           href="/2024/11/22/HIGH_VOLUME_TRAFFIC/CreateCoupon/CreateCoupon/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="대용량 트래픽 - 선착순 쿠폰 등록 With Kafka, Redis">대용량 트래픽 - 선착순 쿠폰 등록 With Kafka, Redis</span>
            <span class="post-date" title="2024-11-22 07:47:42">2024/11/22</span>
        </a>
        
        
        <a  class="All NoSQL Redis RateLimiter "
           href="/2024/11/19/NoSQL/Redis/RateLimiter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Request Rate Limiter 구현하기">Request Rate Limiter 구현하기</span>
            <span class="post-date" title="2024-11-19 07:47:42">2024/11/19</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/20/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 6">GitHubActions CICD With SpringBoot - 6</span>
            <span class="post-date" title="2024-10-20 07:47:42">2024/10/20</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/19/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 5">GitHubActions CICD With SpringBoot - 5</span>
            <span class="post-date" title="2024-10-19 07:47:42">2024/10/19</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/18/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 4">GitHubActions CICD With SpringBoot - 4</span>
            <span class="post-date" title="2024-10-18 07:47:42">2024/10/18</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/17/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 3">GitHubActions CICD With SpringBoot - 3</span>
            <span class="post-date" title="2024-10-17 07:47:42">2024/10/17</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/14/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 2">GitHubActions CICD With SpringBoot - 2</span>
            <span class="post-date" title="2024-10-14 07:47:42">2024/10/14</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/14/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 1">GitHubActions CICD With SpringBoot - 1</span>
            <span class="post-date" title="2024-10-14 07:47:42">2024/10/14</span>
        </a>
        
        
        <a  class="All DB Mysql Paging "
           href="/2024/10/06/DB/Mysql/PagingQuery/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Paging Query 성능 개선 및 처리 방법 - 튜닝편">Paging Query 성능 개선 및 처리 방법 - 튜닝편</span>
            <span class="post-date" title="2024-10-06 07:47:42">2024/10/06</span>
        </a>
        
        
        <a  class="All DB Mysql DBCP "
           href="/2024/10/02/DB/Mysql/mysqlDBCP/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DBCP 설정 방법">DBCP 설정 방법</span>
            <span class="post-date" title="2024-10-02 07:47:42">2024/10/02</span>
        </a>
        
        
        <a  class="All JAVA Object "
           href="/2024/08/24/JAVA/Object/InheritanceComposition2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="상속과 합성 이야기-2">상속과 합성 이야기-2</span>
            <span class="post-date" title="2024-08-24 15:50:00">2024/08/24</span>
        </a>
        
        
        <a  class="All JAVA Object "
           href="/2024/08/23/JAVA/Object/InheritanceComposition1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="상속과 합성 이야기-1">상속과 합성 이야기-1</span>
            <span class="post-date" title="2024-08-23 15:50:00">2024/08/23</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/08/06/JAVA/Payment/PaymentTransactionalOutboxpattern/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템 구축 - 5">결제 시스템 구축 - 5</span>
            <span class="post-date" title="2024-08-06 15:50:00">2024/08/06</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/08/05/JAVA/Payment/PaymentRetry/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템 구축 - 4">결제 시스템 구축 - 4</span>
            <span class="post-date" title="2024-08-05 15:50:00">2024/08/05</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/BuildingPaymentSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템 구축 - 1">결제 시스템 구축 - 1</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/PaymentCheckOut/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템 구축 - 2">결제 시스템 구축 - 2</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/PaymentConfirm/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="결제 시스템 구축 - 3">결제 시스템 구축 - 3</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All "
           href="/2024/05/31/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2024-05-31 22:32:19">2024/05/31</span>
        </a>
        
        
        <a  class="All "
           href="/2024/05/31/README/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2024-05-31 22:32:19">2024/05/31</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2024/05/30/JAVA/Security/AnonymousAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AnonymousAuthenticationFilter">AnonymousAuthenticationFilter</span>
            <span class="post-date" title="2024-05-30 10:04:43">2024/05/30</span>
        </a>
        
        
        <a  class="All "
           href="/2024/02/01/HIGH_VOLUME_TRAFFIC/AccessorQueuingSystem2/AccessorQueuingSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="패스트캠퍼스 9개 프로젝트로 경험하는 대용량 트래픽 &amp; 데이터 처리 초격차 패키지 Online. 수강">패스트캠퍼스 9개 프로젝트로 경험하는 대용량 트래픽 &amp; 데이터 처리 초격차 패키지 Online. 수강</span>
            <span class="post-date" title="2024-02-01 00:00:00">2024/02/01</span>
        </a>
        
        
        <a  class="All Authentication JWT "
           href="/2021/11/27/AUTHTICATION/JWT/jwt/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JWT (JSON Web Token) 이해하기">JWT (JSON Web Token) 이해하기</span>
            <span class="post-date" title="2021-11-27 07:47:42">2021/11/27</span>
        </a>
        
        
        <a  class="All Authentication Oauth "
           href="/2021/11/27/AUTHTICATION/OAUTH/oauth/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="OAUTH 2.0 이해하기">OAUTH 2.0 이해하기</span>
            <span class="post-date" title="2021-11-27 07:47:42">2021/11/27</span>
        </a>
        
        
        <a  class="All JAVA HTTP FeignClient "
           href="/2021/11/08/JAVA/HTTP/FeignClient/FeignClient/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="FeignClient 활용도">FeignClient 활용도</span>
            <span class="post-date" title="2021-11-08 10:04:43">2021/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/11/04/JAVA/Batch/SpringBatch5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Chunk 5">Spring Batch - Chunk 5</span>
            <span class="post-date" title="2021-11-04 07:47:42">2021/11/04</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/30/JAVA/Batch/SpringBatch4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Flow 4">Spring Batch - Flow 4</span>
            <span class="post-date" title="2021-10-30 07:47:42">2021/10/30</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/24/JAVA/Batch/SpringBatch3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - 메타데이터 스키마 3">Spring Batch - 메타데이터 스키마 3</span>
            <span class="post-date" title="2021-10-24 07:47:42">2021/10/24</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/19/JAVA/Batch/SpringBatch2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Job, Step 2">Spring Batch - Job, Step 2</span>
            <span class="post-date" title="2021-10-19 07:47:42">2021/10/19</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/17/JAVA/Batch/SpringBatch1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch 1">Spring Batch 1</span>
            <span class="post-date" title="2021-10-17 07:47:42">2021/10/17</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="비대칭키를 이용한 application.yml 설정값 암호화">비대칭키를 이용한 application.yml 설정값 암호화</span>
            <span class="post-date" title="2021-09-13 07:47:45">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Cloud Bus">Spring Cloud Bus</span>
            <span class="post-date" title="2021-09-13 07:47:44">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Actuator">Spring Boot Actuator</span>
            <span class="post-date" title="2021-09-13 07:47:43">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Cloud Config">Spring Cloud Config</span>
            <span class="post-date" title="2021-09-13 07:47:42">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA Transaction "
           href="/2021/03/14/JAVA/Transaction/multi-transaction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Multi-Transaction 관리">Java Multi-Transaction 관리</span>
            <span class="post-date" title="2021-03-14 07:47:42">2021/03/14</span>
        </a>
        
        
        <a  class="All JAVA Validator "
           href="/2020/12/18/JAVA/VALIDATOR/validator/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Validator 관리">Java Validator 관리</span>
            <span class="post-date" title="2020-12-18 07:47:42">2020/12/18</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/19/JAVA/Security/SessionManagementFilterAndConcurrentSessionFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SessionManagementFilterAndConcurrentSessionFilter">SessionManagementFilterAndConcurrentSessionFilter</span>
            <span class="post-date" title="2020-11-19 18:02:23">2020/11/19</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/14/JAVA/Security/RememberMeAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RememberMeAuthenticationFilter">RememberMeAuthenticationFilter</span>
            <span class="post-date" title="2020-11-14 07:40:06">2020/11/14</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/13/JAVA/Security/UsernamePasswordAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UsernamePasswordAuthenticationFilter">UsernamePasswordAuthenticationFilter</span>
            <span class="post-date" title="2020-11-13 08:51:13">2020/11/13</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/09/CI-CD/Jenkins/JenkinsGitLabConnect/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jenkins_GitLab_연동">Jenkins_GitLab_연동</span>
            <span class="post-date" title="2020-11-09 07:47:42">2020/11/09</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/08/CI-CD/Jenkins/JenkinsGitLabSshConnect/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="젠킨스와 GitLab ssh 연동하기">젠킨스와 GitLab ssh 연동하기</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA JPA "
           href="/2020/11/08/JAVA/JPA/eagerJpqlNplus1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="eagerJpqlNplus1">eagerJpqlNplus1</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot 를 이용해 JWT + Social 로그인 처리 - Authorization Server (일반 로그인)">Spring Boot 를 이용해 JWT + Social 로그인 처리 - Authorization Server (일반 로그인)</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot 를 이용해 JWT + Social 로그인 처리 - Authorization Server (Social 로그인)">Spring Boot 를 이용해 JWT + Social 로그인 처리 - Authorization Server (Social 로그인)</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot 를 이용해 JWT + Social 로그인 처리 - Resource Server">Spring Boot 를 이용해 JWT + Social 로그인 처리 - Resource Server</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All J Jenkins "
           href="/2020/11/07/JAVA/Security/JKSGenerate/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JKSGenerate">JKSGenerate</span>
            <span class="post-date" title="2020-11-07 13:46:21">2020/11/07</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/07/CI-CD/Jenkins/JenkinsInstall/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="쿠버네티스 환경 구성">쿠버네티스 환경 구성</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All DB Mysql "
           href="/2020/11/07/DB/Mysql/mysqlReplicationSetting/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mysql_Replication_설정">Mysql_Replication_설정</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All KUBERNETES "
           href="/2020/11/07/KUBERNETES/%EC%89%BD%EA%B2%8C_%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94_%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4_%ED%99%98%EA%B2%BD_%EA%B5%AC%EC%84%B1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jenkins_설치">Jenkins_설치</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All R "
           href="/2020/10/17/R/RServerInstall/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RServer 설치">RServer 설치</span>
            <span class="post-date" title="2020-10-17 07:47:42">2020/10/17</span>
        </a>
        
        
        <a  class="All JavaScript Webpack "
           href="/2020/10/17/JAVASCRIPT/Webpack/devtool/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="WebPack - DevTool">WebPack - DevTool</span>
            <span class="post-date" title="2020-10-17 07:47:42">2020/10/17</span>
        </a>
        
        
        <a  class="All "
           href="/2018/12/02/%EB%A9%B4%EC%A0%91%EC%A4%80%EB%B9%84/test/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="그냥... 잡다한 지식 모음집">그냥... 잡다한 지식 모음집</span>
            <span class="post-date" title="2018-12-02 15:50:00">2018/12/02</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="Toggle full screen shortcut key s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-NoSQL/CACHE_STRATEGY/CacheStrategy" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">캐시 전략</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="NoSQL">NoSQL</a> > 
            
            <a  data-rel="NoSQL&lt;---&gt;Redis">Redis</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2026-01-20 22:11:34'>2025-12-28 07:47</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%EC%BA%90%EC%8B%9C-%EC%A0%84%EB%9E%B5"><span class="toc-text">캐시 전략</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Cache-Penetration-%EC%BA%90%EC%8B%9C-%EA%B4%80%ED%86%B5"><span class="toc-text">Cache Penetration (캐시 관통)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Null-Object-Pattern"><span class="toc-text">Null Object Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bloom-Filter"><span class="toc-text">Bloom Filter</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%A0%81%EC%A0%88%ED%95%9C-%EB%B9%84%ED%8A%B8-%EB%B0%B0%EC%97%B4-%ED%81%AC%EA%B8%B0-m-%EC%99%80-%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98-%EA%B0%9C%EC%88%98-k-%EA%B3%B5%EC%8B%9D"><span class="toc-text">적절한 비트 배열 크기(m) 와 해시 함수 개수(k) 공식</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EB%B9%84%ED%8A%B8-%EC%88%98-m"><span class="toc-text">비트 수 (m)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98-%EA%B0%9C%EC%88%98-k"><span class="toc-text">해시 함수 개수 (k)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Cache-Stampede-%EC%BA%90%EC%8B%9C-%EC%87%84%EB%8F%84"><span class="toc-text">Cache Stampede (캐시 쇄도)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Jitter"><span class="toc-text">Jitter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Probabilistic-Early-Recomputation-PER"><span class="toc-text">Probabilistic Early Recomputation (PER)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PER-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98"><span class="toc-text">PER 알고리즘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Request-Collapsing"><span class="toc-text">Request Collapsing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rate-Limit"><span class="toc-text">Rate Limit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Write-Through"><span class="toc-text">Write Through</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hot-Key"><span class="toc-text">Hot Key</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Application-Level-Sharding-Replication"><span class="toc-text">Application Level Sharding - Replication</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="캐시-전략"><a href="#캐시-전략" class="headerlink" title="캐시 전략"></a>캐시 전략</h1><p>기본적으로 웹서비스 경우 데이터베이스 통해 수집, 저장, 관리, 검색 역할을 하고 있습니다. 하지만 많은 트래픽이 발생이 하면 캐싱을 하게 되는데 기본적으로 데이터베이스 (디스크) 보다 메모리 (RAM) 같은 빠른 임시 저장소에 저장 해서 관리 하게 됩니다. 이는 어플리케이션 응답 속도를 획기적으로 높이고, 데이터베이스 부하를 줄이는데 획기적인 방법 입니다.</p>
<p>하지만 캐싱을 사용하는데 있어서 주의할 점이 몇 가지 있습니다. 캐싱을 잘못 사용하면 캐시를 사용했는데도 데이터베이스에 많은 부하가 발생 할 수 있기 때문입니다.</p>
<p>다음은 몇 가지 대표적인 주의 할 점과 해결 방안에 대해 소개 하고자 합니다.</p>
<h1 id="Cache-Penetration-캐시-관통"><a href="#Cache-Penetration-캐시-관통" class="headerlink" title="Cache Penetration (캐시 관통)"></a>Cache Penetration (캐시 관통)</h1><p><code>Cache Penetration</code> 는 일반적으로 조회 하고자 하는 데이터가 데이터베이스에도 없고 캐시에도 없는 데이터를 요청이 계속 들어와서 , <code>매번 원본(데이터베이스) 까지 뚫고 들어가는 현상</code> 을 말합니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1.CachePenetration.png" alt="Cache Penetration"></p>
<p>처음 특정 데이터 조회 요청 들어오면 우선 캐시에 조회를 할 것이고 찾고자 하는 데이터가 존재하지 않으면 <code>Cache miss</code> 가 발생 합니다. 그 다음 원본 (데이터 베이스) 까지 조회 했는데도 찾고자 하는 데이터가 존재 하지 않으면 null 데이터를 응답 받게 됩니다. 이때 null 로 저장을 했으니 캐시에는 저장 않게 됩니다.</p>
<p>두번째 요청에도 첫번째 요청과 동일하게 찾고자 하는 데이터가 동일 하면 우선 캐시에 데이터가 존재하는지 조회 하지만 동일하게 <code>Cache miss</code> 가 발생 할 것이고 데이터베이스에도 조회를 했지만 당연히 조회 되지 않아 null 로 반환 하게 됩니다.</p>
<p>이렇게 <code>Cache Penetration</code> 는 보통 캐시 및 데이터베이스에 모두 찾고자 하는 데이터가 존재하지 않을 경우 캐시 저장소, 원본 저장소 (데이터베이스) 조회를 했지만 결국은 null 로 반환되고, 결국은 원본 저장소까지 부하를 전파 되면서 케시에 이점을 활용 하지 못 하는 현상이 발생 하게 됩니다.</p>
<p>다음은 이러한 문제를 해결하기 위해 <code>Null Object Pattern</code> <code>Bloom Filter</code> 에 대해서 소개 하고자 합니다.</p>
<h2 id="Null-Object-Pattern"><a href="#Null-Object-Pattern" class="headerlink" title="Null Object Pattern"></a>Null Object Pattern</h2><p>앞써 설명한 대로 <code>null</code> 로 응답 받아서 캐시에 저장 하지 않게 되면서 이후 동일한 요청이 들어와도 캐시 저장소 → 원본 저장소 까지 관통 되면서 조회 미스가 계속 발생 하게 됩니다.</p>
<p><code>Null Object Pattern</code> 는 <code>null</code> 를 그대로 전파하지 않고, ‘없음’ 을 의미하는 <code>객체 (Null Object)</code> 를 만들어 일반 객체처럼 동일하게 취급 하는 패턴 입니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-1.NullObjectPattern.png" alt="Null Object Pattern"></p>
<p>요청 하고자 하는 데이터를 먼저 캐시 저장소에 조회를 하고 <code>Cache miss</code> 가 발생 하게 됩니다. 이 후 원본 저장소에 조회를 하지만 찾고자 하는 데이터가 없어서 <code>null</code> 로 반환하게 됩니다. 그 다음   <code>객체 (Null Object)</code> 를 만들어서 캐시 저장소에 저장을 하게 됩니다.</p>
<p>이후 클라이언트가 동일한 요청 (동일 키로 다시 요청) 을 하게 된다면 캐시 저장소에 조회 해서 이전에 만들었던 <code>객체 (Null Object)</code> 를 반환하게 됩니다.(<code>Cache hit</code>) 이렇게해서 <code>원본 저장소</code> 까지 관통하지 않게 되면서 부하를 최소화 할 수 있게 됩니다. 즉 “없음도 캐시에 저장한다” 를 null 대신 의미 있는 <code>객체 (Null Object)</code> 로 저장하는 방식 입니다.</p>
<h2 id="Bloom-Filter"><a href="#Bloom-Filter" class="headerlink" title="Bloom Filter"></a>Bloom Filter</h2><p><code>Bloom Filter</code> 는 특정 데이터가 <code>존재하는지</code> 를 빠르게 판별하는 확률적 자료구조 (Probabilistic Data Structure) 입니다.</p>
<p>특징은 찾고자 하는 데이터가 존재하지 않으면 <code>확실히 존재하지 않고</code> 만약 확률적으로 존재한다고 판단하는 경우 있을 수도 있고 없을 수도 있습니다. 즉 <code>False Positive (잘못된 긍정)</code> 로 표현 할 수 있겠습니다.</p>
<p>이해하기 쉽게 그림으로 설명 하도록 하겠습니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-1.BloomFilter.png" alt="Bloom Filter"></p>
<p>다음과 같이 10개 비트 배열로 구성되어 있는 Bloom Filter 가 있다고 가정 하겠습니다. 그리고 3개의 해시 함수가 존재하는데 각각의 독립적인 해시 함수는 0~9까지 반환 한다고 하겠습니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-2.BloomFilter.png" alt="Bloom Filter"></p>
<p>여기서 데이터 1를 입력 하게 된다면</p>
<ol>
<li>1번 해시 함수 → 2</li>
<li>2번 해시 함수 → 6</li>
<li>3번 해시 함수 → 9</li>
</ol>
<p>값으로 반환 하게 됩니다.</p>
<p>각각의 반환되는 값은 Bloom Filter 10개 비트 배열 인덱스가 됩니다.  반환 되는 값 인덱스에 Bloom Filter 비트에 0에서 1로 저장 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-3.BloomFilter.png" alt="Bloom Filter"></p>
<p>그 다음은 데이터 2 를 입력 하도록 하겠습니다.</p>
<ol>
<li>1번 해시 함수 → 1</li>
<li>2번 해시 함수 → 5</li>
<li>3번 해시 함수 → 8</li>
</ol>
<p>값으로 반환 되고 마찬가지로 각각의 반환 되는 값을  Bloom Filter 10개 비트 배열 인덱스에 1로 저장을 합니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-4.BloomFilter.png" alt="Bloom Filter"></p>
<p>그 다음은 데이터 3  를 입력 하도록 하겠습니다.</p>
<ol>
<li>1번 해시 함수 → 2</li>
<li>2번 해시 함수 → 5</li>
<li>3번 해시 함수 → 7</li>
</ol>
<p>값으로 반환 되지만 Bloom Filter 10개 비트 배열 인덱스에 1로 저장 되어 있는 확인을 하는데 이미 인덱스 2, 5 는 1로 저장 되어 있지만 인덱스 7은 저장 되어 있지 않는 상태 입니다.</p>
<p>하나라도 입력 되지 않으면 입력한 데이터 3은 한번도 입력되지 않다고 판단하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-5.BloomFilter.png" alt="Bloom Filter"></p>
<p>그 다음은 데이터 4  를 입력 하도록 하겠습니다.</p>
<ol>
<li>1번 해시 함수 → 1</li>
<li>2번 해시 함수 → 2</li>
<li>3번 해시 함수 → 7</li>
</ol>
<p>각 해시 함수 통해 반환 된 값 1, 2, 7 모두  Bloom Filter 비트 배열에 이미 저장 되어 있습니다. 분명 데이터 4는 입력 된 적이 없었지만 이미 저장되어 있다고 판단 해버립니다. (<code>해시 충돌</code>)</p>
<p>이렇게 <code>해시 충돌</code> 로 인해서 실제로는 입력한 데이터가 아니더라도 있다고 판단 해버리는 상황이 발생 하게 됩니다. 즉 <code>False Positive (잘못된 긍정)</code> 이라고 표현 할 수 있습니다. 이러한 원리로 <code>Bloom Filter</code> 는 확률적 자료구조로 말 할 수 있겠습니다.</p>
<p>이러한 특성 때문에 만약 데이터 4 입력한 Bloom Filter 비트 배열에 저장 된 데이터를 삭제 하고자 할 때 입력한 데이터가 실제로 4 로 인해 저장 된 데이터인지 아니면 다른 값으로 저장 된 데이터 인지 판단 할 수 없어 한번 입력한 데이터는 삭제 할 수 없게 됩니다.</p>
<h3 id="적절한-비트-배열-크기-m-와-해시-함수-개수-k-공식"><a href="#적절한-비트-배열-크기-m-와-해시-함수-개수-k-공식" class="headerlink" title="적절한 비트 배열 크기(m) 와 해시 함수 개수(k) 공식"></a>적절한 비트 배열 크기(m) 와 해시 함수 개수(k) 공식</h3><p><code>Bloom Filter</code>에서 <code>비트 배열 크기(m)</code> 와 <code>해시 함수 개수(k)</code> 는 보통 <code>내가 얼마나 많은 원소를 넣을 건지(n)</code>와 <code>얼마나 틀려도 되는지(허용 False Positive 확률 p)</code>두 가지를 먼저 정한 뒤 공식으로 계산해서 잡습니다.</p>
<p><code>n</code> &#x3D; 예상 삽입 원소 개수</p>
<p><code>p</code> &#x3D; 목표 False Positive 확률 (예: 1% &#x3D; 0.01)</p>
<p><code>m</code> &#x3D; 비트 배열 크기</p>
<p><code>k</code> &#x3D; 해시 함수 개수</p>
<h3 id="비트-수-m"><a href="#비트-수-m" class="headerlink" title="비트 수 (m)"></a>비트 수 (m)</h3><p>$$<br>\left( \sum_{k&#x3D;1}^n a_k b_k \right)^2 \leq \left( \sum_{k&#x3D;1}^n a_k^2 \right) \left( \sum_{k&#x3D;1}^n b_k^2 \right)<br>$$</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-6.BloomFilter.png" alt="비트 수 (m)"></p>
<h3 id="해시-함수-개수-k"><a href="#해시-함수-개수-k" class="headerlink" title="해시 함수 개수 (k)"></a>해시 함수 개수 (k)</h3><p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-7.BloomFilter.png" alt="해시 함수 개수 (k)"></p>
<p>예시로 존재 가능한 데이터가 1천만 개 (n: 10,000,000) 이고 오차율을 0.01로 하고 싶을때</p>
<p>필요한 비트 수 (m):</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-8.BloomFilter.png" alt="필요한 비트 수 (m)"></p>
<p>비트를 바이트로 바꾸면:</p>
<ul>
<li>95,850,000 bits &#x2F; 8 ≈ <strong>11,981,250 bytes &#x3D; 11.4MB</strong></li>
</ul>
<p>필요한 해시 함수 개수 (k):</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/1-2-9.BloomFilter.png" alt="필요한 해시 함수 개수 (k)"></p>
<p>대략 1천만 개 데이터를 0.01 오차율로  Bloom Filter 관리 하고 싶으면 대략 12MB 이면 가능 하다는 계산이 떨어 집니다.</p>
<h1 id="Cache-Stampede-캐시-쇄도"><a href="#Cache-Stampede-캐시-쇄도" class="headerlink" title="Cache Stampede (캐시 쇄도)"></a>Cache Stampede (캐시 쇄도)</h1><p><code>Cache Stampede</code> 는 조회 하고자 하는 캐시 데이터가 마침 캐시 만료로 인해서 <code>Cache miss</code> 가 발생 하는 순간 동시 다발 요청이 한꺼번에 발생해서 여러 번  <code>Cache miss</code> 가 발생 되고 한꺼번에 원본 저장소에 몰리는 현상을 말 합니다. 캐시 만료 뿐만 아니라 아직 캐시 데이터에 저장 되지 않는 상태에서 동시 다발 요청이 들어올 때도 발생 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2.CacheStampede.png" alt="Cache Stampede"></p>
<p>여러 개 요청 (모두 찾고자 하는 데이터가 각각 다를 경우)으로 인해 캐시 데이터로 찾고자 하는 데이터를 질의 하게 되지만 모두 <code>Cache miss</code> 가 발생 한다고 가정 하겠습니다. 그럼 모든 요청이 한꺼번에 원본 데이터까지 질의 하게 되고 부하로 이어져 캐시의 장점이 상실 되는 현상이 발생 하게 됩니다.</p>
<p>이러한 문제를 해결하기 위해</p>
<ol>
<li>Jitter</li>
<li>Probabilistic Early Recomputation (PER)</li>
<li>Request Collapsing</li>
<li>Rate Limiter</li>
<li>Write-Through</li>
</ol>
<p>방법이 있습니다.</p>
<h2 id="Jitter"><a href="#Jitter" class="headerlink" title="Jitter"></a>Jitter</h2><p>**<code>Jitter</code>**는 캐시에 저장할 때 만료 시간(TTL) 을 모든 키에 동일하게 주지 않고 무작위한 랜덤 값을 섞어서 만료 시점을 설정해 분산 시키는 기법입니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-1.Jitter.png" alt="Jitter"></p>
<p>처음에 여러 개 요청 (모두 찾고자 하는 데이터가 각각 다를 경우) 으로 캐시 저장소에 질의를 하였지만 존재하는 데이터가 없고 (<code>Cache miss</code>) 원본 데이터에 질의를 한 다음에 캐시에 데이터를 저장 할 때 만료 시간을 랜덤한 Jitter 로 설정해서 저장 합니다.</p>
<p>이렇게 하면 특정 시점에 캐시가 동시에 비는 현상이 줄고, 원본 저장소로 몰리는 <code>부하 스파이크</code>가 완화됩니다.</p>
<h2 id="Probabilistic-Early-Recomputation-PER"><a href="#Probabilistic-Early-Recomputation-PER" class="headerlink" title="Probabilistic Early Recomputation (PER)"></a>Probabilistic Early Recomputation (PER)</h2><p><code>PER</code>은 캐시 키가 완전히 만료되기 전에 각 요청이 확률적으로 빠른 시점에 미리 갱신해서 캐시를 조기 재계산(<code>early recompute</code>) 하는 기법입니다.</p>
<p>즉 만료 시간이 다가올 수록 확률이 증가하게 되고, 캐시 갱신이 오래 걸릴 수록 확률이 증가 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-2-1.ProbabilisticEarlyRecomputation(PER).png" alt="Probabilistic Early Recomputation(PER)"></p>
<p>1, 2, 3번 요청이 동시에 동일한 키로 캐시 저장소에 요청 한다고 가정 해보겠습니다. 캐시에 요청하고자 하는 데이터가 존재해서 <code>Cache Hit</code> 가 발생 했다고 가정 하고 이때 3개의 요청 중 하나가 확률로 인해서 캐시 갱신에 책임이 생길 수 있습니다.</p>
<p>이러한 확률은 앞서 설명한 대로 <code>만료 시간이 다가올 수록</code> , <code>캐시 갱신에 오래 걸릴 수록</code> 확률이 증가 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-2-2.ProbabilisticEarlyRecomputation(PER).png" alt="Probabilistic Early Recomputation(PER)"></p>
<p>여기서 1번 2번 요청은 즉시 응답하지만 3번 요청은 캐시 갱신에 책임을 얻어서 캐시 갱신을 하기 위해 원본 데이터에 질의를 하게 되고 다시 캐시 저장소에 저장 해서 캐시 만료 시간을 초기화 하게 됩니다. 이후에 해당 요청이 들어와도 이미 새롭게 캐시를 갱신 하기 때문에 만료 시간 때문에 여러 개 요청이 원본 저장소에 질의 하는 사태는 없어질 것 입니다.</p>
<p>즉 캐시가 만료되기 전에 조기에 캐시 만료 시간을 초기화 하므로써 <code>Cache Stampede</code> 현상을 방지 할 수 있습니다.</p>
<h3 id="PER-알고리즘"><a href="#PER-알고리즘" class="headerlink" title="PER 알고리즘"></a>PER 알고리즘</h3><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">XFetch</span>(key, ttl, β=<span class="number">1</span>)</span><br><span class="line">  value, Δ, expiry &lt;- <span class="type">CacheRead</span>(key)</span><br><span class="line">  if !value <span class="type">OR</span> (now - Δ * β * log(rand(<span class="number">0</span>, <span class="number">1</span>))) &gt;= expiry then</span><br><span class="line">      start &lt;- now</span><br><span class="line">      value &lt;- <span class="type">RecomputeValue</span>()</span><br><span class="line">      Δ &lt;- now - start</span><br><span class="line">      <span class="type">CacheWrite</span>(key, (value, Δ), ttl)</span><br><span class="line">  return value</span><br></pre></td></tr></table></figure>

<p><code>PER</code> 알고리즘에 대해서 알아보도록 하겠습니다.</p>
<p>파라미터 부터 설명하자면</p>
<p><code>key</code> : 캐시 키 값</p>
<p><code>ttl</code> :  만료 시간</p>
<p><code>β(벨타)</code> :  갱신 시점을 앞당기기 위한 가중치 값 (보통은 1)</p>
<p>이렇게 요청이 들어오고 <code>CacheRead</code> 함수를 통해 요청 하고자 하는 <code>key</code> 값을 이용해서</p>
<p><code>value</code> : 캐시 데이터</p>
<p><code>Δ 델타 (Delta)</code> : 재 계산에 소요된 시간</p>
<p><code>expiry</code>: 캐시 만료 시점</p>
<p>이렇게 데이터를 얻을 수 있습니다.</p>
<p>if 문을 확인 해보면<code>value(캐시 데이터)</code> 값 없거나</p>
<p><code>now(현재 시간)</code> 에다가 <code>β(벨타)</code> * <code>Δ 델타 (Delta)</code> * log(rand()) 값을 뺀 값에</p>
<p><code>expiry</code> 만료 시간 보다 같거나 크면 캐시 갱신을 하게 됩니다.</p>
<p>여기서 <code>재계산이 오래 걸리수록</code> 확률이 증가 한다고 했는데 <code>Δ 델타 (Delta)</code> 이 증가 할 수록 확률은 증가 하게 됩니다.</p>
<p>그리고 <code>만료 시간이 증가 할 수록</code> 확률이 증가 한다고 했는데 <code>now(현재 시간)</code> 데이터는 시간이 흐르면 값이 증가 되니깐 그만큼 확률 값도 증가 하게 됩니다.</p>
<p>(now - Δ * β * log(rand())) &gt;&#x3D; expiry</p>
<p>해당 비교 조건을 임의 값을 매칭 시켜 예시를 만들어 보자면</p>
<p>20 - 2 * 1 * (-2.1) ≥ 25</p>
<p>24.2 ≥ 25</p>
<p>이므로 조건에 부합 되니 캐시 갱신을 안하게 됩니다.</p>
<p>만약 <code>β(벨타)</code> 가중치 값을 2 로 증가 시키면</p>
<p>20 - 2 * 2 * (-2.1) ≥ 25</p>
<p>28.4 ≥ 25</p>
<p>만료 시간 25 보다 더 크니깐 갱신 하게 됩니다.</p>
<p>조건문 안에 들어오면</p>
<p><code>start &lt;- now</code> : 현재 시간을 저장 합니다.</p>
<p><code>value &lt;- RecomputeValue()</code> : 원본 저장소에 데이터를 질의 합니다.<br><code>Δ 델타 (Delta) &lt;- now - start</code> : 재 계산 소요 시간을 계산 합니다.</p>
<p><code>CacheWrite(key, (value, Δ), ttl)</code> : 캐시에 데이터 값 갱신 하게 됩니다. (만료 시간 초기화 및 델타 값 갱신)</p>
<p><code>Probabilistic Early Recomputation(PER)</code> 는 캐시 만료 직전에 확률적으로 일부 요청을 갱신을 수행하게 만들어서 만료 시점에 발생하는 <code>Cache miss</code> 폭발 (<code>Cache Stampede</code>) 을 완화하는 기법 입니다.</p>
<p>특히 캐시 값 생성 비용 (<code>Δ 델타</code>) 을 함께 저장하고 만료에 가까워질수록 갱신 확률이 커지도록 설계 하도록 되어 있는데 이는 락 의존도를 낮추면서도 높은 트래픽의 안정적인 효과를 얻을 수 있습니다.</p>
<h2 id="Request-Collapsing"><a href="#Request-Collapsing" class="headerlink" title="Request Collapsing"></a>Request Collapsing</h2><p>**<code>Request Collapsing</code>**은 같은 시점에 들어온 중복된 요청들을 하나로 합쳐서 호출을 1번(또는 소수) 만 하게 만드는 기법입니다.</p>
<p>만약 같은 키에 100 개 요청이 동시에 조회를 하게 된다면 원본 데이터에 100개 요청을 하지 않고 단 1개의 요청으로 합쳐서 요청하는 기법 입니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-3-1.RequestCollapsing.png" alt="Request Collapsing"></p>
<p>만약 동시에 3개의 중복된 요청이 들어 오고 <code>Cache miss</code> 가 발생 한다고 하면 원본 저장소 까지 조회를 하게 됩니다. <strong><code>Request Collapsing</code></strong> 기법은 하나의 요청으로 합쳐서 원본 저장소에 요청 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-3-2.RequestCollapsing.png" alt="Request Collapsing"></p>
<p>동일하게 동시에 3개의 중복된 요청이 들어 오고 <code>Cache miss</code> 가 발생 한다고 하면 그 다음 원본 저장소에 바로 요청 하지 않고 <code>Distributed Lock Provider</code> 분산락 요청을 합니다. 이때 분산락 요청을 단일 요청만 분산락에 점유를 하게 되고 나머지 요청들은 점유하지 못한 채 대기 상태로 빠져버립니다.</p>
<p>분산락에 점유한 요청은 캐시에 갱신 할 책임을 위임 받게 되고 원본 저장소에 요청을 해서 데이터를 조회 하고 캐시 저장소에 데이터를 갱신 하게 됩니다.  그런 후 분산락을 해제 하게 되고 나머지 요청들은 분산락이 해제 되면서 바로 이전에 저장 된 캐시 저장소에 질의를 해서 조회를 하게 됩니다.</p>
<h2 id="Rate-Limit"><a href="#Rate-Limit" class="headerlink" title="Rate Limit"></a>Rate Limit</h2><p>**<code>Rate Limit</code>**은 특정 주체(사용자 or 토큰 or IP or 키 or 엔드포인트)가 일정 시간 동안 보낼 수 있는 요청 수를 제한하는 기법입니다.</p>
<p>예를 들어서 IP 당 초당 100 요청 제한이 있을 수 있겠습니다. 정해진 제한이 넘으면<code>429(Too Many Requests)</code> 발생 시켜서 일부 요청들은 실패 하겠지만, 적어도 시스템 장애까지는 이어지지 않게 됩니다.</p>
<p>앞써 설명한 <strong><code>Request Collapsing</code></strong> <code>PER</code> <strong><code>Jitter</code></strong> 방식은 ****<code>Cache Stampede</code> 가 발생 할 때 <code>아직 캐시가 존재하지 않거나</code>  요청 하고자 하는 <code>캐시 키가 여러개 일 경우</code>와 같은 모든 상황에 대응 하지 못 할 수가 있습니다.  특히 <code>원본 저장소</code> 에 트래픽이 감당하지 못 할 정도로 요청이 온다고 하면 시스템 장애까지 이어 지는데 이것을 원천적으로 <strong><code>Rate Limit</code></strong> 기능을 이용해서 트래픽을 차단 하는 방법도 좋은 방향 중 하나 일 것 입니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-4.RateLimit.png" alt="Rate Limit"></p>
<p><code>WAS</code> 서버가 1000 TPS 까지 감당 가능 하고 <code>원본 저장소</code> 가 500 TPS 까지 감당 가능 한다고 가정 시 요청 트래픽이 대량으로 올 경우 <code>WAS</code> 서버는 감당 가능 하겠지만 각 요청 하는 캐시 키가 전부 다르고 대부분 요청이 <code>Cache miss</code> 가 발생 한다면 <code>원본 저장소</code> 까지 전파 하게 될 것이고 500 TPS 까지 감당 하지 못 하니 결국은 시스템 장애까지 이어 질 수 있습니다.</p>
<p>이 때  <strong><code>Rate Limit</code></strong> 를 이용해서 요청 수를 제한해 시스템 장애까지 이어지는 것을 방지 할 수 있습니다.</p>
<h2 id="Write-Through"><a href="#Write-Through" class="headerlink" title="Write Through"></a>Write Through</h2><p><code>Write-Through</code>는 데이터를 <code>쓰기 (write)</code> 할 때 애플리케이션이 캐시와 원본 저장소 (DB) 를 동시에 갱신하도록 만드는 캐시 전략입니다.</p>
<p>지금까지 설명한 캐시 전략들은 <code>Look-Aside 패턴</code> 이었습니다. 즉 조회 시점에 <code>Cache miss</code> 가 발생하면 Cache 를 갱신 하는 방법 이었고 <code>Write-Through</code> 전략은 생성, 수정, 삭제를 할 때 Cache 를 갱신 하는 전략 입니다.</p>
<p>특히 <code>Write-Through</code> 경우는 쓰기 및 변경 작업이 일어나서 바로 읽기 작업이 많이 발생 하는 경우 <code>Write-Through</code> 전략은 적합할 수 있겠습니다. 예를 들어서 <code>자유 게시판</code> 목록 글을 캐시 할 경우가 있겠습니다.</p>
<p>지금까지 알아본 전략 경우 <code>Look-Aside 패턴</code> 이었기 때문에 등록 및 변경 작업이 일어날 경우 그때 마다 캐시 만료를 하면 <code>캐시 히트률</code> 은 떨어지게 됩니다.</p>
<p><code>Write-Through</code> 전략을 사용 할 경우 주의 할 점이 있는데요. 만약에 특정 데이터가 변경이 일어날 경우 캐시를 업데이트 하고 그 다음 원본 저장소에 업데이트를 하는 과정에 실패가 일어나면 캐시 저장소 하고 원본 저장소와 데이터 일관성이 무너지게 됩니다.</p>
<p>보통 실무에서는 먼저 원본 저장소에 업데이트를 한 다음 성공 한다면 캐시 저장소를 갱신 하거나 비동기 (<code>Write-Behind</code>)로 처리 하게 됩니다.</p>
<p><code>자유 게시판</code> 같은 목록 데이터는 전체 데이터를 캐시 저장소에 저장 할 수 없으니 보통 첫 페이지 즉 사용자가 많이 조회 하는 페이지만 캐시화 하게 됩니다. Redis 를 사용 하면 <code>Sorted Set</code> 자료구조를 많이 이용 하게 됩니다.</p>
<p><code>Sorted Set</code> 이용해서 최대 상위 (최신순) 3건만 저장 하도록 구성 할 계획 입니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-5-1.WriteThrough.png" alt="Write Through"></p>
<p>첫번째 데이터가 저장 하게 되면 우선 <code>원본 저장소</code> 에 데이터가 저장을 하게 되고 <code>캐시 저장소</code> 에도 저장을 하게 됩니다.  이때 <code>data</code> 는 <code>list:1</code> 로 저장 되고 <code>score</code> 는 <code>1</code> 로 저장 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-5-2.WriteThrough.png" alt="Write Through"><br><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-5-3.WriteThrough.png" alt="Write Through"></p>
<p>두번째, 세번째 데이터도 동일하게 저장 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-5-4.WriteThrough.png" alt="Write Through"></p>
<p>이 후 네번째 데이터가 저장 하게 된다면 앞써 말한대로 최대 3건만 저장 하도록 되어 있으니 첫번째 저장된 데이터는 삭제 되고 네번째 데이터가 저장 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-5-5.WriteThrough.png" alt="Write Through"></p>
<p>이 때 조회를 하게 된다면 네번째, 세번째, 두번째에 저장 했던 데이터를 반환 하게 됩니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/2-5-6.WriteThrough.png" alt="Write Through"></p>
<p>만약 사용자가 두번째 페이지를 조회 하게 되면 이때는 <code>Cache Miss</code> 가 발생 되면서 <code>원본 저장소</code> 에 있는 데이터를 조회 하게 됩니다.</p>
<h1 id="Hot-Key"><a href="#Hot-Key" class="headerlink" title="Hot Key"></a>Hot Key</h1><p><strong><code>Hot Key</code></strong> 는 캐시나 Redis 에서 특정 키에 요청 트래픽이 비정상적으로 집중되는 현상을 말합니다.</p>
<p><img src="/../../../img/NoSQL/CACHE_STRATEGY/3_1.HotKey.png" alt="Hot Key"></p>
<p>다음 그림은 Redis Cluster 로 구성되어 있는 이미지 입니다. 이렇게 Cluster 통해 분산 되어 있다 해도 특정 노드에서만 다수의 <code>Hot Key</code> 가 존재 한다면 해당 노드에만 부하가 증가 하게 될 것 입니다.</p>
<h2 id="Application-Level-Sharding-Replication"><a href="#Application-Level-Sharding-Replication" class="headerlink" title="Application Level Sharding - Replication"></a>Application Level Sharding - Replication</h2><p><img src="/../../../img/NoSQL/CACHE_STRATEGY/3_2.HotKey.png" alt="Hot Key"><br><code>Cache Miss</code> 로 특정 <code>Hot Key</code> 데이터를 캐시 저장소에 저장 시 모든 노드에 캐시 저장소에 저장 한다.그 다음 해당 <code>Hot Key</code> 통해 조회가 발생 하면 3개 Node 중랜덤을 구해서 특정 노드에 <code>Cache Hit</code> 발생 하도록 합니다.</p>

      
       <hr><span style="font-style: italic;color: gray;"> Copyright 201- syh8088. 무단 전재 및 재배포 금지. 출처 표기 시 인용 가능. </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">💰</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2017 Seo Yang Hun
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="Toggle full screen shortcut key s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
