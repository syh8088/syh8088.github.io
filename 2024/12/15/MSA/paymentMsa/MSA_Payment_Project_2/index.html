<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 2 - Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ | Seo Yang Hun Blog</title>
  <meta name="keywords" content="">
  <meta name="description" content="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 2 - Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ | Seo Yang Hun Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Ïπ¥ÌîÑÏπ¥ Î©±Îì±ÏÑ± (Idempotency) Î∞è Ïù¥Î≤§Ìä∏ ÏùºÍ¥ÄÏÑ± (Eventual Consistency) Î≥¥Ïû•ÌïòÍ∏∞ÏïàÎÖïÌïòÏÑ∏Ïöî. Kafka ÌÜµÌï¥ ÎßéÏùÄ Ïö©ÎèÑÎ°ú ÏÇ¨Ïö©ÎêòÍ≥† ÏûàÏäµÎãàÎã§. kafka Îäî ÏÑ§Ï†ïÏùÑ ÌÜµÌï¥ ÎÇ¥Í∞Ä ÏõêÌïòÎäî ÏàòÏ§ÄÏùò Ïã†Î¢∞ÏÑ± ÌôïÎ≥¥ Ìï† Ïàò ÏûàÎã§Îäî Í≤ÉÏù¥ Ïû•Ï†ê ÏûÖÎãàÎã§. Ïù¥Î≤àÏóê ÏÜåÍ∞ú ÎìúÎ¶¨Îäî ÏÑ§Ï†ï ÌÜµÌï¥ Ïã†Î¢∞ÏÑ±ÏùÑ ÌôïÎ≥¥ÌïòÎ©¥ÏÑú Kafka Î•º ÌôúÏö© Ìï¥Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§. Prod">
<meta property="og:type" content="article">
<meta property="og:title" content="Ïπ¥ÌîÑÏπ¥ Î©±Îì±ÏÑ± Î∞è Ïù¥Î≤§Ìä∏ ÏùºÍ¥ÄÏÑ± Î≥¥Ïû•ÌïòÍ∏∞">
<meta property="og:url" content="https://syh8088.github.io/2024/12/23/KAFKA/idempotent/Kafka_idempotent/index.html">
<meta property="og:site_name" content="Seo Yang Hun Blog">
<meta property="og:description" content="Ïπ¥ÌîÑÏπ¥ Î©±Îì±ÏÑ± (Idempotency) Î∞è Ïù¥Î≤§Ìä∏ ÏùºÍ¥ÄÏÑ± (Eventual Consistency) Î≥¥Ïû•ÌïòÍ∏∞ÏïàÎÖïÌïòÏÑ∏Ïöî. Kafka ÌÜµÌï¥ ÎßéÏùÄ Ïö©ÎèÑÎ°ú ÏÇ¨Ïö©ÎêòÍ≥† ÏûàÏäµÎãàÎã§. kafka Îäî ÏÑ§Ï†ïÏùÑ ÌÜµÌï¥ ÎÇ¥Í∞Ä ÏõêÌïòÎäî ÏàòÏ§ÄÏùò Ïã†Î¢∞ÏÑ± ÌôïÎ≥¥ Ìï† Ïàò ÏûàÎã§Îäî Í≤ÉÏù¥ Ïû•Ï†ê ÏûÖÎãàÎã§. Ïù¥Î≤àÏóê ÏÜåÍ∞ú ÎìúÎ¶¨Îäî ÏÑ§Ï†ï ÌÜµÌï¥ Ïã†Î¢∞ÏÑ±ÏùÑ ÌôïÎ≥¥ÌïòÎ©¥ÏÑú Kafka Î•º ÌôúÏö© Ìï¥Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§. Prod">
<meta property="og:locale">
<meta property="og:image" content="https://syh8088.github.io/img/KAFKA/idempotent/Produser_Duplication.png">
<meta property="og:image" content="https://syh8088.github.io/img/KAFKA/idempotent/Produser_EOS.png">
<meta property="og:image" content="https://syh8088.github.io/img/KAFKA/idempotent/MissingAutocommit_1.png">
<meta property="og:image" content="https://syh8088.github.io/img/KAFKA/idempotent/MissingAutocommit_2.png">
<meta property="og:image" content="https://syh8088.github.io/img/KAFKA/idempotent/MissingAutocommit_3.png">
<meta property="og:image" content="https://syh8088.github.io/img/KAFKA/idempotent/duplicationAutocommit_1.png">
<meta property="og:image" content="https://syh8088.github.io/img/KAFKA/idempotent/duplicationAutocommit_2.png">
<meta property="article:published_time" content="2024-12-22T22:47:42.000Z">
<meta property="article:modified_time" content="2024-12-25T15:15:01.343Z">
<meta property="article:author" content="Seo Yang Hun">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://syh8088.github.io/img/KAFKA/idempotent/Produser_Duplication.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>Seo Yang Hun</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/syh8088"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:syh8088@gmail.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=872336115&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(60)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="Authentication">
            <i class="fold iconfont icon-right"></i>
            Authentication
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Authentication&lt;---&gt;JWT">
            
            JWT
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Authentication&lt;---&gt;Oauth">
            
            Oauth
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="CI-CD">
            <i class="fold iconfont icon-right"></i>
            CI-CD
            <small>(9)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;GitHubActions">
            
            GitHubActions
            <small>(6)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;Jenkins">
            
            Jenkins
            <small>(3)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="DB">
            <i class="fold iconfont icon-right"></i>
            DB
            <small>(4)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql">
            <i class="fold iconfont icon-right"></i>
            Mysql
            <small>(4)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;DBCP">
            
            DBCP
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;optimizing">
            
            optimizing
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;Paging">
            
            Paging
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="J">
            <i class="fold iconfont icon-right"></i>
            J
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="J&lt;---&gt;Jenkins">
            
            Jenkins
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JAVA">
            <i class="fold iconfont icon-right"></i>
            JAVA
            <small>(29)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;HTTP">
            <i class="fold iconfont icon-right"></i>
            HTTP
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;HTTP&lt;---&gt;FeignClient">
            
            FeignClient
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;JPA">
            
            JPA
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Object">
            
            Object
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Payment">
            
            Payment
            <small>(5)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Security">
            
            Security
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring">
            <i class="fold iconfont icon-right"></i>
            Spring
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5">
            <i class="fold iconfont icon-right"></i>
            junit5
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5&lt;---&gt;Mockito">
            
            Mockito
            <small>(2)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringBatch">
            
            SpringBatch
            <small>(5)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringBootAndSecurityAndJWT">
            
            SpringBootAndSecurityAndJWT
            <small>(3)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringCloudConfig">
            
            SpringCloudConfig
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Transaction">
            
            Transaction
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Validator">
            
            Validator
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JavaScript">
            <i class="fold iconfont icon-right"></i>
            JavaScript
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JavaScript&lt;---&gt;Webpack">
            
            Webpack
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Kafka">
            <i class="fold iconfont icon-right"></i>
            Kafka
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Kafka&lt;---&gt;idempotent">
            
            idempotent
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="KUBERNETES">
            
            KUBERNETES
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="MSA">
            <i class="fold iconfont icon-right"></i>
            MSA
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka">
            <i class="fold iconfont icon-right"></i>
            Kafka
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA">
            <i class="fold iconfont icon-right"></i>
            EDA
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;CQRS">
            
            CQRS
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga">
            <i class="fold iconfont icon-right"></i>
            Saga
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga&lt;---&gt;Axon">
            
            Axon
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="NoSQL">
            <i class="fold iconfont icon-right"></i>
            NoSQL
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="NoSQL&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="NoSQL&lt;---&gt;Redis&lt;---&gt;RateLimiter">
            
            RateLimiter
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="R">
            
            R
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ">
            <i class="fold iconfont icon-right"></i>
            ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA">
            <i class="fold iconfont icon-right"></i>
            EDA
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA&lt;---&gt;Payment&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA&lt;---&gt;Payment&lt;---&gt;Redis&lt;---&gt;Kafka">
            
            Kafka
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis&lt;---&gt;Kafka">
            
            Kafka
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis&lt;---&gt;WebFlux">
            <i class="fold iconfont icon-right"></i>
            WebFlux
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis&lt;---&gt;WebFlux&lt;---&gt;Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥">
            
            Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">About</a>
        
        <a style="width: 50%"
                
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="60">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">Âè∂ËêΩÈòÅ</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="search shortcut key i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="switch to outline view shortcut key w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="return"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="case sensitive"></i>
            <i class="iconfont icon-tag" data-title="label"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">outline</div>
            <i class="iconfont icon-list" data-title="switch to article list"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All Kafka idempotent "
           href="/2024/12/23/KAFKA/idempotent/Kafka_idempotent/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ïπ¥ÌîÑÏπ¥ Î©±Îì±ÏÑ± Î∞è Ïù¥Î≤§Ìä∏ ÏùºÍ¥ÄÏÑ± Î≥¥Ïû•ÌïòÍ∏∞">Ïπ¥ÌîÑÏπ¥ Î©±Îì±ÏÑ± Î∞è Ïù¥Î≤§Ìä∏ ÏùºÍ¥ÄÏÑ± Î≥¥Ïû•ÌïòÍ∏∞</span>
            <span class="post-date" title="2024-12-23 07:47:42">2024/12/23</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA CQRS "
           href="/2024/12/16/MSA/paymentMsa/MSA_Payment_Project_3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 3 - ÏøºÎ¶¨ Î¨∏Ï†ú">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 3 - ÏøºÎ¶¨ Î¨∏Ï†ú</span>
            <span class="post-date" title="2024-12-16 07:47:42">2024/12/16</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA Saga Axon "
           href="/2024/12/15/MSA/paymentMsa/MSA_Payment_Project_2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 2 - Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 2 - Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ</span>
            <span class="post-date" title="2024-12-15 07:47:42">2024/12/15</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA "
           href="/2024/12/14/MSA/paymentMsa/MSA_Payment_Project_1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 1 - Í∏∞Î≥∏ ÏÑ§Î™Ö">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 1 - Í∏∞Î≥∏ ÏÑ§Î™Ö</span>
            <span class="post-date" title="2024-12-14 07:47:42">2024/12/14</span>
        </a>
        
        
        <a  class="All ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ EDA Payment Redis Kafka "
           href="/2024/12/13/HIGH_VOLUME_TRAFFIC/PaymentEDA/PaymentEDA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî EDA ÏãúÏä§ÌÖú">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî EDA ÏãúÏä§ÌÖú</span>
            <span class="post-date" title="2024-12-13 07:47:42">2024/12/13</span>
        </a>
        
        
        <a  class="All DB Mysql optimizing "
           href="/2024/12/06/DB/Mysql/optimizing/IndexDiveOptimizaiton/IndexDiveOptimizaiton/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Index Dive ÏµúÏ†ÅÌôî">Index Dive ÏµúÏ†ÅÌôî</span>
            <span class="post-date" title="2024-12-06 07:47:42">2024/12/06</span>
        </a>
        
        
        <a  class="All JAVA Spring Payment junit5 Mockito "
           href="/2024/12/03/JAVA/TEST/PaymentTesting/PaymentTesting2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú Testing - 2">Í≤∞Ï†ú Testing - 2</span>
            <span class="post-date" title="2024-12-03 15:50:00">2024/12/03</span>
        </a>
        
        
        <a  class="All JAVA Spring Payment junit5 Mockito "
           href="/2024/12/02/JAVA/TEST/PaymentTesting/PaymentTesting1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú Testing - 1">Í≤∞Ï†ú Testing - 1</span>
            <span class="post-date" title="2024-12-02 15:50:00">2024/12/02</span>
        </a>
        
        
        <a  class="All ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ Redis WebFlux Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥ "
           href="/2024/11/28/HIGH_VOLUME_TRAFFIC/AccessorQueuingSystem/AccessorQueuingSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥ ÏãúÏä§ÌÖú ÎßåÎì§Í∏∞">ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥ ÏãúÏä§ÌÖú ÎßåÎì§Í∏∞</span>
            <span class="post-date" title="2024-11-28 07:47:42">2024/11/28</span>
        </a>
        
        
        <a  class="All ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ Redis Kafka "
           href="/2024/11/22/HIGH_VOLUME_TRAFFIC/CreateCoupon/CreateCoupon/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - ÏÑ†Ï∞©Ïàú Ïø†Ìè∞ Îì±Î°ù With Kafka, Redis">ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - ÏÑ†Ï∞©Ïàú Ïø†Ìè∞ Îì±Î°ù With Kafka, Redis</span>
            <span class="post-date" title="2024-11-22 07:47:42">2024/11/22</span>
        </a>
        
        
        <a  class="All NoSQL Redis RateLimiter "
           href="/2024/11/19/NoSQL/Redis/RateLimiter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Request Rate Limiter Íµ¨ÌòÑÌïòÍ∏∞">Request Rate Limiter Íµ¨ÌòÑÌïòÍ∏∞</span>
            <span class="post-date" title="2024-11-19 07:47:42">2024/11/19</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/20/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 6">GitHubActions CICD With SpringBoot - 6</span>
            <span class="post-date" title="2024-10-20 07:47:42">2024/10/20</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/19/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 5">GitHubActions CICD With SpringBoot - 5</span>
            <span class="post-date" title="2024-10-19 07:47:42">2024/10/19</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/18/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 4">GitHubActions CICD With SpringBoot - 4</span>
            <span class="post-date" title="2024-10-18 07:47:42">2024/10/18</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/17/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 3">GitHubActions CICD With SpringBoot - 3</span>
            <span class="post-date" title="2024-10-17 07:47:42">2024/10/17</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/14/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 2">GitHubActions CICD With SpringBoot - 2</span>
            <span class="post-date" title="2024-10-14 07:47:42">2024/10/14</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/14/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 1">GitHubActions CICD With SpringBoot - 1</span>
            <span class="post-date" title="2024-10-14 07:47:42">2024/10/14</span>
        </a>
        
        
        <a  class="All DB Mysql Paging "
           href="/2024/10/06/DB/Mysql/PagingQuery/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Paging Query ÏÑ±Îä• Í∞úÏÑ† Î∞è Ï≤òÎ¶¨ Î∞©Î≤ï - ÌäúÎãùÌé∏">Paging Query ÏÑ±Îä• Í∞úÏÑ† Î∞è Ï≤òÎ¶¨ Î∞©Î≤ï - ÌäúÎãùÌé∏</span>
            <span class="post-date" title="2024-10-06 07:47:42">2024/10/06</span>
        </a>
        
        
        <a  class="All DB Mysql DBCP "
           href="/2024/10/02/DB/Mysql/mysqlDBCP/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DBCP ÏÑ§Ï†ï Î∞©Î≤ï">DBCP ÏÑ§Ï†ï Î∞©Î≤ï</span>
            <span class="post-date" title="2024-10-02 07:47:42">2024/10/02</span>
        </a>
        
        
        <a  class="All JAVA Object "
           href="/2024/08/24/JAVA/Object/InheritanceComposition2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-2">ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-2</span>
            <span class="post-date" title="2024-08-24 15:50:00">2024/08/24</span>
        </a>
        
        
        <a  class="All JAVA Object "
           href="/2024/08/23/JAVA/Object/InheritanceComposition1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-1">ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-1</span>
            <span class="post-date" title="2024-08-23 15:50:00">2024/08/23</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/08/06/JAVA/Payment/PaymentTransactionalOutboxpattern/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 5">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 5</span>
            <span class="post-date" title="2024-08-06 15:50:00">2024/08/06</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/08/05/JAVA/Payment/PaymentRetry/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 4">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 4</span>
            <span class="post-date" title="2024-08-05 15:50:00">2024/08/05</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/BuildingPaymentSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 1">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 1</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/PaymentCheckOut/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 2">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 2</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/PaymentConfirm/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 3">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 3</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All "
           href="/2024/05/31/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2024-05-31 22:32:19">2024/05/31</span>
        </a>
        
        
        <a  class="All "
           href="/2024/05/31/README/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2024-05-31 22:32:19">2024/05/31</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2024/05/30/JAVA/Security/AnonymousAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AnonymousAuthenticationFilter">AnonymousAuthenticationFilter</span>
            <span class="post-date" title="2024-05-30 10:04:43">2024/05/30</span>
        </a>
        
        
        <a  class="All "
           href="/2024/02/01/HIGH_VOLUME_TRAFFIC/AccessorQueuingSystem2/AccessorQueuingSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ìå®Ïä§Ìä∏Ï∫†ÌçºÏä§ 9Í∞ú ÌîÑÎ°úÏ†ùÌä∏Î°ú Í≤ΩÌóòÌïòÎäî ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ &amp; Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨ Ï¥àÍ≤©Ï∞® Ìå®ÌÇ§ÏßÄ Online. ÏàòÍ∞ï">Ìå®Ïä§Ìä∏Ï∫†ÌçºÏä§ 9Í∞ú ÌîÑÎ°úÏ†ùÌä∏Î°ú Í≤ΩÌóòÌïòÎäî ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ &amp; Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨ Ï¥àÍ≤©Ï∞® Ìå®ÌÇ§ÏßÄ Online. ÏàòÍ∞ï</span>
            <span class="post-date" title="2024-02-01 00:00:00">2024/02/01</span>
        </a>
        
        
        <a  class="All Authentication JWT "
           href="/2021/11/27/AUTHTICATION/JWT/jwt/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JWT (JSON Web Token) Ïù¥Ìï¥ÌïòÍ∏∞">JWT (JSON Web Token) Ïù¥Ìï¥ÌïòÍ∏∞</span>
            <span class="post-date" title="2021-11-27 07:47:42">2021/11/27</span>
        </a>
        
        
        <a  class="All Authentication Oauth "
           href="/2021/11/27/AUTHTICATION/OAUTH/oauth/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="OAUTH 2.0 Ïù¥Ìï¥ÌïòÍ∏∞">OAUTH 2.0 Ïù¥Ìï¥ÌïòÍ∏∞</span>
            <span class="post-date" title="2021-11-27 07:47:42">2021/11/27</span>
        </a>
        
        
        <a  class="All JAVA HTTP FeignClient "
           href="/2021/11/08/JAVA/HTTP/FeignClient/FeignClient/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="FeignClient ÌôúÏö©ÎèÑ">FeignClient ÌôúÏö©ÎèÑ</span>
            <span class="post-date" title="2021-11-08 10:04:43">2021/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/11/04/JAVA/Batch/SpringBatch5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Chunk 5">Spring Batch - Chunk 5</span>
            <span class="post-date" title="2021-11-04 07:47:42">2021/11/04</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/30/JAVA/Batch/SpringBatch4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Flow 4">Spring Batch - Flow 4</span>
            <span class="post-date" title="2021-10-30 07:47:42">2021/10/30</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/24/JAVA/Batch/SpringBatch3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ïä§ÌÇ§Îßà 3">Spring Batch - Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ïä§ÌÇ§Îßà 3</span>
            <span class="post-date" title="2021-10-24 07:47:42">2021/10/24</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/19/JAVA/Batch/SpringBatch2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Job, Step 2">Spring Batch - Job, Step 2</span>
            <span class="post-date" title="2021-10-19 07:47:42">2021/10/19</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/17/JAVA/Batch/SpringBatch1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch 1">Spring Batch 1</span>
            <span class="post-date" title="2021-10-17 07:47:42">2021/10/17</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÎπÑÎåÄÏπ≠ÌÇ§Î•º Ïù¥Ïö©Ìïú application.yml ÏÑ§Ï†ïÍ∞í ÏïîÌò∏Ìôî">ÎπÑÎåÄÏπ≠ÌÇ§Î•º Ïù¥Ïö©Ìïú application.yml ÏÑ§Ï†ïÍ∞í ÏïîÌò∏Ìôî</span>
            <span class="post-date" title="2021-09-13 07:47:45">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Cloud Bus">Spring Cloud Bus</span>
            <span class="post-date" title="2021-09-13 07:47:44">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Actuator">Spring Boot Actuator</span>
            <span class="post-date" title="2021-09-13 07:47:43">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Cloud Config">Spring Cloud Config</span>
            <span class="post-date" title="2021-09-13 07:47:42">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA Transaction "
           href="/2021/03/14/JAVA/Transaction/multi-transaction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Multi-Transaction Í¥ÄÎ¶¨">Java Multi-Transaction Í¥ÄÎ¶¨</span>
            <span class="post-date" title="2021-03-14 07:47:42">2021/03/14</span>
        </a>
        
        
        <a  class="All JAVA Validator "
           href="/2020/12/18/JAVA/VALIDATOR/validator/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Validator Í¥ÄÎ¶¨">Java Validator Í¥ÄÎ¶¨</span>
            <span class="post-date" title="2020-12-18 07:47:42">2020/12/18</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/19/JAVA/Security/SessionManagementFilterAndConcurrentSessionFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SessionManagementFilterAndConcurrentSessionFilter">SessionManagementFilterAndConcurrentSessionFilter</span>
            <span class="post-date" title="2020-11-19 18:02:23">2020/11/19</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/14/JAVA/Security/RememberMeAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RememberMeAuthenticationFilter">RememberMeAuthenticationFilter</span>
            <span class="post-date" title="2020-11-14 07:40:06">2020/11/14</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/13/JAVA/Security/UsernamePasswordAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UsernamePasswordAuthenticationFilter">UsernamePasswordAuthenticationFilter</span>
            <span class="post-date" title="2020-11-13 08:51:13">2020/11/13</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/09/CI-CD/Jenkins/JenkinsGitLabConnect/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jenkins_GitLab_Ïó∞Îèô">Jenkins_GitLab_Ïó∞Îèô</span>
            <span class="post-date" title="2020-11-09 07:47:42">2020/11/09</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/08/CI-CD/Jenkins/JenkinsGitLabSshConnect/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ï††ÌÇ®Ïä§ÏôÄ GitLab ssh Ïó∞ÎèôÌïòÍ∏∞">Ï††ÌÇ®Ïä§ÏôÄ GitLab ssh Ïó∞ÎèôÌïòÍ∏∞</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA JPA "
           href="/2020/11/08/JAVA/JPA/eagerJpqlNplus1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="eagerJpqlNplus1">eagerJpqlNplus1</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (ÏùºÎ∞ò Î°úÍ∑∏Ïù∏)">Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (ÏùºÎ∞ò Î°úÍ∑∏Ïù∏)</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (Social Î°úÍ∑∏Ïù∏)">Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (Social Î°úÍ∑∏Ïù∏)</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Resource Server">Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Resource Server</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All J Jenkins "
           href="/2020/11/07/JAVA/Security/JKSGenerate/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JKSGenerate">JKSGenerate</span>
            <span class="post-date" title="2020-11-07 13:46:21">2020/11/07</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/07/CI-CD/Jenkins/JenkinsInstall/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÌôòÍ≤Ω Íµ¨ÏÑ±">Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÌôòÍ≤Ω Íµ¨ÏÑ±</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All DB Mysql "
           href="/2020/11/07/DB/Mysql/mysqlReplicationSetting/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mysql_Replication_ÏÑ§Ï†ï">Mysql_Replication_ÏÑ§Ï†ï</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All KUBERNETES "
           href="/2020/11/07/KUBERNETES/%EC%89%BD%EA%B2%8C_%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94_%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4_%ED%99%98%EA%B2%BD_%EA%B5%AC%EC%84%B1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jenkins_ÏÑ§Ïπò">Jenkins_ÏÑ§Ïπò</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All R "
           href="/2020/10/17/R/RServerInstall/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RServer ÏÑ§Ïπò">RServer ÏÑ§Ïπò</span>
            <span class="post-date" title="2020-10-17 07:47:42">2020/10/17</span>
        </a>
        
        
        <a  class="All JavaScript Webpack "
           href="/2020/10/17/JAVASCRIPT/Webpack/devtool/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="WebPack - DevTool">WebPack - DevTool</span>
            <span class="post-date" title="2020-10-17 07:47:42">2020/10/17</span>
        </a>
        
        
        <a  class="All "
           href="/2018/12/02/%EB%A9%B4%EC%A0%91%EC%A4%80%EB%B9%84/test/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í∑∏ÎÉ•... Ïû°Îã§Ìïú ÏßÄÏãù Î™®ÏùåÏßë">Í∑∏ÎÉ•... Ïû°Îã§Ìïú ÏßÄÏãù Î™®ÏùåÏßë</span>
            <span class="post-date" title="2018-12-02 15:50:00">2018/12/02</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="Toggle full screen shortcut key s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-MSA/paymentMsa/MSA_Payment_Project_2" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 2 - Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="MSA">MSA</a> > 
            
            <a  data-rel="MSA&lt;---&gt;Payment">Payment</a> > 
            
            <a  data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka">Kafka</a> > 
            
            <a  data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA">EDA</a> > 
            
            <a  data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga">Saga</a> > 
            
            <a  data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga&lt;---&gt;Axon">Axon</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2024-12-21 15:47:16'>2024-12-15 07:47</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views üëÄ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%EC%98%88%EC%A0%9C-%EC%86%8C%EC%8A%A4-%EC%BD%94%EB%93%9C"><span class="toc-text">ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìú</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%B6%84%ED%95%B4%EB%A5%BC-%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C"><span class="toc-text">Ïñ¥ÎñªÍ≤å Î∂ÑÌï¥Î•º Ìï¥Ïïº Ìï†Íπå?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%8F%99%EC%9E%91-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EB%B6%84%EB%A6%AC"><span class="toc-text">ÎπÑÏ¶àÎãàÏä§ ÎèôÏûë Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%ED%95%98%EC%9C%84-%EB%8F%84%EB%A9%94%EC%9D%B8-%ED%8C%A8%ED%84%B4-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EB%B6%84%EB%A6%AC-from-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%A3%BC%EB%8F%84-%EC%84%A4%EA%B3%84-DDD"><span class="toc-text">ÌïòÏúÑ ÎèÑÎ©îÏù∏ Ìå®ÌÑ¥ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨ (from ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ - DDD)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%97%AC%EA%B8%B0%EC%84%9C-%EB%82%98%EC%98%A4%EB%8A%94-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%A3%BC%EB%8F%84-%EC%84%A4%EA%B3%84-DDD-Domain-Driven-Design-%EC%84%A4%EB%AA%85"><span class="toc-text">Ïó¨Í∏∞ÏÑú ÎÇòÏò§Îäî ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ (DDD, Domain-Driven Design) ÏÑ§Î™Ö</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%B6%84%ED%95%B4%EB%A1%9C-%EC%9D%B8%ED%95%B4-%EB%B0%9C%EC%83%9D%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98"><span class="toc-text">Î∂ÑÌï¥Î°ú Ïù∏Ìï¥ Î∞úÏÉùÎêòÎäî Î¨∏Ï†ú - Ìä∏ÎûúÏû≠ÏÖò</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2PC-2-Phase-Commit-%EB%9E%80"><span class="toc-text">2PC(2 Phase Commit) ÎûÄ?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%B3%B4%EC%83%81-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-Compensating-Transaction-%EB%9E%80"><span class="toc-text">Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò(Compensating Transaction) ÎûÄ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SAGA-%ED%8C%A8%ED%84%B4"><span class="toc-text">SAGA Ìå®ÌÑ¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SAGA-%ED%8C%A8%ED%84%B4-%EC%98%A4%EC%BC%80%EC%88%98%ED%8A%B8%EB%A0%88%EC%9D%B4%EC%85%98-Orchestration-%ED%8C%A8%ED%84%B4"><span class="toc-text">SAGA Ìå®ÌÑ¥ - Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EB%B6%84%EC%82%B0-%ED%8A%B8%EB%9E%99%EC%9E%AD%EC%85%98%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B5%AC%EA%B0%84-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0"><span class="toc-text">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏóêÏÑú Î∂ÑÏÇ∞ Ìä∏ÎûôÏû≠ÏÖòÏù¥ ÌïÑÏöîÌïú Íµ¨Í∞Ñ ÏïåÏïÑÎ≥¥Í∏∞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Axon-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%84%9C-Saga-%ED%8C%A8%ED%84%B4%EC%9C%BC%EB%A1%9C-%EB%B6%84%EC%82%B0-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EA%B5%AC%ED%98%84-%ED%95%B4%EB%B3%B4%EC%9E%90"><span class="toc-text">Axon Ïù¥Ïö©Ìï¥ÏÑú Saga Ìå®ÌÑ¥ÏúºÎ°ú Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ Ìï¥Î≥¥Ïûê</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Seller-%EB%93%B1%EB%A1%9D-%EC%84%A4%EA%B3%84-%EC%84%B1%EA%B3%B5"><span class="toc-text">Seller Îì±Î°ù ÏÑ§Í≥Ñ - ÏÑ±Í≥µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Seller-%EB%93%B1%EB%A1%9D-%EC%84%A4%EA%B3%84-%EC%8B%A4%ED%8C%A8"><span class="toc-text">Seller Îì±Î°ù ÏÑ§Í≥Ñ - Ïã§Ìå®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EA%B5%AC%ED%98%84-%EC%BD%94%EB%93%9C"><span class="toc-text">Íµ¨ÌòÑ ÏΩîÎìú</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-text">Reference</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ÏòàÏ†ú-ÏÜåÏä§-ÏΩîÎìú"><a href="#ÏòàÏ†ú-ÏÜåÏä§-ÏΩîÎìú" class="headerlink" title="ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìú"></a>ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìú</h1><p>Ïù¥Î≤à Î∏îÎ°úÍ∑∏Ïóê ÏÇ¨Ïö©ÎêòÎäî ÏΩîÎìúÎäî ÏïÑÎûò ÎßÅÌÅ¨ ÌÜµÌï¥ ÌôïÏù∏ Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/syh8088/MSA_project/tree/main/paymentMsa">https://github.com/syh8088/MSA_project/tree/main/paymentMsa</a></p>
<h2 id="Ïñ¥ÎñªÍ≤å-Î∂ÑÌï¥Î•º-Ìï¥Ïïº-Ìï†Íπå"><a href="#Ïñ¥ÎñªÍ≤å-Î∂ÑÌï¥Î•º-Ìï¥Ïïº-Ìï†Íπå" class="headerlink" title="Ïñ¥ÎñªÍ≤å Î∂ÑÌï¥Î•º Ìï¥Ïïº Ìï†Íπå?"></a>Ïñ¥ÎñªÍ≤å Î∂ÑÌï¥Î•º Ìï¥Ïïº Ìï†Íπå?</h2><p>Î∂ÑÌï¥Î•º Ïñ¥Îñ§ Í∏∞Ï§ÄÏúºÎ°ú Ìï¥Ïïº Ìï†ÍπåÏöî? ÏïûÏÑú Í∞ïÏ°∞Ìïú <code>Business Capability</code> ÏµúÎåÄÌïú Í∞ÄÏßÄÎ©¥ÏÑú Ïñ¥Îñ§ Î∞©Ìñ•ÏúºÎ°ú Î∂ÑÌï¥Î•º Ìï¥Ïïº Ìï†ÏßÄ Í≥†ÎØºÏù¥ Î∞úÏÉù Îê©ÎãàÎã§.</p>
<p>Í≤∞Î°†ÏùÄ ÏµúÎåÄÌïú <code>Business Capability</code> Ïú†ÏßÄÌïòÎ©¥ÏÑú Î∂ÑÌï¥Î•º Ìï¥Ïïº ÌïòÎäîÎç∞Ïöî. Í∑∏Îü∞Îç∞ ÏòàÎ•ºÎì§Ïñ¥ A ÏÑúÎπÑÏä§ ÌïòÍ≥† B ÏÑúÎπÑÏä§ Í∞Ñ ÌÜµÏã†Ïù¥ ÏßÄÎÇòÏπòÍ≤å Î∞úÏÉù ÎêúÎã§Î©¥ Ï¢ãÏùÄ <code>Business Capability</code> ÎùºÍ≥†Îäî Ìï† Ïàò ÏóÜÏùÑ Í≤É ÏûÖÎãàÎã§.</p>
<p>Ïó¨Í∏∞ÏÑú ÎåÄÌëúÏ†ÅÏúºÎ°ú 2Í∞ÄÏßÄ Î∞©Î≤ïÏúºÎ°ú Î∂ÑÌï¥ Í∏∞Ï§ÄÏù¥ ÏûàÏäµÎãàÎã§.</p>
<ol>
<li>ÎπÑÏ¶àÎãàÏä§ ÎèôÏûë</li>
<li>ÌïòÏúÑ ÎèÑÎ©îÏù∏ Ìå®ÌÑ¥</li>
</ol>
<p>Ïù¥Î†áÍ≤å 2Í∞ÄÏßÄÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.</p>
<h3 id="ÎπÑÏ¶àÎãàÏä§-ÎèôÏûë-Í∏∞Ï§ÄÏúºÎ°ú-Î∂ÑÎ¶¨"><a href="#ÎπÑÏ¶àÎãàÏä§-ÎèôÏûë-Í∏∞Ï§ÄÏúºÎ°ú-Î∂ÑÎ¶¨" class="headerlink" title="ÎπÑÏ¶àÎãàÏä§ ÎèôÏûë Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨"></a>ÎπÑÏ¶àÎãàÏä§ ÎèôÏûë Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨</h3><p><img src="/../../../img/MSA/paymentMsa/SeparateByBusinessBehavior.png" alt="ÎπÑÏ¶àÎãàÏä§ ÎèôÏûëÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨"></p>
<p>ÎπÑÏ¶àÎãàÏä§ ÎèôÏûëÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨ Í≤ΩÏö∞ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ (ÏÇ¨Ïö©Ïûê) ÏûÖÏû•ÏóêÏÑú Î≥¥ÏïòÏùÑÎïå ÎπÑÏ¶àÎãàÏä§ ÏöîÏ≤≠ Î≥ÑÎ°ú Í∞ÅÍ∞ÅÏùò ÏÑúÎπÑÏä§Î°ú Î∂ÑÎ¶¨ ÌïòÎäî Í≤ÉÏùÑ <code>ÎπÑÏ¶àÎãàÏä§ ÎèôÏûë Í∏∞Ï§Ä Î∂ÑÌï¥</code> ÎùºÍ≥† Ìï©ÎãàÎã§.</p>
<p>ÏóêÏãúÎ°ú Í≤∞Ï†ú ÏãúÏä§ÌÖúÏùÑ Î≥¥ÏïòÏùÑÎïå ‚ÄòÍ≤∞Ï†ú ÏÑúÎπÑÏä§‚Äô, ‚ÄòÏ†ïÏÇ∞ ÏÑúÎπÑÏä§‚Äô, ‚ÄòÌöåÏõê ÏÑúÎπÑÏä§‚Äô Ïù¥Î†áÍ≤å ÏÇ¨Ïö©Ïûê ÏûÖÏû•ÏóêÏÑú ÎπÑÏ¶àÎãàÏä§ ÏöîÏ≤≠ Í∏∞Ï§Ä Î≥ÑÎ°ú Í∞ÅÍ∞ÅÏùò ÏÑúÎπÑÏä§Î°ú Î∂ÑÎ¶¨ Ìï† Ïàò ÏûàÍ≤†ÏäµÎãàÎã§.</p>
<p>ÎπÑÏ¶àÎãàÏä§ ÎèôÏûë Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨ Ìï† Í≤ΩÏö∞ Í∞ÅÍ∞ÅÏùò Î∂ÑÎ¶¨Îêú ÏÑúÎπÑÏä§Í∞Ä ÎØ∏ÎûòÏóê ÎπÑÏ¶àÎãàÏä§ Î≥ÄÌôîÍ∞Ä Ï†ÅÏùÑ Í≤ΩÏö∞ÏóêÎäî Ï†ÅÏ†à Ìï† Ïàò ÏûàÎäîÎç∞Ïöî. ÏïûÏÑú ÏòàÏãúÎ°ú ÏÑ§Î™Ö ÎìúÎ¶∞ Î∂ÑÎ¶¨Îêú ‚ÄòÍ≤∞Ï†ú ÏÑúÎπÑÏä§‚Äô Í≤ΩÏö∞</p>
<p>ÏïûÏúºÎ°ú ÎπÑÏ¶àÎãàÏä§ Î≥ÄÌôîÍ∞Ä ÏûàÎã§Î©¥, Ï¶â Í≤∞Ï†ú ÏÑúÎπÑÏä§ÏóêÏÑú ‚ÄòÏø†Ìè∞ ÏÑúÎπÑÏä§‚Äô, ‚ÄòÎ∞∞Îã¨ ÏÑúÎπÑÏä§‚Äô Îì± Ï∂îÍ∞ÄÍ∞Ä ÎêòÎ©¥ÏÑú ÏÑúÎ°ú ÎπàÎ≤àÌïòÍ≤å Ïó∞Í≥ÑÎêòÎäî ÏÉÅÌô©Ïù¥ Î∞úÏÉùÌïúÎã§Î©¥ Ïù¥Í≤ÉÏùÄ Ï†ÅÏ†àÌïú ÏÑúÎπÑÏä§ Î∂ÑÎ¶¨Í∞Ä ÏïÑÎãêÏàòÎèÑ ÏûàÍ≤†ÏäµÎãàÎã§.</p>
<p>Î∞òÎåÄÎ°ú ‚ÄòÏø†Ìè∞ ÏÑúÎπÑÏä§‚Äô, ‚ÄòÎ∞∞Îã¨ ÏÑúÎπÑÏä§‚Äô Îì± Ï∂îÍ∞ÄÍ∞Ä ÎêòÏßÄ ÏïäÎäîÎã§Î©¥ Ï†ÅÏ†àÌïú ÏÑ†ÌÉù ÏùºÏàòÎèÑ ÏûàÍ≤†ÏäµÎãàÎã§.</p>
<h3 id="ÌïòÏúÑ-ÎèÑÎ©îÏù∏-Ìå®ÌÑ¥-Í∏∞Ï§ÄÏúºÎ°ú-Î∂ÑÎ¶¨-from-ÎèÑÎ©îÏù∏-Ï£ºÎèÑ-ÏÑ§Í≥Ñ-DDD"><a href="#ÌïòÏúÑ-ÎèÑÎ©îÏù∏-Ìå®ÌÑ¥-Í∏∞Ï§ÄÏúºÎ°ú-Î∂ÑÎ¶¨-from-ÎèÑÎ©îÏù∏-Ï£ºÎèÑ-ÏÑ§Í≥Ñ-DDD" class="headerlink" title="ÌïòÏúÑ ÎèÑÎ©îÏù∏ Ìå®ÌÑ¥ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨ (from ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ - DDD)"></a>ÌïòÏúÑ ÎèÑÎ©îÏù∏ Ìå®ÌÑ¥ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨ (from ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ - DDD)</h3><p>ÌïòÏúÑ ÎèÑÎ©îÏù∏ Ìå®ÌÑ¥ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨ Í≤ΩÏö∞ ÎèÑÎ©îÏù∏Ïùò Î≥µÏû°ÏÑ±ÏùÑ Ïù¥Ìï¥ÌïòÍ≥†, ÎèÑÎ©îÏù∏Ïùò Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÎäîÎç∞ ÏßëÏ§ëÌïòÏó¨ Î∂ÑÎ¶¨ ÌïòÎäî Î∞©Ïãù ÏûÖÎãàÎã§.</p>
<p>ÎπÑÏ¶àÎãàÏä§ ÏöîÍµ¨ ÏÇ¨Ìï≠Ïùò Î≥ÄÌôîÍ∞Ä ÎßéÏùÑ Í≤ΩÏö∞ÏóêÎäî Ïù¥Ïóê ÎåÄÏùë ÌïòÏó¨ <code>Business Capability</code> ÏàòÏ§ÄÏùÑ Ï†ÅÏ†àÌïòÍ≤å ÎåÄÏùë ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî <code>ÌïòÏúÑ ÎèÑÎ©îÏù∏ Ìå®ÌÑ¥ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨</code> Í∞Ä Ï†ÅÏ†à Ìï† ÏàòÎèÑ ÏûàÍ≤†ÏäµÎãàÎã§.</p>
<p>ÏïûÏç® ÎèôÏùºÌïú ÏòàÏãúÎ°ú Í∏∞Ï°¥Ïóê <code>ÎπÑÏ¶àÎãàÏä§ ÎèôÏûë Í∏∞Ï§Ä ÏúºÎ°ú Î∂ÑÎ¶¨</code> Ìïú ‚ÄòÍ≤∞Ï†ú ÏÑúÎπÑÏä§‚Äô, ‚ÄòÏ†ïÏÇ∞ ÏÑúÎπÑÏä§‚Äô, ‚ÄòÌöåÏõê ÏÑúÎπÑÏä§‚Äô Î°ú ÏÑ§Î™ÖÌïòÏûêÎ©¥ Ïù¥ Ï§ëÏóê ‚ÄòÍ≤∞Ï†ú ÏÑúÎπÑÏä§‚Äô Îäî<br>Ï†ÅÏ†àÌïú <code>Business Capability</code> ÏöîÍµ¨ÏÇ¨Ìï≠ÏùÑ Ï∂©Ï°±ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú  ‚ÄòÏø†Ìè∞ ÏÑúÎπÑÏä§‚Äô, ‚ÄòÎ∞∞Îã¨ ÏÑúÎπÑÏä§‚Äô ÏúºÎ°ú ÌååÏÉùÎêòÏñ¥ÏÑú ÌïòÏúÑ ÎèÑÎ©îÏù∏ Í∏∞Ï§ÄÏúºÎ°ú Î∂ÑÎ¶¨ Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
<p>Í≤∞Íµ≠ÏùÄ ÎπÑÏ¶àÎãàÏä§Î•º ÏãùÎ≥Ñ ÌïòÎäî Í≤ÉÏùÄ Í∞ÄÏû• Ïö∞ÏÑ†ÏàúÏúÑÎäî Î∂ÑÎ¶¨Îêú Í∞ÅÍ∞ÅÏùò ÏÑúÎπÑÏä§Í∞Ä Ï†ÅÏ†àÌïòÍ≤å <code>Business Capability</code> ÏöîÍµ¨ ÏÇ¨Ìï≠Ïóê Ï†ÅÏ†àÌïúÏßÄÎ•º Ï≤¥ÌÅ¨ ÌïòÎäîÍ≤ÉÏù¥ Ï§ëÏöîÌïòÎã§Í≥† Î≥º Ïàò ÏûàÍ≤†ÏäµÎãàÎã§.</p>
<h3 id="Ïó¨Í∏∞ÏÑú-ÎÇòÏò§Îäî-ÎèÑÎ©îÏù∏-Ï£ºÎèÑ-ÏÑ§Í≥Ñ-DDD-Domain-Driven-Design-ÏÑ§Î™Ö"><a href="#Ïó¨Í∏∞ÏÑú-ÎÇòÏò§Îäî-ÎèÑÎ©îÏù∏-Ï£ºÎèÑ-ÏÑ§Í≥Ñ-DDD-Domain-Driven-Design-ÏÑ§Î™Ö" class="headerlink" title="Ïó¨Í∏∞ÏÑú ÎÇòÏò§Îäî ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ (DDD, Domain-Driven Design) ÏÑ§Î™Ö"></a>Ïó¨Í∏∞ÏÑú ÎÇòÏò§Îäî ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ (DDD, Domain-Driven Design) ÏÑ§Î™Ö</h3><p><code>ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ (DDD, Domain-Driven Design)</code> Îäî ÌïòÎÇòÏùò ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ Í∞úÎ∞ú Î∞©Î≤ïÎ°†ÏúºÎ°ú, Î≥µÏû°Ìïú ÎèÑÎ©îÏù∏ÏùÑ Ïù¥Ìï¥ÌïòÍ≥† Ìï¥Í≤∞ÌïòÎäîÎç∞ Î™©Ï†ÅÏùÑ Í∞ÄÏßÄÍ≥† Ïù¥Ïóê ÏßëÏ§ëÌïòÎäî Î∞©Î≤ïÎ°† ÏûÖÎãàÎã§.</p>
<p><code>ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ</code> ÎÇòÌÉÄÎÇòÍ∏∞ Ï†ÑÏóêÎäî ÎèÑÎ©îÏù∏Ïù¥ Î≥µÏû°Ìï¥ÏßÄÎ©¥ÏÑú Î∞úÏÉùÌïòÎäî Î¨∏Ï†úÎì§Ïù¥ ÎßéÏïòÏóàÎäîÎç∞ Ïù¥ÏóêÎî∞Îùº Ïú†ÏßÄÎ≥¥ÏàòÍ∞Ä Ïñ¥Î†µÎã§Îäî Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ ÌÉÑÏÉùÎêú Í∞úÎ∞ú Î∞©Î≤ïÎ°† Ïù¥ÎùºÍ≥† Î≥¥Î©¥ Îê† Í≤É Í∞ôÏäµÌã∞Îã§.</p>
<p>MSA ÏßÑÌñâÌïòÎäîÎç∞ ÏûàÏñ¥ÏÑú Î∂ÑÎ¶¨ ÌïòÎäî Í≥ºÏ†ïÏóê <code>ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ</code> ÌïòÍ≥† Î¨¥Ïä® Í¥ÄÍ≥ÑÍ∞Ä ÏûàÏùÑÍπå? ÏÉùÍ∞Å Ìï† ÏàòÎèÑ ÏûàÎäîÎç∞ <code>ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ</code> ÌïµÏã¨ ÏõêÏπôÏù∏ <code>Bounded Context</code> ÏôÄ <code>Sub Domain</code> Í∞úÎÖêÏù¥ MSA Î™©Ï†ÅÍ≥º Í∞ôÍ∏∞ ÎïåÎ¨∏ ÏûÖÎãàÎã§.</p>
<p>Ï¶â <code>ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ (DDD, Domain-Driven Design)</code> Ïùò ÌïµÏã¨ Í∞úÎÖêÎì§ÏùÄ MSA Ïùò Ï±ÖÏã¨ Í∞úÎÖêÏù¥ÏóàÎçò Í∞úÎ≥Ñ ÌåÄÏù¥ Product Î°úÏç® ÏÑúÎπÑÏä§Î•º ÏÜåÏú†ÌïúÎã§Îäî ÏÇ¨Í≥† Î∞©ÏãùÍ≥º Í∞ôÎã§Îäî Í≤É ÏûÖÎãàÎã§.</p>
<p><code>ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ (DDD, Domain-Driven Design)</code> ÏóêÏÑú Ï§ëÏöîÌïú ÌÇ§ÏõåÎäî <code>Bounded Context</code> ÏôÄ <code>Sub Domain</code> Ï°¥Ïû¨ÌïúÎã§Í≥† ÌñàÏäµÎãàÎã§.</p>
<p><img src="/../../../img/MSA/paymentMsa/Bounded_Context.png" alt="Bounded Context"></p>
<p>Ïó¨Í∏∞ÏÑú ÎßêÌïòÎäî <code>Bounded Context</code> Îäî Ï†ïÏùòÌïú Ïó¨Îü¨ ÎèÑÎ©îÏù∏Îì§ Í∏∞Ï§ÄÏúºÎ°ú Í∞Å ÎèÑÎ©îÏù∏ Î™®Îç∏Îì§Ïùò Í¥ÄÍ≥Ñ ÌëúÌòÑ Ïãú Í∞Å Î™®Îç∏Îì§ÏùÄ ÏÉÅÌò∏ Î∞∞ÌÉÄÏ†ÅÏù∏ ÎëîÏ†úÎ•º Ìï¥Í≤∞Ìï¥ÏïºÎßå ÌïúÎã§Îäî <code>ÎèÑÎ©îÏù∏ Ï£ºÎèÑ ÏÑ§Í≥Ñ DDD</code> Ïùò ÌïµÏã¨ÏõêÏπô ÏûÖÎãàÎã§.</p>
<p>Ïù¥ÎØ∏ÏßÄÎ•º Î≥¥ÏãúÎ©¥ ‚ÄòÏ£ºÎ¨∏ ÎèÑÎ©îÏù∏‚Äô Í≤ΩÏö∞ ‚ÄòÏ£ºÎ¨∏‚Äô, ‚ÄòÍ≤∞Ï†ú‚Äô, ‚ÄòÏø†Ìè∞‚Äô Î°ú Î∂ÑÎ¶¨ ÎêúÎã§Í≥† Í∞ÄÏ†ïÏãú Í∞ÅÍ∞ÅÏùò Î™®Îç∏ ÏòÅÏó≠ÏóêÏÑú Î™ÖÌôïÌïú Bounded Î•º Í∞ÄÏßÄÍ≥† Î∂ÑÎ¶¨ Îê† Ïàò ÏûàÍ≤†ÏäµÎãàÎã§.<br>Í∞ÅÍ∞ÅÏùò ‚ÄòÏ£ºÎ¨∏‚Äô, ‚ÄòÍ≤∞Ï†ú‚Äô, ‚ÄòÏø†Ìè∞‚Äô Î™®Îç∏ÏùÄ ÌïòÎÇòÏùò Í∏∞Îä•ÏùÑ ÏßëÏ§ë ÌïòÎØÄÎ°úÏç® ÏÑúÎ°ú Î∞∞ÌÉÄÏ†ÅÏù∏ Î¨∏Ï†úÎ•º Í∞ÄÏßÄÎäî Í≤ÉÏù¥ <code>Bounded Context</code> Ïùò ÌïµÏã¨ ÏõêÏπô ÏûÖÎãàÎã§.</p>
<p>Îã§ÏùåÏúºÎ°ú ÏÑ§Î™ÖÌïòÎäî <code>Sub Domain</code> Í≤ΩÏö∞Îäî Ïù¥Î†áÍ≤å Ï†ïÏùòÌïú ÎèÑÎ©îÏù∏ ÎèÑÎç∏Îì§Ïù¥ <code>Bounded Context</code> ÏõêÏπôÏóê Îî∞ÎùºÏÑú <code>Business Capability</code> Î•º ÎÜíÏù¥ÎèÑÎ°ù ÏÑ§Í≥Ñ Î∞è Î∂ÑÎ¶¨ ÌïòÎäî ÏõêÏπô Ïù¥ÎùºÍ≥† Î≥¥Î©¥ Îê©ÎãàÎã§.<br>Îã§Î•¥Í≤å ÎßêÏîÄÎìúÎ¶¨ÏûêÎ©¥ ÎπÑÏ¶àÎãàÏä§ ÎèôÏûëÏúºÎ°ú Î∂ÄÌÑ∞ ÏãùÎ≥ÑÎêú ÎèôÏûëÏùÑ <code>Business Capability</code> ÏöîÍµ¨Ïóê ÎßûÍ≤å Î∂ÑÎ¶¨ÎêúÍ≤ÉÏùÑ Îßê Ìï©ÎãàÎã§. Ïù¥Î†áÍ≤å Î∂ÑÎ¶¨Îêú <code>Bounded Context</code> ÏõêÏπôÏóê Îî∞ÎùºÏÑú Î∂ÑÎ¶¨ Ìï¥Ïïº Ìï©ÎãàÎã§.</p>
<h2 id="Î∂ÑÌï¥Î°ú-Ïù∏Ìï¥-Î∞úÏÉùÎêòÎäî-Î¨∏Ï†ú-Ìä∏ÎûúÏû≠ÏÖò"><a href="#Î∂ÑÌï¥Î°ú-Ïù∏Ìï¥-Î∞úÏÉùÎêòÎäî-Î¨∏Ï†ú-Ìä∏ÎûúÏû≠ÏÖò" class="headerlink" title="Î∂ÑÌï¥Î°ú Ïù∏Ìï¥ Î∞úÏÉùÎêòÎäî Î¨∏Ï†ú - Ìä∏ÎûúÏû≠ÏÖò"></a>Î∂ÑÌï¥Î°ú Ïù∏Ìï¥ Î∞úÏÉùÎêòÎäî Î¨∏Ï†ú - Ìä∏ÎûúÏû≠ÏÖò</h2><p>Í∏∞Ï°¥ <code>Î™®ÎÜÄÎ¶¨Ïä§</code> Î∞©ÏãùÏóêÏÑú Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑÏùÄ ÏâΩÍ≥† Í∞ÑÎã®Ìï©ÎãàÎã§. DB Îç∞Ïù¥ÌÑ∞ Î≤†Ïù¥Ïä§ ÏßÅÍ¥ÄÏ†ÅÏúºÎ°ú Ïó∞Í≥ÑÎêòÍ≥† ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê Í¥ÄÎ¶¨ Ìè¨Ïù∏Ìä∏Í∞Ä ÎπÑÍµêÏ†Å ÏâΩÏäµÎãàÎã§.<br>ÌïòÏßÄÎßå <code>MSA</code> ÏóêÏÑú Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑÏùÄ ÍµâÏû•Ìûà Ïñ¥Î†µÍ≥† Í¥ÄÎ¶¨ Ìè¨Ïù∏Ìä∏Í∞Ä ÎßéÏäµÎãàÎã§.<br>Í∞Å ÏÑúÎπÑÏä§ ÎßàÎã§ Í∞ÅÍ∞ÅÏùò Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Î°ú Î∂ÑÎ¶¨ÎêòÏñ¥ ÏûàÎäî <code>MSA</code> ÌôòÍ≤ΩÏùÄ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑ Ìï† Ïàò ÏûàÏñ¥Ïïº Ìï©ÎãàÎã§. Ïù¥Î•º ÏúÑÌï¥<br><code>2PC(2 Phase Commit)</code>, <code>Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò(Compensating Transaction)</code>, <code>SAGA</code> Í∞ôÏùÄ Ïó¨Îü¨Í∞ÄÏßÄ Î∞©Î≤ïÏúºÎ°ú Ìï¥Í≤∞ Ìï©ÎãàÎã§.</p>
<h3 id="2PC-2-Phase-Commit-ÎûÄ"><a href="#2PC-2-Phase-Commit-ÎûÄ" class="headerlink" title="2PC(2 Phase Commit) ÎûÄ?"></a>2PC(2 Phase Commit) ÎûÄ?</h3><p>Ï¥àÍ∏∞ÏóêÎäî Îã§ÏàòÏùò Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÎÖ∏Îìú ÌôòÍ≤ΩÏóêÏÑú Ïª§Î∞ãÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ ÎÇòÌÉÄÎÇ¨ÏäµÎãàÎã§. Ï†êÏ†ê Î∞úÏ†ÑÎêòÏñ¥ Î∂ÑÏÇ∞ ÏãúÏä§ÌÖú ÌôòÍ≤ΩÏóêÏÑú Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ ÎåÄÌëúÏ†ÅÏù∏ Î∞©Î≤ïÏúºÎ°ú Î∞úÏ†Ñ Ìï¥ÏôîÏäµÎãàÎã§.</p>
<p>2PC Î•º Íµ¨ÌòÑ ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî Î∂ÑÏÇ∞ ÏãúÏä§ÌÖú ÌôòÍ≤ΩÏóê <code>Cordinator</code> ÎùºÎäî Ï∂îÍ∞ÄÏ†ÅÏù∏ Ïù∏ÌîÑÎùºÍ∞Ä ÌïÑÏöîÌïòÍ≥†, Ìä∏ÎûúÏû≠ÏÖòÏùÑ ÏúÑÌïú ÏÑúÎπÑÏä§Îì§ÏùÑ <code>Participant (Ï∞∏Ïó¨Ïûê)</code> Ïù¥ÎùºÍ≥† ÎßêÌï©ÎãàÎã§.</p>
<p>Ïó¨Í∏∞ÏÑú ÎßêÌïòÎäî <code>Cordinator</code> Ïó≠ÌôúÏùÄ MSA Í∞ôÏùÄ Î∂ÑÏÇ∞ ÏÑúÎ≤ÑÏóêÏÑú Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ Ï§ëÏïôÏóê Í¥ÄÎ¶¨ Ìï¥Ï£ºÎäî Ïó≠ÌôúÏùÑ ÌïòÍ≥† ÏûàÏäµÎãàÎã§.</p>
<p>&#x2F;&#x2F; Ïù¥ÎØ∏ÏßÄ</p>
<p><code>Cordinator</code> <code>Participant-1</code>, <code>Participant-2</code>, <code>Participant-3</code> Ïù¥Î†áÍ≤å ÏûàÎã§Í≥† ÌïòÎ©¥ Í∞ÄÏû• Î®ºÏ†Ä Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÏãúÏûëÎêòÎ©¥ <code>Cordinator</code> Í∞Ä Global Unique ID (Transaction ID) Î•º ÏÉùÏÑ± ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>Í∑∏Îü∞ Îã§Ïùå <code>Cordinator</code> Îäî <code>Participant-1</code> ~ <code>Participant-3</code> ÍπåÏßÄ <code>prepare request</code> ÏöîÏ≤≠ÏùÑ Ìï©ÎãàÎã§. Ïù¥Îïå Ìä∏ÎûúÏû≠ÏÖòÏù¥ ÏãúÏûëÍ≥º ÎèôÏãúÏóê ÎèôÏãúÏÑ±ÏùÑ Î≥¥Ïû• ÌïòÍ∏∞ ÏúÑÌï¥ Lock ÏãúÏûë ÌïòÍ≤å Îê©ÎãàÎã§.<br>Í∞ÅÍ∞ÅÏùò <code>Participant</code> Îì§Ïù¥ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Ï≤òÎ¶¨ ÌõÑ DB ÏóÖÎç∞Ïù¥Ìä∏ Ìïú Ïù¥ÌõÑÏóê Ï§ÄÎπÑ Í∞Ä ÎêòÏóàÎã§Í≥† <code>Cordinator</code> ÏóêÍ≤å Vote Î•º ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>Ïó¨Í∏∞ÍπåÏßÄÎäî Ï†ÑÏ≤¥Ï†ÅÏù∏ <code>Prepare</code> Îã®Í≥ÑÏù¥Í≥† Í∑∏ Îã§Ïùå Îã®Í≥ÑÎäî <code>Cordinator</code> Îäî Ìï¥Îãπ Vote Í≥ÑÏÇ∞Ìï¥ÏÑú Î™®Îëê Ï†ïÏÉÅÏ†ÅÏúºÎ°ú commit Ìï¥ÎèÑ ÎêúÎã§Îäî <code>Commit Intialized</code> Ïã†Ìò∏Î•º Ï†ÑÎã¨ ÌïòÍ≤å Îê©ÎãàÎã§. Í∑∏Îü∞ ÌõÑ <code>Participant</code> Îì§ÏùÄ commit Ï≤òÎ¶¨ ÌïòÍ≤å ÏôÑÎ£åÍ∞Ä Îê©ÎãàÎã§.</p>
<p>ÌïòÏßÄÎßå ÌäπÏ†ï <code>Participant</code> ÏóêÏÑú DB ÏóÖÎç∞Ïù¥Ìä∏ ÌïòÎäî Í≥ºÏ†ïÏóêÏÑú Î¨∏Ï†úÍ∞Ä Î∞úÏÉù Ïãú <code>Cordinator</code> ÏóêÍ≤å Ï§ÄÎπÑ ÌïòÎäî Í≥ºÏ†ïÏóêÏÑú Î¨∏Ï†úÍ∞Ä Î∞úÏÉù ÌñàÎã§Í≥† Ï†ÑÎã¨ ÌïòÍ≤å ÎêòÎäîÎç∞Ïöî.<br>Ïù¥Î•º Ï†ÑÎã¨ Î∞õÏùÄ <code>Cordinator</code> ÏùÄ <code>Participant</code> Îì§ÏóêÍ≤å <code>Abort</code> Ïã†Ìò∏Î•º Ï†ÑÎã¨Ìï¥ÏÑú Ï≤òÎ¶¨ ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>ÌïòÏßÄÎßå 2PC Í∞Ä Î≥¥Ìé∏Ï†ÅÏúºÎ°ú ÌôúÏö©ÎêòÏßÄ ÏïäÎäî Ïó¨Îü¨ Ïù¥Ïú†Í∞Ä ÏûàÎäîÎç∞ <code>Cordinator</code> Í∞Ä <code>Participant</code> Îì§ÏóêÍ≤å <code>Request to prepare</code> Ïã†Ìò∏Î•º Ï†ÑÎã¨ Ïãú<br><code>Participant</code> Îì§ÏùÄ Lock ÏùÑ Í±∏Í≥† <code>Cordinator</code> ÏóêÍ≤å Ï§ÄÎπÑ ÎêòÏóàÎã§Í≥† Ï†ÑÎã¨ Ìï†Îïå <code>Cordinator</code> ÏÑúÎ≤ÑÍ∞Ä Î¨∏Ï†úÍ∞Ä Î∞úÏÉù ÎêòÏñ¥ ÌÜµÏã†ÏùÑ Ìï† Ïàò ÏóÜÎäî ÏÉÅÌô©Ïù¥ Ïò®Îã§Î©¥<br>Lock ÏùÑ Í±∏Ïñ¥ÎÜìÍ≥† Î©àÏ∂∞Î≤ÑÎ¶¨Îäî Î¨∏Ï†úÍ∞Ä Î∞úÏÉù Îê©ÎãàÎã§.</p>
<h2 id="Î≥¥ÏÉÅ-Ìä∏ÎûúÏû≠ÏÖò-Compensating-Transaction-ÎûÄ"><a href="#Î≥¥ÏÉÅ-Ìä∏ÎûúÏû≠ÏÖò-Compensating-Transaction-ÎûÄ" class="headerlink" title="Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò(Compensating Transaction) ÎûÄ?"></a>Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò(Compensating Transaction) ÎûÄ?</h2><p>&#x2F;&#x2F; Ïù¥ÎØ∏ÏßÄ Ï§ÄÎπÑ</p>
<p><code>Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò</code>Îäî MSA Í∞ôÏùÄ Î∂ÑÏÇ∞ ÏãúÏä§ÌÖú ÌôòÍ≤ΩÏóêÏÑú Ìä∏ÎûúÏû≠ÏÖòÏùÑ Ïú†ÏßÄÌïòÍ∏∞ ÏúÑÌïú Î∞©Î≤ï Ï§ë ÌïòÎÇò ÏûÖÎãàÎã§.<br>DBMS Í∏∞Ï§ÄÏúºÎ°ú <code>commit</code> Îêú Îç∞Ïù¥ÌÑ∞Î•º <code>commit</code> ÎêòÍ∏∞ Ïù¥Ï†ÑÏùò ÏÉÅÌÉúÎ°ú Î≥ÄÍ≤ΩÌïòÎäî ÏûëÏóÖ ÏùÑ <code>Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò</code> Ïù¥ÎùºÍ≥† ÎßêÌï©ÎãàÎã§.</p>
<p>Í∑∏Îüº MSA ÌôòÍ≤ΩÏóêÏÑúÎäî ÌäπÏ†ï API Ìò∏Ï∂úÎ°ú Ïù∏Ìï¥ <code>commit</code> Îêú Îç∞Ïù¥ÌÑ∞Î•º Ïñ¥Îäê Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÎêòÏñ¥ÏÑú <code>commit</code> ÎêòÍ∏∞ Ïù¥Ï†ÑÏùò ÏÉÅÌÉúÎ°ú ÎêòÎèåÏïÑ Í∞ÄÍ∏∞ ÏúÑÌï¥<br>ÎêòÎèåÎ¶¨Í∏∞ ÏúÑÌïú API Î•º Ìò∏Ï∂ú ÌïòÎØÄÎ°úÏç® Ïù¥Ï†ÑÏùò Îç∞Ïù¥ÌÑ∞ Î≥ÄÍ≤Ω ÏöîÏ≤≠ÏùÑ ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>Ïù¥Îü¨Ìïú Î∞©ÏãùÏúºÎ°ú Í∞úÎ∞úÏãú <code>commit</code> ÎêòÍ∏∞Ï†Ñ ÏÉÅÌÉúÎ°ú ÎßåÎì§Í∏∞ ÏúÑÌïú API Í∞úÎ∞úÎèÑ ÌïÑÏöîÌïòÍ∏∞ ÎïåÎ¨∏Ïóê ÏûëÏóÖÎüâÏùÑ Îçî ÎäòÏñ¥ÎÇúÎã§Îäî Í≤É ÏûÖÎãàÎã§.<br>Ïù¥Îïå Í≥†Î†§Ìï¥Ïïº ÎêòÎäî Î∂ÄÎ∂ÑÏùÄ Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò ÏöîÏ≤≠Ïãú ÏßÄÏó∞ ÌòπÏùÄ Ïã§Ìå® Î¨∏Ï†úÍ∞Ä ÏÉùÍ∏∞Îäî Í≤ΩÏö∞ ÎπÑÏ¶àÎãàÏä§ ÏÉÅÌô©Ïóê ÎßûÎäî ÌõÑÏÜç Ï≤òÎ¶¨Í∞Ä ÌïÑÏöîÌïòÍ≤å Îê©ÎãàÎã§.</p>
<h2 id="SAGA-Ìå®ÌÑ¥"><a href="#SAGA-Ìå®ÌÑ¥" class="headerlink" title="SAGA Ìå®ÌÑ¥"></a>SAGA Ìå®ÌÑ¥</h2><p>ÏïûÏÑú ÎßêÏîÄÎìúÎ¶∞ <code>2PC</code>, <code>Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò</code> ÏóêÏÑú Î∂ÑÏÇ∞ ÏãúÏä§ÌÖú ÌôòÍ≤ΩÏóêÏÑú Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌïú Î∞©Î≤ïÏúºÎ°ú ÏÜåÍ∞ú Ìï¥ÎìúÎ†∏ÏäµÎãàÎã§.<br>ÌïòÏßÄÎßå Í∞ÅÍ∞ÅÏùò Î∞©Î≤ïÏóêÏÑú Îã®Ï†êÏù¥ Ï°¥Ïû¨ Ìï©ÎãàÎã§. Î™®Îì† Í∏∞Ïà†Ïóê Ìä∏Î†àÏù¥Îìú Ïò§ÌîÑÍ∞Ä Ï°¥Ïû¨ÌïòÏßÄÎßå <code>SAGA Ìå®ÌÑ¥</code> Ïóê ÎåÄÌï¥ÏÑúÎèÑ ÏÑ§Î™Ö ÌïòÍ≥†Ïûê Ìï©ÎãàÎã§.</p>
<p><code>SAGA Ìå®ÌÑ¥</code>ÏùÄ Ïù¥Î≤§Ìä∏ Î∞©ÏãùÏùò Ìä∏ÎûúÏû≠ÏÖòÏóê Ìè¨Ìï®Îêú Ïó¨Îü¨ ÏûëÏóÖÎì§ÏùÑ Í≤∞Í≥ºÎ•º Ï†úÏãúÌïòÍ≥† Ïù¥Î≤§Ìä∏Î•º Ïù¥Ïö©Ìï¥ ÎπÑÎèôÍ∏∞Î°ú Ï≤òÎ¶¨ÌïòÎäî Î∞©Ïãù ÏûÖÎãàÎã§.  ÏïûÏç® Ïù¥ÏïºÍ∏∞Ìïú <code>2PC</code>, <code>Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò</code> Ïû•Ï†êÏùÑ Í∞ÄÏ†∏ÏôÄÏÑú ÎßåÎì† Ìå®ÌÑ¥Ïù∏Îç∞Ïöî.</p>
<p>ÏòàÎ•ºÎì§Ïñ¥ ‚ÄòÏûëÏóÖ1<code>~ &#39;ÏûëÏóÖ3&#39; Ïù¥ Ï°¥Ïû¨ÌïúÎã§Î©¥</code>ÏûëÏóÖ 1&#96; ÏùÑ Ïã§Ìñâ ÌõÑ ÏÑ±Í≥µÎêúÎã§Î©¥ ÏÑ±Í≥µ Ïù¥Î≤§Ìä∏ Î∞úÌñâ ÌïòÍ≤å Îê©ÎãàÎã§. ‚ÄòÏûëÏóÖ2‚Äô Îäî consume Ìï¥ÏÑú Ìï¥Îãπ ÏûëÏóÖÏùÑ Ïã§Ìñâ Ìï¥ÏÑú<br>Í∞ôÏùÄ Î∞©Î≤ïÏúºÎ°ú ‚ÄòÏûëÏóÖ3‚Äô ÍπåÏßÄ ÏßÑÌñâÌïòÍ≤å Îê©ÎãàÎã§. Ïù¥ÎØ∏ÏßÄÎ•º Î≥¥Î©¥ÏÑú ÏûêÏÑ∏ÌïòÍ≤å ÏÑ§Î™Ö ÌïòÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.</p>
<p><img src="/../../../img/MSA/paymentMsa/SAGA_example.png" alt="SAGA_Ìå®Îçò ÏòàÏãú"></p>
<p>A ÏÑúÎπÑÏä§ Î∂ÄÌÑ∞ C ÏÑúÎπÑÏä§ÍπåÏßÄ Ï°¥Ïû¨Ïãú ÏàúÏÑúÎäî A -&gt; B -&gt; C ÍπåÏßÄ Í∞ÅÍ∞ÅÏùò Ïò§ÌçºÎ†àÏù¥ÏÖòÏùÑ Ïã§Ìñâ Ìï©ÎãàÎã§. Ï≤òÏùåÏóê A ÏÑúÎπÑÏä§Í∞Ä Ïã§Ìñâ ÎèôÏãúÏóê Ìä∏ÎûúÏû≠ÏÖò ÏãúÏûëÏùÑ ÌïòÍ≤å ÎêòÍ≥† ÏûëÏóÖÏù¥ ÎÅùÎÇòÎ©¥ B ÏÑúÎπÑÏä§Ïóê ÏûëÏóÖ ÏãúÏûë Ïù¥Î≤§Ìä∏Î•º ÏùòÎØ∏ ÌïòÎäî<br>Ïù¥Î≤§Ìä∏ Î©îÏãúÏßÄÎ•º Î∞úÌñâ Ìï©ÎãàÎã§. B ÏÑúÎπÑÏä§Îäî consume Ìï¥ÏÑú Ìä∏ÎûúÏû≠ÏÖòÏùÑ ÏãúÏûë ÌõÑ ÎèôÏùºÌïú Î∞©Î≤ïÏúºÎ°ú ÏûëÏóÖÏù¥ ÎÅùÎÇòÎ©¥ C ÏÑúÎπÑÏä§Ïóê Ï†ÑÎã¨ ÌïòÍ∏∞ ÏúÑÌïú Ïù¥Î≤§Ìä∏ Î©îÏãúÏßÄÎ•º Î∞úÌñâ Ìï©ÎãàÎã§.</p>
<p><img src="/../../../img/MSA/paymentMsa/SAGA_rollback_example.png" alt="SAGA_Ìå®Îçò Î°§Î∞± ÏòàÏãú"></p>
<p>ÎßåÏïΩ A ÏÑúÎπÑÏä§ Î∂ÄÌÑ∞ ÏãúÏûëÌïòÎã§Í∞Ä C ÏÑúÎπÑÏä§ ÏóêÏÑú Exception Ïù¥ Î∞úÏÉù ÎêúÎã§Î©¥ C ÏÑúÎπÑÏä§Îäî B ÏÑúÎπÑÏä§ÏóêÍ≤å rollback ÌïòÍ∏∞ ÏúÑÌïú Î©îÏãúÏßÄ Ïù¥Î≤§Ìä∏Î•º Î∞úÌñâ ÌïòÍ≤å ÎêòÍ≥†</p>
<p>ÎèôÏùºÌïú Î∞©Î≤ïÏúºÎ°ú A ÏÑúÎπÑÏä§ÍπåÏßÄ Ïù¥Î≤§Ìä∏ Î©îÏãúÏßÄ ÌÜµÌï¥ Ï†ÑÎã¨ ÌïòÍ≤å Îê©ÎãàÎã§. Ï¶â Ïù¥Î≤§Ìä∏ Í∏∞Î∞òÏúºÎ°ú ÏÑ±Í≥µ Î∞è Ïã§Ìå®Î•º Ï£ºÍ±∞Îãà Î∞õÍ±∞Îãà ÌïòÍ≥† ÏûàÏäµÎãàÎã§.</p>
<p><code>SAGA Ìå®ÌÑ¥</code> ÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ ÎåÄÌëúÏ†ÅÏúºÎ°ú Î∞©Î≤ï 2Í∞ÄÏßÄÍ∞Ä ÏûàÎäîÎç∞Ïöî. </p>
<p><code>ÏΩîÎ†àÏò§Í∑∏Î†àÌîº (Choreography) Ìå®ÌÑ¥</code> <code>Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥</code> Ïù¥ ÏûàÏäµÎãàÎã§.</p>
<p><code>ÏΩîÎ†àÏò§Í∑∏Î†àÌîº (Choreography) Ìå®ÌÑ¥</code> Îäî ÎèÖÎ¶ΩÏ†ÅÏù∏ <code>Ï°∞Ïú®Ïûê(Ochestrator)</code> Î•º ÎëêÏßÄ ÏïäÍ≥†, SAGA Î•º Íµ¨ÌòÑÌïòÎäî Î∞©Ïãù ÏûÖÎãàÎã§. Îß§Ïö∞ Í∞ÑÎã® ÌïòÏßÄÎßå Ìä∏ÎûúÏû≠ÏÖò ÏÉÅÌô©Ïóê Î™®ÎãàÌÑ∞ÎßÅ ÌïòÍ∏∞Í∞Ä Ïñ¥Î†µÎã§Îäî Îã®Ï†êÏù¥ ÏûàÏäµÎãàÎã§.</p>
<p>Ïù¥ÏôÄ Î∞òÎåÄÎ°ú <code>Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥</code> Îäî ÎèÖÎ¶ΩÏ†ÅÏù∏ <code>Ï°∞Ïú®Ïûê(Ochestrator)</code> Î•º ÎëêÏñ¥ ÌïòÎÇòÏùò Saga (Ìä∏ÎûúÏû≠ÏÖò) Ïóê ÎåÄÌïú Îß§ÎãàÏßïÏùÑ Îã¥ÎãπÌïòÎäî Î∞©Î≤ïÏù¥ÏóêÏöî.<br>Íµ¨ÌòÑÏù¥ Ïñ¥Î†µÏßÄÎßå, Î™®ÎãàÌÑ∞ÎßÅ ÌïòÎäîÎç∞ ÏûàÏñ¥ÏÑú ÏàòÏõîÌïòÎã§Îäî Ïû•Ï†êÏù¥ ÏûàÏäµÎãàÎã§.</p>
<h2 id="SAGA-Ìå®ÌÑ¥-Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò-Orchestration-Ìå®ÌÑ¥"><a href="#SAGA-Ìå®ÌÑ¥-Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò-Orchestration-Ìå®ÌÑ¥" class="headerlink" title="SAGA Ìå®ÌÑ¥ - Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥"></a>SAGA Ìå®ÌÑ¥ - Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥</h2><p><img src="/../../../img/MSA/paymentMsa/SAGA_Orchestration_example.png" alt="SAGA Ìå®ÌÑ¥ - Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥"></p>
<p>SAGA Ìå®ÌÑ¥ÏóêÏÑú Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥ Í≤ΩÏö∞ Î©îÏãúÏßÄÎ•º Î∞úÌñâÌïòÍ≥† Í∑∏Ïóê ÎåÄÌïú Í≤∞Í≥ºÎ•º ÏàòÏã† Î∞õÎäî Ï£ºÏ≤¥Îäî <code>Ï°∞Ïú®Ïûê(Ochestrator)</code> ÏûÖÎãàÎã§.</p>
<ol>
<li><code>Ï°∞Ïú®Ïûê(Ochestrator)</code> ÌÜµÌï¥ ‚ÄòB ÏÑúÎπÑÏä§‚Äô ÏóêÍ≤å ÏûëÏóÖÏùÑ ÏàòÌñâ ÌïòÍ∏∞ ÏúÑÌï¥ Î©îÏãúÏßÄÎ•º Î∞úÌñâÏùÑ Ìï©ÎãàÎã§.</li>
<li>ÏàòÏã† Î∞õÏùÄ B ÏÑúÎπÑÏä§Îäî Ìï¥Îãπ ÏûëÏóÖÏùÑ ÏàòÌñâ Ìï©ÎãàÎã§.</li>
<li>ÏàòÌñâ ÌõÑ Í≤∞Í≥º ÏùëÎãµÏùÑ Î©îÏãúÏßÄ Î∞úÌñâ Ìï©ÎãàÎã§.</li>
<li><code>Ï°∞Ïú®Ïûê(Ochestrator)</code> Îäî Í≤∞Í≥º Î©îÏãúÏßÄ ÏàòÏã† Î∞õÏäµÎãàÎã§.</li>
<li>C ÏÑúÎπÑÏä§Ïóê ÏûëÏóÖÏùÑ ÏàòÌñâÌïòÍ∏∞ ÏúÑÌï¥ Î©îÏãúÏßÄÎ•º Î∞úÌñâ Ìï©ÎãàÎã§.</li>
<li>C ÏÑúÎπÑÏä§Ïóê ÏûëÏóÖ ÏàòÌñâ Î©îÏãúÏßÄ Î∞õÍ≥† ÏûëÏóÖÏùÑ ÏàòÌñâ Ìï©ÎãàÎã§.</li>
<li>ÏûëÏóÖÏùÑ ÏàòÌñâ Ìïú ÌõÑ ÏûëÏóÖ Í≤∞Í≥º Î©îÏãúÏßÄÎ•º Î∞úÌñâ Ìï©ÎãàÎã§.</li>
<li><code>Ï°∞Ïú®Ïûê(Ochestrator)</code> Îäî C ÏÑúÎπÑÏä§ ÏûëÏóÖ Í≤∞Í≥º Î©îÏãúÏßÄÎ•º ÏàòÏã† Î∞õÏäµÎãàÎã§.</li>
<li>ÎßàÏßÄÎßâ A ÏÑúÎπÑÏä§ ÏûëÏóÖÏùÑ ÏàòÌñâÌïòÍ∏∞ ÏúÑÌï¥ ÏûëÏóÖ Î©îÏãúÏßÄ Î∞úÌñâ Ìï©ÎãàÎã§.</li>
<li>A ÏÑúÎπÑÏä§Îäî ÏûëÏóÖ Î©îÏãúÏßÄÎ•º Î∞õÍ≥† ÏûëÏóÖÏùÑ ÏàòÌñâ Ìï©ÎãàÎã§.</li>
</ol>
<p><img src="/../../../img/MSA/paymentMsa/SAGA_Orchestration_rollback_example.png" alt="SAGA Ìå®ÌÑ¥ - Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥ (Ïã§Ìå®Ïãú)"></p>
<ol>
<li>C ÏÑúÎπÑÏä§ÍπåÏßÄ ÏûëÏóÖÏù¥ Ïã§ÌñâÎêòÎã§Í∞Ä ÏûëÏóÖ Ïã§Ìñâ ÎèÑÏ§ë Ïã§Ìå®Í∞Ä Î∞úÏÉùÎêòÏñ¥ÏÑú Ïã§Ìå® Ïù¥Î≤§Ìä∏ Î∞úÌñâ Ìï©ÎãàÎã§.</li>
<li><code>Ï°∞Ïú®Ïûê(Ochestrator)</code> ÏóêÍ≤å C ÏÑúÎπÑÏä§ Ïã§Ìå® Î©îÏãúÏßÄ ÏàòÏã† Î∞õÍ≤å Îê©ÎãàÎã§.</li>
<li><code>Ï°∞Ïú®Ïûê(Ochestrator)</code> Îäî B ÏÑúÎπÑÏä§ÏóêÍ≤å Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Ïã§Ìñâ ÌïòÍ∏∞ ÏúÑÌï¥ Î©îÏãúÏßÄ Î∞úÌñâ Ìï©ÎãàÎã§.</li>
<li>B ÏÑúÎπÑÏä§Îäî Ïã§Ìå®Î°ú Ïù∏Ìïú Î©îÏãúÏßÄÎ•º Î∞õÏïÑÏÑú Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Ïã§Ìñâ Ìï©ÎãàÎã§.</li>
<li><code>Ï°∞Ïú®Ïûê(Ochestrator)</code> Îäî A ÏÑúÎπÑÏä§ÏóêÍ≤åÎèÑ Ïã§Ìå® Ïù∏Ìïú Î©îÏãúÏßÄ Î∞úÌñâ Ìï©ÎãàÎã§.</li>
<li>A ÏÑúÎπÑÏä§Îäî Ïã§Ìå® Î©îÏãúÏßÄÎ•º ÏàòÏã† Î∞õÍ≥† Ïù¥Ïóê Îî∞Î•∏ ÏùëÎãµÏùÑ ÌïòÍ≤å Îê©ÎãàÎã§.</li>
</ol>
<h2 id="Í≤∞Ï†ú-ÏãúÏä§ÌÖúÏóêÏÑú-Î∂ÑÏÇ∞-Ìä∏ÎûôÏû≠ÏÖòÏù¥-ÌïÑÏöîÌïú-Íµ¨Í∞Ñ-ÏïåÏïÑÎ≥¥Í∏∞"><a href="#Í≤∞Ï†ú-ÏãúÏä§ÌÖúÏóêÏÑú-Î∂ÑÏÇ∞-Ìä∏ÎûôÏû≠ÏÖòÏù¥-ÌïÑÏöîÌïú-Íµ¨Í∞Ñ-ÏïåÏïÑÎ≥¥Í∏∞" class="headerlink" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏóêÏÑú Î∂ÑÏÇ∞ Ìä∏ÎûôÏû≠ÏÖòÏù¥ ÌïÑÏöîÌïú Íµ¨Í∞Ñ ÏïåÏïÑÎ≥¥Í∏∞"></a>Í≤∞Ï†ú ÏãúÏä§ÌÖúÏóêÏÑú Î∂ÑÏÇ∞ Ìä∏ÎûôÏû≠ÏÖòÏù¥ ÌïÑÏöîÌïú Íµ¨Í∞Ñ ÏïåÏïÑÎ≥¥Í∏∞</h2><p>Î∂ÑÏÇ∞ ÏãúÏä§ÌÖúÏóêÏÑú Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑ ÌïòÎäî Í≤ÉÏùÄ Í∞ÄÎä•Ìïú Ìï¥Îãπ ÎπÑÏßÄÎãàÏä§Í∞Ä Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑÏùÑ Íº≠ Ìï¥Ïïº ÎêòÎäî ÏÉÅÌô©Ïù∏ÏßÄ ÌåêÎã® ÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§.<br>ÎßåÏïΩ Íµ≥Ïù¥ Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑÌïòÏßÄ ÏïäÎçîÎùºÎèÑ Í∏∞ÌöçÎã®Í≥ÑÏóêÏÑú ÎÅùÎÇºÏàò ÏûàÎäî Î∂ÄÎ∂ÑÏù¥ÎùºÎ©¥ Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑÌïòÏßÄ ÏïäÍ≥† ÏßÑÌñâÌïòÎäî Í≤ÉÎèÑ Ï¢ãÏùÄ Î∞©Î≤ï Ï§ë ÌïòÎÇò Ïùº Í≤É ÏûÖÎãàÎã§.</p>
<p><img src="/../../../img/MSA/paymentMsa/paymentFlow.png" alt="Í≤∞Ï†ú FLOW"></p>
<p>ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Í≤∞Ï†ú ÏãúÎèÑÎ•º ÌïòÍ≤å ÎêòÎ©¥ Ï£ºÎ¨∏ ÏÑúÎπÑÏä§ÏóêÏÑú PGÏÇ¨ Toss ÏÑúÎ≤Ñ ÌÜµÌï¥ Í≤∞Ï†ú ÏäπÏù∏Ïù¥ Î∞úÏÉù Îê©ÎãàÎã§. Í≤∞Ï†ú Í≤∞Í≥ºÏóê Îî∞Îùº Í≤∞Ï†ú ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏Î•º ÏßÑÌñâÌïòÍ≤å ÎêòÍ≥†<br>Í∑∏ Îã§Ïùå Ï†ïÏÇ∞ÏùÑ ÏßÑÌñâ ÌïòÍ∏∞ ÏúÑÌï¥ Ïù¥Î≤§Ìä∏ Î©îÏãúÏßÄÎ•º Î∞úÌñâÍ≥º ÎèôÏãúÏóê Í≥†Í∞ùÏóêÍ≤å Í≤∞Ï†ú Í≤∞Í≥ºÎ•º ÏùëÎãµ ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>ÎßåÏïΩÏóê Ï†ïÏÇ∞ ÏÑúÎπÑÏä§ÏóêÏÑú Î¨∏Ï†úÍ∞Ä Î∞úÏÉù ÎêúÎã§Î©¥ Ï£ºÎ¨∏ ÏÑúÎπÑÏä§ÏóêÏÑú Í≤∞Ï†ú Í≤∞Í≥ºÏóê Îî∞Î•∏ DB ÏóÖÎç∞Ïù¥Ìä∏Î•º Î™®Îëê Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò ÌÜµÌï¥ Î°§Î∞± Ìï¥Ïïº Ìï†ÍπåÏöî?<br>Ïù¥ÎØ∏ Í≤∞Ï†ú ÏäπÏù∏Ïù¥ Î∞úÏÉùÎêú Î∂ÄÎ∂ÑÏù¥Í∏∞ ÎïåÎ¨∏Ïóê Î°§Î∞±ÏùÄ Í≥†Î†§ Ìï¥Ïïº Îê† Î∂ÄÎ∂Ñ ÏûÖÎãàÎã§. Ï†ïÏÇ∞ Í≤ΩÏö∞Îäî ÏßÄÍ∏à ÎãπÏû• Ïã§ÌñâÏùÑ ÏïàÌï¥ÎèÑ Í¥úÏ∞ÆÏùÄ ÎπÑÏßÄÎãàÏä§ Ïù¥ÎùºÎ©¥ Íµ≥Ïù¥ Î°§Î∞± Î≥¥Îã§Îäî <code>DLQ(Dead Letter Queue)</code> Ïóê<br>Î≥¥Í¥ÄÏùÑ ÌïòÍ≥† ÎÇòÏ§ëÏóê Ï°∞ÏπòÎ•º ÌïòÎ©¥ Îê† Í≤É Í∞ôÏäµÎãàÎã§. Í∑∏Î¶¨Í≥† ÎòêÌïú Ïù¥Îü¨Ìïú Í≤ΩÏö∞Îäî Í∞úÎ∞úÏûêÏóêÍ≤å ÏïåÎ¶º Î©îÏãúÏßÄ ÌÜµÌï¥ Ïù∏ÏßÄ Ìï¥Ï£ºÎäî Í≤ÉÏù¥ Ï§ëÏöî ÌïòÎã§Í≥† ÏÉùÍ∞Å Îê©ÎãàÎã§.</p>
<p>Ï¶â ÏÑúÎπÑÏä§ÏÉÅ Íµ≥Ïù¥ Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑ Ìï† ÌïÑÏöîÏóÜÏù¥ Îã§Î•∏ Î∞©Ìñ•ÏúºÎ°ú Ìï¥Í≤∞Ïù¥ Í∞ÄÎä•ÌïòÎ©¥ Í∞ÄÏû• Ï¢ãÏùÄ Î∞©Ìñ•Ïù¥Í≥†, Ïñ¥Ï©îÏàò ÏóÜÏù¥ Íµ¨ÌòÑ Ìï¥Ïïº ÌïúÎã§Î©¥ Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖòÏùÑ Íµ¨ÌòÑ Ìï¥Ïïº Ìï† Í≤ÉÏûÖÎãàÎã§.</p>
<p>Ïó¨Í∏∞ÏÑúÎäî Seller Í∞Ä Ï¥àÍ∏∞ Îì±Î°ùÎêòÎ©¥ Ïù¥Ïóê Ìï¥ÎãπÎêòÎäî Seller Ïùò Wallet ÏùÑ Îì±Î°ù ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§. ÎßåÏïΩ Ïã§Ìå®Í∞Ä ÎêúÎã§Î©¥ Îì±Î°ùÎêú Seller Î•º ÏÉÅÌÉú Î≥ÄÍ≤Ω ÏóÖÎç∞Ïù¥Ìä∏Î•º ÏßÑÌñâ ÌïòÍ≥†Ïûê Ìï©ÎãàÎã§.</p>
<h2 id="Axon-Ïù¥Ïö©Ìï¥ÏÑú-Saga-Ìå®ÌÑ¥ÏúºÎ°ú-Î∂ÑÏÇ∞-Ìä∏ÎûúÏû≠ÏÖò-Íµ¨ÌòÑ-Ìï¥Î≥¥Ïûê"><a href="#Axon-Ïù¥Ïö©Ìï¥ÏÑú-Saga-Ìå®ÌÑ¥ÏúºÎ°ú-Î∂ÑÏÇ∞-Ìä∏ÎûúÏû≠ÏÖò-Íµ¨ÌòÑ-Ìï¥Î≥¥Ïûê" class="headerlink" title="Axon Ïù¥Ïö©Ìï¥ÏÑú Saga Ìå®ÌÑ¥ÏúºÎ°ú Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ Ìï¥Î≥¥Ïûê"></a>Axon Ïù¥Ïö©Ìï¥ÏÑú Saga Ìå®ÌÑ¥ÏúºÎ°ú Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ Ìï¥Î≥¥Ïûê</h2><p><img src="/../../../img/MSA/paymentMsa/axon.png" alt="AXON ÏÑ§Î™Ö Ïù¥ÎØ∏ÏßÄ"></p>
<p>Axon ÏùÑ Ïù¥Ïö©Ìï¥ÏÑú Saga Ìå®ÌÑ¥ÏùÑ ÏÇ¨Ïö©ÌïòÎ©¥ ÏâΩÍ≤å <code>Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥</code> ÏùÑ Íµ¨ÌòÑ ÌïòÍ≥†Ïûê Ìï©ÎãàÎã§. </p>
<p>Ïó¨Í∏∞ÏÑú <code>Axon Framework</code> Îäî <code>EventSourcing</code>, <code>CQRS</code>, <code>DDD</code> Ìå®ÌÑ¥ Ï§ëÏã¨ÏúºÎ°ú ÏÑúÎπÑÏä§Î•º ÏâΩÍ≤å Íµ¨ÌòÑ Ìï† Ïàò ÏûàÎèÑÎ°ù ÎèÑÏõÄÏùÑ Ï§çÎãàÎã§. ÎçîÎ∂àÏñ¥ <code>Axon Server</code> Îäî<br><code>Axon Framework</code> Ïóê Ïó¨Îü¨ Í∏∞Îä•Îì§ÏùÑ ÏûëÎèô Ìï† Ïàò ÏûàÎèÑÎ°ù Ìï¥Ï£ºÎäî ÏÑúÎ≤Ñ ÏûÖÎãàÎã§. Ï¶â ‚ÄòAxon Server‚Äô Îäî Î©îÏÑ∏ÏßÄ ÎùºÏö∞ÌåÖ, Ïù¥Î≤§Ìä∏ Ï†ÄÏû•ÏÜå Í∏∞Îä•ÏùÑ Ïù¥Ïö©Ìï¥ÏÑú <code>Axon Framework</code> Îäî <code>Axon Server</code> Ïóê ÏßÄÏõêÌïòÎäî<br>Í∏∞Îä•ÏùÑ Ïù¥Ïö©Ìï¥ <code>EventSourcing</code>, <code>CQRS</code> Îì± Ïó¨Îü¨ Í∏∞Îä•ÏùÑ Ï†úÍ≥µ Ìï©ÎãàÎã§.</p>
<p>Ïù¥ÎØ∏ÏßÄÏóê Î≥¥ÏãúÎã§ Ïã∂Ïù¥ <code>Axon Framework</code> ÌïòÍ≥† <code>Axon Server</code> Ï°∞Ìï©ÏùÑ Ïù¥Ïö©Ìï¥ÏÑú Í∏∞Îä•ÏùÑ Íµ¨ÌòÑÌïòÎäîÎç∞Ïöî. Axon Server ÎåÄÏã† Îã§Î•∏ Event Broker Ïù∏ Kafka Îì± Ïù¥Ïö© Ìï¥ÎèÑ Í¥úÏ∞ÆÏäµÎãàÎã§.</p>
<p>Ïó¨Í∏∞ÏÑúÎäî <code>Axon Framework</code>, <code>Axon Server</code> Saga <code>Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥</code> ÏùÑ Íµ¨ÌòÑ Ìï¥Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§. </p>
<p><img src="/../../../img/MSA/paymentMsa/Axon_SAGA_pattern.png" alt="AXON ÏÑ§Î™Ö Ïù¥ÎØ∏ÏßÄ"></p>
<p>Seller ÏÑúÎπÑÏä§ÌïòÍ≥† Wallet ÏÑúÎπÑÏä§Îäî Í∞ÅÍ∞Å <code>Axon Framework</code> ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§. Ïù¥ ÎëêÍ∞úÏùò ÏÑúÎπÑÏä§Îäî <code>Axon Server</code> ÏôÄ Ïó∞Í≥Ñ Ìï¥ÏÑú Axon Server ÏóêÏÑú ÏßÄÏõêÌïòÎäî <code>Queue-Louting</code>, <code>Event Store</code> Í∏∞Îä• Ïù¥Ïö©Ìï¥<br>Ïù¥Î≤§Ìä∏ ÏÜåÏã±ÏùÑ ÏúÑÌïú EDA Î•º Íµ¨Ï∂ïÌïòÍ≥† Ïù¥Î•º Î∞îÌÉïÏúºÎ°ú Saga <code>Ïò§ÏºÄÏàòÌä∏Î†àÏù¥ÏÖò (Orchestration) Ìå®ÌÑ¥</code> ÏùÑ Íµ¨ÌòÑ ÌïòÍ≤†ÏäµÎãàÎã§.</p>
<p><img src="/../../../img/MSA/paymentMsa/axon_Seller.png" alt="Axon Framework Ï†ÅÏö©Îêú Event Sourcing ÏïÑÌÇ§ÌÖçÏ≤ò ÏÑ§Í≥Ñ - Seller Îì±Î°ù"></p>
<p>ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Seller Î•º Îì±Î°ù ÌïòÍ≤å ÎêúÎã§Î©¥ Seller ÏÑúÎ≤ÑÎäî Axon Server Ïóê ÏûàÎäî Event queue Î°ú Ïù¥Î≤§Ìä∏ Î∞úÌñâ Ìï©ÎãàÎã§. Ïó¨Í∏∞ÏÑú Axon Server ÎÇ¥Î∂ÄÏóêÏÑú ÏûêÏ≤¥Ï†ÅÏúºÎ°ú Consume ÌïòÍ≤å ÎêòÍ≥† Í∑∏ Îã§Ïùå<br>Event Ï†ÄÏû•ÏùÑ ÌïòÍ∏∞ÏúÑÌï¥ Event Store Ïóê Ïù¥Î≤§Ìä∏Î•º Ï†ÄÏû• ÌïòÍ≤å Îê©ÎãàÎã§. Í∑∏ Îã§Ïùå Event Sourcing ÏßÑÌñâÌïòÍ≤å ÎêòÎ©¥ÏÑú Seller ÏÑúÎπÑÏä§Îäî ÎîîÎπÑ ÏÑúÎ≤ÑÏôÄ Ïó∞Í≥ÑÌï¥ Seller Î•º Îì±Î°ù ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>Ïù¥Î†áÍ≤å ÏïÑÌÇ§ÌÖçÏ≤òÎ•º Î≥¥ÏïòÏùÑÎïå ÏùòÎ¨∏Ïù¥ Í∞ÄÎäî Î∂ÄÎ∂ÑÏùÄ Ï¥àÍ∏∞ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Seller ÏÑúÎ≤ÑÎ°ú ÏöîÏ≤≠Ïù¥ Îì§Ïñ¥Ïò¨Îïå DB ÏÑúÎ≤ÑÏóê Î∞îÎ°ú Seller Î•º Îì±Î°ùÌïòÏßÄ ÏïäÍ≥† <code>Axon Server</code> ÎÇ¥Ïóê <code>Event Queue</code> Ïóê Îì±Î°ù ÌïòÍ≤å Îê†ÍπåÏöî?<br><code>Event Queue</code> Î°ú Îì±Î°ù Ìï¥ÏÑú Í¥ÄÎ¶¨ ÌïòÎäî Í≤ÉÏù¥ <code>Ïã†Î¢∞ÏÑ±</code> Î∞è <code>Í∞ÄÏö©ÏÑ±</code> Ï∏°Î©¥ÏúºÎ°ú Î≥¥ÏïòÏùÑÎïå Îçî ÎÜíÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§. </p>
<p>ÏùºÎã® <code>Axon Server</code> ÎÇ¥Ïóê <code>Event Queue</code> Ïóê Ìï¥Îãπ Command Î•º Ï†ÄÏû• ÌïòÍ∏∞Îßå ÌïúÎã§Î©¥ Ïù¥ÌõÑÏóê Ï†ÑÏ≤¥Ï†ÅÏù∏ ÏÑúÎ≤Ñ Î¨∏Ï†úÍ∞Ä Î∞úÏÉù Ìï¥ÏÑú Seller Îì±Î°ù ÏßÑÌñâÏù¥ Ï§ëÎã® ÎêòÏóàÏùÑÎïå Ïù¥ÎØ∏ Event Queue Ïóê Îì±Î°ùÎêòÏñ¥ ÏûàÏúºÎãà<br>ÎÇòÏ§ëÏóê Î≥µÍµ¨ ÌõÑ Îã§Ïãú ÏãúÎèÑ ÌïòÎ©¥ Î¨∏Ï†úÍ∞Ä ÏóÜÏùÑ Í≤É ÏûÖÎãàÎã§.</p>
<h3 id="Seller-Îì±Î°ù-ÏÑ§Í≥Ñ-ÏÑ±Í≥µ"><a href="#Seller-Îì±Î°ù-ÏÑ§Í≥Ñ-ÏÑ±Í≥µ" class="headerlink" title="Seller Îì±Î°ù ÏÑ§Í≥Ñ - ÏÑ±Í≥µ"></a>Seller Îì±Î°ù ÏÑ§Í≥Ñ - ÏÑ±Í≥µ</h3><p><img src="/../../../img/MSA/paymentMsa/Create_Seller_SagaWithAxon-1.png" alt="Axon Ïù¥Ïö©Ìïú Seller Îì±Î°ù ÏÑ±Í≥µ"></p>
<p>ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Î°úÎ∂ÄÌÑ∞ Seller Îì±Î°ù ÏöîÏ≤≠Ïù¥ Îì§Ïñ¥Ïò§Î©¥ <code>Axon Server</code> Ïóê Ïù¥Î≤§Ìä∏ Î∞úÌñâ ÌïòÍ≤å ÎêòÍ≥† <code>Axon Server</code> Îäî Seller ÏÑúÎπÑÏä§Ïóê Ï†ÑÎã¨Ìï¥ÏÑú Seller Î•º DB Ïóê Îì±Î°ù ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>Í∑∏Îã§Ïùå Îì±Î°ùÎêú Seller Ïóê Ìï¥Îãπ ÎêòÎäî Wallet Îì±Î°ù ÌïòÍ∏∞ ÏúÑÌï¥ <code>Axon Server</code> Ïóê ÏöîÏ≤≠Ìï¥ÏÑú Wallet ÏÑúÎπÑÏä§Îäî ÎîîÎπÑÏóê Wallet ÏùÑ Îì±Î°ù ÌïòÍ≤å Îê©ÎãàÎã§. </p>
<h3 id="Seller-Îì±Î°ù-ÏÑ§Í≥Ñ-Ïã§Ìå®"><a href="#Seller-Îì±Î°ù-ÏÑ§Í≥Ñ-Ïã§Ìå®" class="headerlink" title="Seller Îì±Î°ù ÏÑ§Í≥Ñ - Ïã§Ìå®"></a>Seller Îì±Î°ù ÏÑ§Í≥Ñ - Ïã§Ìå®</h3><p><img src="/../../../img/MSA/paymentMsa/Create_Seller_SagaWithAxon-2.png" alt="AAxon Ïù¥Ïö©Ìïú Seller Îì±Î°ù Ïã§Ìå®"></p>
<p>ÎßåÏïΩ Wallet DB Ïóê Îì±Î°ùÌïòÎäî Í≥ºÏ†ïÏóêÏÑú ÏóêÎü¨Í∞Ä Î∞úÏÉùÎêúÎã§Î©¥ Seller Server Ïóê <code>Î≥¥ÏÉÅ Ìä∏ÎûúÏû≠ÏÖò</code> ÏùÑ Î≥¥Ïû• ÌïòÍ∏∞ ÏúÑÌï¥ <code>Axon Server</code> Ïóê ÏöîÏ≤≠Ìï¥ÏÑú Seller ÏÑúÎπÑÏä§Îäî<br>Wallet Îì±Î°ù Ïã§Ìå®Î°ú Ïù∏Ìïú ÎîîÎπÑ ÏóÖÎç∞Ïù¥Ìä∏Î•º ÏßÑÌñâ ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<h2 id="Íµ¨ÌòÑ-ÏΩîÎìú"><a href="#Íµ¨ÌòÑ-ÏΩîÎìú" class="headerlink" title="Íµ¨ÌòÑ ÏΩîÎìú"></a>Íµ¨ÌòÑ ÏΩîÎìú</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Slf4</span>j</span><br><span class="line">@<span class="title class_">UseCase</span></span><br><span class="line">@<span class="title class_">RequiredArgsConstructor</span></span><br><span class="line">public <span class="keyword">class</span> <span class="title class_">SellerService</span> implements <span class="title class_">InsertSellerUseCase</span> &#123;</span><br><span class="line"></span><br><span class="line">    private final <span class="title class_">CommandGateway</span> commandGateway;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Override</span></span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">insertSeller</span>(<span class="params">RequestPersistenceInsertSellerCommand insertSellerCommand</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="title class_">RequestInsertSellerCommand</span> requestInsertSellerCommand = <span class="title class_">RequestInsertSellerCommand</span>.<span class="title function_">of</span>(insertSellerCommand.<span class="title function_">getSellerId</span>());</span><br><span class="line">        commandGateway.<span class="title function_">send</span>(requestInsertSellerCommand)</span><br><span class="line">        .<span class="title function_">whenComplete</span>(</span><br><span class="line">                (result, throwable) -&gt; &#123;</span><br><span class="line">                    <span class="keyword">if</span> (throwable != <span class="literal">null</span>) &#123;</span><br><span class="line">                        throwable.<span class="title function_">printStackTrace</span>();</span><br><span class="line">                        log.<span class="title function_">error</span>(<span class="string">&quot;InsertSellerCommand Command failed = &#123;&#125;&quot;</span>, result.<span class="title function_">toString</span>());</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(throwable);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        log.<span class="title function_">info</span>(<span class="string">&quot;InsertSellerCommand SAGA success = &#123;&#125;&quot;</span>, result.<span class="title function_">toString</span>());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>AxonServer Ïùò CommandBus Ïóê Command (RequestInsertSellerCommand: Seller Îì±Î°ù) Î•º Î≥¥ÎÉÖÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Aggregate</span></span><br><span class="line">@<span class="title class_">Data</span></span><br><span class="line">public <span class="keyword">class</span> <span class="title class_">SellerAggregate</span> &#123;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">AggregateIdentifier</span></span><br><span class="line">    private <span class="title class_">String</span> id;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">CommandHandler</span></span><br><span class="line">    @<span class="title class_">CreationPolicy</span>(<span class="title class_">AggregateCreationPolicy</span>.<span class="property">ALWAYS</span>)</span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">handler</span>(<span class="params">RequestInsertSellerCommand command</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = command.<span class="title function_">getId</span>();</span><br><span class="line">        <span class="title class_">String</span> requestInsertSellerId = <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Saga Start</span></span><br><span class="line">        <span class="title function_">apply</span>(<span class="keyword">new</span> <span class="title class_">RequestInsertSellerEvent</span>(requestInsertSellerId, command.<span class="title function_">getSellerId</span>()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Seller Ïùò Aggregate Îäî ÏöîÏ≤≠ Î∞õÏùÄ Command Î•º Î∞õÏïÑ Seller Îì±Î°ù Event Î•º Î∞úÌñâ Ìï©ÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Slf4</span>j</span><br><span class="line">@<span class="title class_">Saga</span></span><br><span class="line">@<span class="title class_">NoArgsConstructor</span></span><br><span class="line">public <span class="keyword">class</span> <span class="title class_">InsertSellerAndWalletSaga</span> &#123;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">StartSaga</span></span><br><span class="line">    @<span class="title class_">SagaEventHandler</span>(associationProperty = <span class="string">&quot;requestInsertSellerId&quot;</span>)</span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">handle</span>(<span class="params">RequestInsertSellerEvent event</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> sagaInsertSellerId = <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>();</span><br><span class="line">        <span class="title class_">SagaLifecycle</span>.<span class="title function_">associateWith</span>(<span class="string">&quot;sagaInsertSellerId&quot;</span>, sagaInsertSellerId);</span><br><span class="line"></span><br><span class="line">        commandGateway.<span class="title function_">send</span>(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">InsertSellerCommand</span>(</span><br><span class="line">                        <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>(),</span><br><span class="line">                        event.<span class="title function_">getRequestInsertSellerId</span>(),</span><br><span class="line">                        event.<span class="title function_">getSellerId</span>(),</span><br><span class="line">                        sagaInsertSellerId</span><br><span class="line">                )</span><br><span class="line">        ).<span class="title function_">whenComplete</span>(</span><br><span class="line">                (result, throwable) -&gt; &#123;</span><br><span class="line">                    <span class="keyword">if</span> (throwable != <span class="literal">null</span>) &#123;</span><br><span class="line">                        throwable.<span class="title function_">printStackTrace</span>();</span><br><span class="line">                        log.<span class="title function_">error</span>(<span class="string">&quot;RequestInsertSellerEvent Command failed, = &#123;&#125;&quot;</span>, sagaInsertSellerId, throwable);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        log.<span class="title function_">info</span>(<span class="string">&quot;RequestInsertSellerEvent SAGA success = &#123;&#125;&quot;</span>, result.<span class="title function_">toString</span>());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Îì±Î°ù Seller Îã¥ÎãπÌïòÎäî InsertSellerAndWalletSaga Îäî Ìï¥Îãπ Event Î•º Íµ¨ÎèÖÌïòÏó¨ Ìä∏Î¶¨Í±∞ Îê©ÎãàÎã§. </p>
<p>Î©îÏÜåÎìú ÏÉÅÎã®Ïóê @StartSaga ÌôïÏù∏ Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ïù¥Îäî Saga Í∞Ä ÏãúÏûë ÎêòÏóàÎã§Îäî Í≤ÉÏùÑ ÏïåÎ¶ΩÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">SagaEventHandler</span>(associationProperty = <span class="string">&quot;requestInsertSellerId&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Ìï¥Îãπ Î°úÏßÅÏùÄ Íµ¨ÎèÖÌï† Saga Î•º Ï†ïÌïòÍ≥† ÏãùÎ≥ÑÏûêÎ•º ÏßÄÏ†ïÌïòÎäî Ïö©ÎèÑ ÏûÖÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Slf4</span>j</span><br><span class="line">@<span class="title class_">Aggregate</span></span><br><span class="line">@<span class="title class_">Data</span></span><br><span class="line">public <span class="keyword">class</span> <span class="title class_">InsertSellerAggregate</span> &#123;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">AggregateIdentifier</span></span><br><span class="line">    private <span class="title class_">String</span> id;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">CommandHandler</span></span><br><span class="line">    @<span class="title class_">CreationPolicy</span>(<span class="title class_">AggregateCreationPolicy</span>.<span class="property">ALWAYS</span>)</span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">requestInsertWalletAggregate</span>(<span class="params"></span></span><br><span class="line"><span class="params">            InsertSellerCommand command,</span></span><br><span class="line"><span class="params">            InsertSellerPort insertSellerPort</span></span><br><span class="line"><span class="params">    </span>) &#123;</span><br><span class="line">        id = command.<span class="title function_">getId</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// seller insert</span></span><br><span class="line">        long savedSellerNo = insertSellerPort.<span class="title function_">insertSeller</span>(</span><br><span class="line">                <span class="title class_">RequestPersistenceInsertSellerCommand</span>.<span class="title function_">of</span>(command.<span class="title function_">getSellerId</span>())</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> requestInsertWalletId = <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Saga Start</span></span><br><span class="line">        <span class="title function_">apply</span>(<span class="keyword">new</span> <span class="title class_">SagaInsertWalletEvent</span>(</span><br><span class="line">                requestInsertWalletId,</span><br><span class="line">                command.<span class="title function_">getSagaInsertSellerId</span>(),</span><br><span class="line">                command.<span class="title function_">getRequestInsertSellerId</span>(),</span><br><span class="line">                savedSellerNo,</span><br><span class="line">                command.<span class="title function_">getSellerId</span>()</span><br><span class="line">        ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Îì±Î°ù Îã¥Îãπ ÌïòÎäî Seller Ïùò Aggregate Îäî ÏöîÏ≤≠ Î∞õÏùÄ Command Î•º Î∞õÏïÑ DB Ïóê Seller Î•º insert ÌïòÍ≤å Îê©ÎãàÎã§. </p>
<p>Í∑∏Îü∞ ÌõÑ Í∑∏Îã§Ïùå Î°úÏßÅÏùÑ ÏàòÌñâ Ìï¥Ïïº Ìï† Ìï¥Îãπ Seller Ïùò Wallet Îì±Î°ùÏùÑ ÌïòÍ∏∞ ÏúÑÌï¥ Event Î•º Î∞úÌñâ Ìï©ÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">SagaEventHandler</span>(associationProperty = <span class="string">&quot;sagaInsertSellerId&quot;</span>)</span><br><span class="line">public <span class="keyword">void</span> <span class="title function_">handle</span>(<span class="params">SagaInsertWalletEvent event</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="title class_">String</span> sagaInsertWalletId = <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>();</span><br><span class="line">    <span class="title class_">SagaLifecycle</span>.<span class="title function_">associateWith</span>(<span class="string">&quot;sagaInsertWalletId&quot;</span>, sagaInsertWalletId);</span><br><span class="line"></span><br><span class="line">    commandGateway.<span class="title function_">send</span>(<span class="keyword">new</span> <span class="title class_">InsertWalletCommand</span>(</span><br><span class="line">            <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>(),</span><br><span class="line">            sagaInsertWalletId,</span><br><span class="line">            event.<span class="title function_">getSagaInsertSellerId</span>(),</span><br><span class="line">            event.<span class="title function_">getSellerNo</span>(),</span><br><span class="line">            event.<span class="title function_">getSellerId</span>()</span><br><span class="line">        )</span><br><span class="line">    ).<span class="title function_">whenComplete</span>(</span><br><span class="line">            (result, throwable) -&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (throwable != <span class="literal">null</span>) &#123;</span><br><span class="line">                    throwable.<span class="title function_">printStackTrace</span>();</span><br><span class="line">                    log.<span class="title function_">error</span>(<span class="string">&quot;requestInsertWalletAggregate Command failed&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    log.<span class="title function_">info</span>(<span class="string">&quot;requestInsertWalletAggregate SAGA success = &#123;&#125;&quot;</span>, result.<span class="title function_">toString</span>());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Saga Îäî CommandGateway Î•º Ïù¥Ïö©Ìï¥ÏÑú Wallet ÏùÑ Îì±Î°ùÌïòÎäî Command Î•º Î≥¥ÎÉÖÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Slf4</span>j</span><br><span class="line">@<span class="title class_">Aggregate</span>()</span><br><span class="line">@<span class="title class_">Data</span></span><br><span class="line">public <span class="keyword">class</span> <span class="title class_">InsertSellerRequestInsertWalletAggregate</span> &#123;</span><br><span class="line"></span><br><span class="line">    ... ÏÉùÎûµ ...</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">CommandHandler</span></span><br><span class="line">    @<span class="title class_">CreationPolicy</span>(<span class="title class_">AggregateCreationPolicy</span>.<span class="property">ALWAYS</span>)</span><br><span class="line">    public <span class="keyword">void</span> <span class="title function_">requestInsertWalletAggregate</span>(<span class="params"></span></span><br><span class="line"><span class="params">            InsertWalletCommand insertWalletCommand,</span></span><br><span class="line"><span class="params">            InsertWalletPort insertWalletPort</span></span><br><span class="line"><span class="params">    </span>) &#123;</span><br><span class="line"></span><br><span class="line">        id = insertWalletCommand.<span class="title function_">getAggregateIdentifier</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// wallet insert</span></span><br><span class="line">        boolean isSuccess = insertWalletPort.<span class="title function_">insertWallet</span>(com.<span class="property">wallet_service</span>.<span class="property">domain</span>.<span class="property">InsertWalletCommand</span>.<span class="title function_">of</span>(insertWalletCommand.<span class="title function_">getSellerNo</span>()));</span><br><span class="line">        </span><br><span class="line">        <span class="title class_">String</span> requestResultInsertWalletId = <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title function_">apply</span>(<span class="keyword">new</span> <span class="title class_">RequestInsertWalletFinishedEvent</span>(</span><br><span class="line">                requestResultInsertWalletId,</span><br><span class="line">                insertWalletCommand.<span class="title function_">getSagaInsertWalletId</span>(),</span><br><span class="line">                insertWalletCommand.<span class="title function_">getSagaInsertSellerId</span>(),</span><br><span class="line">                isSuccess,</span><br><span class="line">                insertWalletCommand.<span class="title function_">getSellerNo</span>(),</span><br><span class="line">                insertWalletCommand.<span class="title function_">getSellerId</span>()</span><br><span class="line">        ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ... ÏÉùÎûµ ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Îì±Î°ù Îã¥Îãπ ÌïòÎäî Wallet Ïùò Aggregate Îäî ÏöîÏ≤≠ Î∞õÏùÄ Command Î•º Î∞õÏïÑ DB Ïóê Wallet ÏùÑ insert ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<p>Í∑∏Îü∞ ÌõÑ ÎßåÏïΩ Îì±Î°ù ÏÑ±Í≥µ Ïó¨Î∂Ä Îç∞Ïù¥ÌÑ∞ Í∞í Ìï®Íªò Event Î•º Î∞úÌñâ Ìï©ÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">SagaEventHandler</span>(associationProperty = <span class="string">&quot;sagaInsertWalletId&quot;</span>)</span><br><span class="line">public <span class="keyword">void</span> <span class="title function_">handle</span>(<span class="params">RequestInsertWalletFinishedEvent event</span>) &#123;</span><br><span class="line"></span><br><span class="line">    boolean isSuccess = event.<span class="title function_">isSuccess</span>();</span><br><span class="line">    <span class="keyword">if</span> (isSuccess) &#123;</span><br><span class="line">        <span class="title class_">SagaLifecycle</span>.<span class="title function_">end</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Ïã§Ìå® Ïãú, Î°§Î∞± Ïù¥Î≤§Ìä∏</span></span><br><span class="line">        <span class="title class_">String</span> sagaRollbackSellerId = <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>();</span><br><span class="line">        <span class="title class_">SagaLifecycle</span>.<span class="title function_">associateWith</span>(<span class="string">&quot;sagaRollbackSellerId&quot;</span>, sagaRollbackSellerId);</span><br><span class="line">        commandGateway.<span class="title function_">send</span>(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">RollbackSellerRequestCommand</span>(</span><br><span class="line">                    sagaRollbackSellerId,</span><br><span class="line">                    event.<span class="title function_">getSellerNo</span>()</span><br><span class="line">                )</span><br><span class="line">        ).<span class="title function_">whenComplete</span>(</span><br><span class="line">                (result, throwable) -&gt; &#123;</span><br><span class="line">                    <span class="keyword">if</span> (throwable != <span class="literal">null</span>) &#123;</span><br><span class="line">                        throwable.<span class="title function_">printStackTrace</span>();</span><br><span class="line">                        log.<span class="title function_">error</span>(<span class="string">&quot;RequestWalletFinishedEvent Command failed&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        log.<span class="title function_">info</span>(<span class="string">&quot;RequestWalletFinishedEvent SAGA success = &#123;&#125;&quot;</span>, result.<span class="title function_">toString</span>());</span><br><span class="line">                        <span class="title class_">SagaLifecycle</span>.<span class="title function_">end</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ÏµúÏ¢Ö Wallet Îì±Î°ùÍπåÏßÄ ÏÑ±Í≥µÏ†ÅÏù¥Î©¥ Saga Î•º Ï¢ÖÎ£å ÌïòÏßÄÎßå ÎßåÏïΩ Ïã§Ìå® Ìï† Í≤ΩÏö∞ Î°§Î∞± (Ïó¨Í∏∞ÏÑúÎäî Ï†ïÌôïÌûà Ìï¥Îãπ Seller ÏÉÅÌÉúÍ∞í Î≥ÄÍ≤Ω)ÏùÑ Ïã§Ìñâ Ìï¥Ïïº Ìï©ÎãàÎã§.</p>
<p>Í∑∏ÎûòÏÑú Saga Îäî CommandGateway Ïù¥Ïö©Ìï¥ÏÑú Î°§Î∞± Î°úÏßÅÏùÑ Îã¥ÎãπÌïòÎäî Command Î•º Î≥¥ÎÉÖÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">CommandHandler</span></span><br><span class="line">@<span class="title class_">CreationPolicy</span>(<span class="title class_">AggregateCreationPolicy</span>.<span class="property">ALWAYS</span>)</span><br><span class="line">public <span class="keyword">void</span> <span class="title function_">requestInsertWalletAggregate</span>(<span class="params"></span></span><br><span class="line"><span class="params">        RollbackSellerRequestCommand command,</span></span><br><span class="line"><span class="params">        DeleteSellerPort deleteSellerPort</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    id = command.<span class="title function_">getSagaRollbackSellerId</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// seller delete</span></span><br><span class="line">    deleteSellerPort.<span class="title function_">deleteSeller</span>(command.<span class="title function_">getSellerNo</span>());</span><br><span class="line"></span><br><span class="line">    <span class="title class_">String</span> requestDeleteSellerId = <span class="variable constant_">UUID</span>.<span class="title function_">randomUUID</span>().<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Saga Start</span></span><br><span class="line">    <span class="title function_">apply</span>(<span class="keyword">new</span> <span class="title class_">RequestDeleteSellerEvent</span>(requestDeleteSellerId, command.<span class="title function_">getSagaRollbackSellerId</span>(), command.<span class="title function_">getSellerNo</span>()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Seller Îã¥ÎãπÌïòÎäî Aggregate Îäî Ìï¥Îãπ Seller Î°§Î∞± Ï≤òÎ¶¨ (Ïó¨Í∏∞ÏÑúÎäî Í∞ÑÎã®ÌïòÍ≤å Seller ÏÉÅÌÉúÍ∞í Î≥ÄÍ≤Ω)Î•º ÌïòÍ≥† Î°§Î∞± ÏôÑÎ£å Event Î•º Î∞úÌñâ ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">EndSaga</span></span><br><span class="line">@<span class="title class_">SagaEventHandler</span>(associationProperty = <span class="string">&quot;sagaRollbackSellerId&quot;</span>)</span><br><span class="line">public <span class="keyword">void</span> <span class="title function_">handle</span>(<span class="params">RequestDeleteSellerEvent event</span>) &#123;</span><br><span class="line">    log.<span class="title function_">info</span>(<span class="string">&quot;EndSaga &gt;&gt; requestDeleteSellerId = &#123;&#125;&quot;</span>, event.<span class="title function_">getRequestDeleteSellerId</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Saga Í∞Ä Event Î•º Î∞õÏúºÎ©¥ <code>@EndSaga</code> Îî∞Îùº Saga Î•º Ï¢ÖÎ£åÌïòÍ≤å Îê©ÎãàÎã§.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a target="_blank" rel="noopener" href="https://medium.com/@blogs4devs/saga-with-axon-bb7b9cfe0b64">https://medium.com/@blogs4devs/saga-with-axon-bb7b9cfe0b64</a><br><a target="_blank" rel="noopener" href="https://github.com/Blogs4Devs/SAGA-Axon">https://github.com/Blogs4Devs/SAGA-Axon</a><br><a target="_blank" rel="noopener" href="https://jaehoney.tistory.com/403">https://jaehoney.tistory.com/403</a></p>

      
       <hr><span style="font-style: italic;color: gray;"> Copyright 201- syh8088. Î¨¥Îã® Ï†ÑÏû¨ Î∞è Ïû¨Î∞∞Ìè¨ Í∏àÏßÄ. Ï∂úÏ≤ò ÌëúÍ∏∞ Ïãú Ïù∏Ïö© Í∞ÄÎä•. </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">üí∞</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ¬©2017 Seo Yang Hun
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="Toggle full screen shortcut key s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">√ó</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="Êâ´Á†ÅÊîØÊåÅ">
            <img src="/img/weixin.jpg" class="weixin" title="Êâ´Á†ÅÊîØÊåÅ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*Ê∏≤ÊüìÂØπÂ∫îÁöÑË°®Ê†ºÊ†∑Âºè*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*Ê∏≤ÊüìÊâìËµèÊ†∑Âºè*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*È´ò‰∫Æ‰ª£Á†ÅÂùóË°åÂè∑*/
        

        /*ËÆøÈóÆÊï∞Èáè*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*‰ª£Á†ÅÈ´ò‰∫ÆÔºåË°åÂè∑ÂØπÈΩê*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*ÊâìËµèÈ°µÈù¢ÈöêËóè‰∏éÂ±ïÁ§∫*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--Âä†ÂÖ•Ë°åÂè∑ÁöÑÈ´ò‰∫Æ‰ª£Á†ÅÂùóÊ†∑Âºè-->

<!--Ëá™ÂÆö‰πâÊ†∑ÂºèËÆæÁΩÆ-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*ÂàóË°®Ê†∑Âºè*/
    

    /* ËÉåÊôØÂõæÊ†∑Âºè */
    
    


    /*ÂºïÁî®ÂùóÊ†∑Âºè*/
    

    /*ÊñáÁ´†ÂàóË°®ËÉåÊôØÂõæ*/
    

    
</style>







</html>
