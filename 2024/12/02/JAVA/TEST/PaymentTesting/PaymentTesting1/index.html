<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Í≤∞Ï†ú Testing - 1 | Seo Yang Hun Blog</title>
  <meta name="keywords" content="">
  <meta name="description" content="Í≤∞Ï†ú Testing - 1 | Seo Yang Hun Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìúÏù¥Î≤à Î∏îÎ°úÍ∑∏Ïóê ÏÇ¨Ïö©ÎêòÎäî ÏΩîÎìúÎäî ÏïÑÎûò ÎßÅÌÅ¨ ÌÜµÌï¥ ÌôïÏù∏ Ìï† Ïàò ÏûàÏäµÎãàÎã§. https:&#x2F;&#x2F;github.com&#x2F;syh8088&#x2F;MSA_project&#x2F;tree&#x2F;main&#x2F;paymentMsa MSA Data Query Î¨∏Ï†úMSA Í≤ΩÏö∞Îäî Í∞Å ÏÑúÎπÑÏä§Ïóê Ìï¥ÎãπÎêòÎäî Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ïù¥Ïö©ÎêòÍ≥† ÏûàÏäµÎãàÎã§. Í∑∏ÎûòÏÑú ÌäπÏ†ï ÏÑúÎπÑÏä§Í∞Ä Îã§Î•∏ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ï†ëÍ∑º ÌïòÎäîÍ≤ÉÏùÑ ÏßÄÏñëÌï¥Ïïº Ìï©">
<meta property="og:type" content="article">
<meta property="og:title" content="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 3 - ÏøºÎ¶¨ Î¨∏Ï†ú">
<meta property="og:url" content="https://syh8088.github.io/2024/12/16/MSA/paymentMsa/MSA_Payment_Project_3/index.html">
<meta property="og:site_name" content="Seo Yang Hun Blog">
<meta property="og:description" content="ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìúÏù¥Î≤à Î∏îÎ°úÍ∑∏Ïóê ÏÇ¨Ïö©ÎêòÎäî ÏΩîÎìúÎäî ÏïÑÎûò ÎßÅÌÅ¨ ÌÜµÌï¥ ÌôïÏù∏ Ìï† Ïàò ÏûàÏäµÎãàÎã§. https:&#x2F;&#x2F;github.com&#x2F;syh8088&#x2F;MSA_project&#x2F;tree&#x2F;main&#x2F;paymentMsa MSA Data Query Î¨∏Ï†úMSA Í≤ΩÏö∞Îäî Í∞Å ÏÑúÎπÑÏä§Ïóê Ìï¥ÎãπÎêòÎäî Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ïù¥Ïö©ÎêòÍ≥† ÏûàÏäµÎãàÎã§. Í∑∏ÎûòÏÑú ÌäπÏ†ï ÏÑúÎπÑÏä§Í∞Ä Îã§Î•∏ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ï†ëÍ∑º ÌïòÎäîÍ≤ÉÏùÑ ÏßÄÏñëÌï¥Ïïº Ìï©">
<meta property="og:locale">
<meta property="og:image" content="https://syh8088.github.io/img/MSA/paymentMsa/stop_MSA_MYSQL.png">
<meta property="og:image" content="https://syh8088.github.io/img/MSA/paymentMsa/seller_query_aggretation.png">
<meta property="og:image" content="https://syh8088.github.io/img/MSA/paymentMsa/SellerQueryService.png">
<meta property="og:image" content="https://syh8088.github.io/img/MSA/paymentMsa/SellerQueryService_CQRS_architecture.png">
<meta property="article:published_time" content="2024-12-15T22:47:42.000Z">
<meta property="article:modified_time" content="2024-12-21T06:53:14.474Z">
<meta property="article:author" content="Seo Yang Hun">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://syh8088.github.io/img/MSA/paymentMsa/stop_MSA_MYSQL.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>Seo Yang Hun</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/syh8088"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:syh8088@gmail.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=872336115&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(60)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="Authentication">
            <i class="fold iconfont icon-right"></i>
            Authentication
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Authentication&lt;---&gt;JWT">
            
            JWT
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Authentication&lt;---&gt;Oauth">
            
            Oauth
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="CI-CD">
            <i class="fold iconfont icon-right"></i>
            CI-CD
            <small>(9)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;GitHubActions">
            
            GitHubActions
            <small>(6)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="CI-CD&lt;---&gt;Jenkins">
            
            Jenkins
            <small>(3)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="DB">
            <i class="fold iconfont icon-right"></i>
            DB
            <small>(4)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql">
            <i class="fold iconfont icon-right"></i>
            Mysql
            <small>(4)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;DBCP">
            
            DBCP
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;optimizing">
            
            optimizing
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="DB&lt;---&gt;Mysql&lt;---&gt;Paging">
            
            Paging
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="J">
            <i class="fold iconfont icon-right"></i>
            J
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="J&lt;---&gt;Jenkins">
            
            Jenkins
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JAVA">
            <i class="fold iconfont icon-right"></i>
            JAVA
            <small>(29)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;HTTP">
            <i class="fold iconfont icon-right"></i>
            HTTP
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;HTTP&lt;---&gt;FeignClient">
            
            FeignClient
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;JPA">
            
            JPA
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Object">
            
            Object
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Payment">
            
            Payment
            <small>(5)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Security">
            
            Security
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring">
            <i class="fold iconfont icon-right"></i>
            Spring
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5">
            <i class="fold iconfont icon-right"></i>
            junit5
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5&lt;---&gt;Mockito">
            
            Mockito
            <small>(2)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringBatch">
            
            SpringBatch
            <small>(5)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringBootAndSecurityAndJWT">
            
            SpringBootAndSecurityAndJWT
            <small>(3)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;SpringCloudConfig">
            
            SpringCloudConfig
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Transaction">
            
            Transaction
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="JAVA&lt;---&gt;Validator">
            
            Validator
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="JavaScript">
            <i class="fold iconfont icon-right"></i>
            JavaScript
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="JavaScript&lt;---&gt;Webpack">
            
            Webpack
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Kafka">
            <i class="fold iconfont icon-right"></i>
            Kafka
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Kafka&lt;---&gt;idempotent">
            
            idempotent
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="KUBERNETES">
            
            KUBERNETES
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="MSA">
            <i class="fold iconfont icon-right"></i>
            MSA
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka">
            <i class="fold iconfont icon-right"></i>
            Kafka
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA">
            <i class="fold iconfont icon-right"></i>
            EDA
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;CQRS">
            
            CQRS
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga">
            <i class="fold iconfont icon-right"></i>
            Saga
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="MSA&lt;---&gt;Payment&lt;---&gt;Kafka&lt;---&gt;EDA&lt;---&gt;Saga&lt;---&gt;Axon">
            
            Axon
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="NoSQL">
            <i class="fold iconfont icon-right"></i>
            NoSQL
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="NoSQL&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="NoSQL&lt;---&gt;Redis&lt;---&gt;RateLimiter">
            
            RateLimiter
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="R">
            
            R
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ">
            <i class="fold iconfont icon-right"></i>
            ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ
            <small>(3)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA">
            <i class="fold iconfont icon-right"></i>
            EDA
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA&lt;---&gt;Payment">
            <i class="fold iconfont icon-right"></i>
            Payment
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA&lt;---&gt;Payment&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;EDA&lt;---&gt;Payment&lt;---&gt;Redis&lt;---&gt;Kafka">
            
            Kafka
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis">
            <i class="fold iconfont icon-right"></i>
            Redis
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis&lt;---&gt;Kafka">
            
            Kafka
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis&lt;---&gt;WebFlux">
            <i class="fold iconfont icon-right"></i>
            WebFlux
            <small>(1)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ&lt;---&gt;Redis&lt;---&gt;WebFlux&lt;---&gt;Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥">
            
            Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">About</a>
        
        <a style="width: 50%"
                
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="60">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">Âè∂ËêΩÈòÅ</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="search shortcut key i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="switch to outline view shortcut key w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="return"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="case sensitive"></i>
            <i class="iconfont icon-tag" data-title="label"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">outline</div>
            <i class="iconfont icon-list" data-title="switch to article list"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All Kafka idempotent "
           href="/2024/12/23/KAFKA/idempotent/Kafka_idempotent/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ïπ¥ÌîÑÏπ¥ Î©±Îì±ÏÑ± Î∞è Ïù¥Î≤§Ìä∏ ÏùºÍ¥ÄÏÑ± Î≥¥Ïû•ÌïòÍ∏∞">Ïπ¥ÌîÑÏπ¥ Î©±Îì±ÏÑ± Î∞è Ïù¥Î≤§Ìä∏ ÏùºÍ¥ÄÏÑ± Î≥¥Ïû•ÌïòÍ∏∞</span>
            <span class="post-date" title="2024-12-23 07:47:42">2024/12/23</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA CQRS "
           href="/2024/12/16/MSA/paymentMsa/MSA_Payment_Project_3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 3 - ÏøºÎ¶¨ Î¨∏Ï†ú">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 3 - ÏøºÎ¶¨ Î¨∏Ï†ú</span>
            <span class="post-date" title="2024-12-16 07:47:42">2024/12/16</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA Saga Axon "
           href="/2024/12/15/MSA/paymentMsa/MSA_Payment_Project_2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 2 - Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 2 - Î∂ÑÏÇ∞ Ìä∏ÎûúÏû≠ÏÖò Íµ¨ÌòÑ</span>
            <span class="post-date" title="2024-12-15 07:47:42">2024/12/15</span>
        </a>
        
        
        <a  class="All MSA Payment Kafka EDA "
           href="/2024/12/14/MSA/paymentMsa/MSA_Payment_Project_1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 1 - Í∏∞Î≥∏ ÏÑ§Î™Ö">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî MSA 1 - Í∏∞Î≥∏ ÏÑ§Î™Ö</span>
            <span class="post-date" title="2024-12-14 07:47:42">2024/12/14</span>
        </a>
        
        
        <a  class="All ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ EDA Payment Redis Kafka "
           href="/2024/12/13/HIGH_VOLUME_TRAFFIC/PaymentEDA/PaymentEDA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî EDA ÏãúÏä§ÌÖú">Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏïåÏïÑÎ≥¥Îäî EDA ÏãúÏä§ÌÖú</span>
            <span class="post-date" title="2024-12-13 07:47:42">2024/12/13</span>
        </a>
        
        
        <a  class="All DB Mysql optimizing "
           href="/2024/12/06/DB/Mysql/optimizing/IndexDiveOptimizaiton/IndexDiveOptimizaiton/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Index Dive ÏµúÏ†ÅÌôî">Index Dive ÏµúÏ†ÅÌôî</span>
            <span class="post-date" title="2024-12-06 07:47:42">2024/12/06</span>
        </a>
        
        
        <a  class="All JAVA Spring Payment junit5 Mockito "
           href="/2024/12/03/JAVA/TEST/PaymentTesting/PaymentTesting2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú Testing - 2">Í≤∞Ï†ú Testing - 2</span>
            <span class="post-date" title="2024-12-03 15:50:00">2024/12/03</span>
        </a>
        
        
        <a  class="All JAVA Spring Payment junit5 Mockito "
           href="/2024/12/02/JAVA/TEST/PaymentTesting/PaymentTesting1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú Testing - 1">Í≤∞Ï†ú Testing - 1</span>
            <span class="post-date" title="2024-12-02 15:50:00">2024/12/02</span>
        </a>
        
        
        <a  class="All ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ Redis WebFlux Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥ "
           href="/2024/11/28/HIGH_VOLUME_TRAFFIC/AccessorQueuingSystem/AccessorQueuingSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥ ÏãúÏä§ÌÖú ÎßåÎì§Í∏∞">ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - Ï†ëÍ∑ºÏûê ÎåÄÍ∏∞Ïó¥ ÏãúÏä§ÌÖú ÎßåÎì§Í∏∞</span>
            <span class="post-date" title="2024-11-28 07:47:42">2024/11/28</span>
        </a>
        
        
        <a  class="All ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ Redis Kafka "
           href="/2024/11/22/HIGH_VOLUME_TRAFFIC/CreateCoupon/CreateCoupon/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - ÏÑ†Ï∞©Ïàú Ïø†Ìè∞ Îì±Î°ù With Kafka, Redis">ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ - ÏÑ†Ï∞©Ïàú Ïø†Ìè∞ Îì±Î°ù With Kafka, Redis</span>
            <span class="post-date" title="2024-11-22 07:47:42">2024/11/22</span>
        </a>
        
        
        <a  class="All NoSQL Redis RateLimiter "
           href="/2024/11/19/NoSQL/Redis/RateLimiter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Request Rate Limiter Íµ¨ÌòÑÌïòÍ∏∞">Request Rate Limiter Íµ¨ÌòÑÌïòÍ∏∞</span>
            <span class="post-date" title="2024-11-19 07:47:42">2024/11/19</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/20/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 6">GitHubActions CICD With SpringBoot - 6</span>
            <span class="post-date" title="2024-10-20 07:47:42">2024/10/20</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/19/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 5">GitHubActions CICD With SpringBoot - 5</span>
            <span class="post-date" title="2024-10-19 07:47:42">2024/10/19</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/18/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 4">GitHubActions CICD With SpringBoot - 4</span>
            <span class="post-date" title="2024-10-18 07:47:42">2024/10/18</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/17/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 3">GitHubActions CICD With SpringBoot - 3</span>
            <span class="post-date" title="2024-10-17 07:47:42">2024/10/17</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/14/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 2">GitHubActions CICD With SpringBoot - 2</span>
            <span class="post-date" title="2024-10-14 07:47:42">2024/10/14</span>
        </a>
        
        
        <a  class="All CI-CD GitHubActions "
           href="/2024/10/14/CI-CD/GitHunActions/GitHubActionsCICDWithSpringBoot1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="GitHubActions CICD With SpringBoot - 1">GitHubActions CICD With SpringBoot - 1</span>
            <span class="post-date" title="2024-10-14 07:47:42">2024/10/14</span>
        </a>
        
        
        <a  class="All DB Mysql Paging "
           href="/2024/10/06/DB/Mysql/PagingQuery/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Paging Query ÏÑ±Îä• Í∞úÏÑ† Î∞è Ï≤òÎ¶¨ Î∞©Î≤ï - ÌäúÎãùÌé∏">Paging Query ÏÑ±Îä• Í∞úÏÑ† Î∞è Ï≤òÎ¶¨ Î∞©Î≤ï - ÌäúÎãùÌé∏</span>
            <span class="post-date" title="2024-10-06 07:47:42">2024/10/06</span>
        </a>
        
        
        <a  class="All DB Mysql DBCP "
           href="/2024/10/02/DB/Mysql/mysqlDBCP/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DBCP ÏÑ§Ï†ï Î∞©Î≤ï">DBCP ÏÑ§Ï†ï Î∞©Î≤ï</span>
            <span class="post-date" title="2024-10-02 07:47:42">2024/10/02</span>
        </a>
        
        
        <a  class="All JAVA Object "
           href="/2024/08/24/JAVA/Object/InheritanceComposition2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-2">ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-2</span>
            <span class="post-date" title="2024-08-24 15:50:00">2024/08/24</span>
        </a>
        
        
        <a  class="All JAVA Object "
           href="/2024/08/23/JAVA/Object/InheritanceComposition1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-1">ÏÉÅÏÜçÍ≥º Ìï©ÏÑ± Ïù¥ÏïºÍ∏∞-1</span>
            <span class="post-date" title="2024-08-23 15:50:00">2024/08/23</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/08/06/JAVA/Payment/PaymentTransactionalOutboxpattern/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 5">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 5</span>
            <span class="post-date" title="2024-08-06 15:50:00">2024/08/06</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/08/05/JAVA/Payment/PaymentRetry/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 4">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 4</span>
            <span class="post-date" title="2024-08-05 15:50:00">2024/08/05</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/BuildingPaymentSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 1">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 1</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/PaymentCheckOut/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 2">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 2</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All JAVA Payment "
           href="/2024/07/28/JAVA/Payment/PaymentConfirm/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 3">Í≤∞Ï†ú ÏãúÏä§ÌÖú Íµ¨Ï∂ï - 3</span>
            <span class="post-date" title="2024-07-28 15:50:00">2024/07/28</span>
        </a>
        
        
        <a  class="All "
           href="/2024/05/31/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2024-05-31 22:32:19">2024/05/31</span>
        </a>
        
        
        <a  class="All "
           href="/2024/05/31/README/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2024-05-31 22:32:19">2024/05/31</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2024/05/30/JAVA/Security/AnonymousAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="AnonymousAuthenticationFilter">AnonymousAuthenticationFilter</span>
            <span class="post-date" title="2024-05-30 10:04:43">2024/05/30</span>
        </a>
        
        
        <a  class="All "
           href="/2024/02/01/HIGH_VOLUME_TRAFFIC/AccessorQueuingSystem2/AccessorQueuingSystem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ìå®Ïä§Ìä∏Ï∫†ÌçºÏä§ 9Í∞ú ÌîÑÎ°úÏ†ùÌä∏Î°ú Í≤ΩÌóòÌïòÎäî ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ &amp; Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨ Ï¥àÍ≤©Ï∞® Ìå®ÌÇ§ÏßÄ Online. ÏàòÍ∞ï">Ìå®Ïä§Ìä∏Ï∫†ÌçºÏä§ 9Í∞ú ÌîÑÎ°úÏ†ùÌä∏Î°ú Í≤ΩÌóòÌïòÎäî ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ &amp; Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨ Ï¥àÍ≤©Ï∞® Ìå®ÌÇ§ÏßÄ Online. ÏàòÍ∞ï</span>
            <span class="post-date" title="2024-02-01 00:00:00">2024/02/01</span>
        </a>
        
        
        <a  class="All Authentication JWT "
           href="/2021/11/27/AUTHTICATION/JWT/jwt/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JWT (JSON Web Token) Ïù¥Ìï¥ÌïòÍ∏∞">JWT (JSON Web Token) Ïù¥Ìï¥ÌïòÍ∏∞</span>
            <span class="post-date" title="2021-11-27 07:47:42">2021/11/27</span>
        </a>
        
        
        <a  class="All Authentication Oauth "
           href="/2021/11/27/AUTHTICATION/OAUTH/oauth/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="OAUTH 2.0 Ïù¥Ìï¥ÌïòÍ∏∞">OAUTH 2.0 Ïù¥Ìï¥ÌïòÍ∏∞</span>
            <span class="post-date" title="2021-11-27 07:47:42">2021/11/27</span>
        </a>
        
        
        <a  class="All JAVA HTTP FeignClient "
           href="/2021/11/08/JAVA/HTTP/FeignClient/FeignClient/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="FeignClient ÌôúÏö©ÎèÑ">FeignClient ÌôúÏö©ÎèÑ</span>
            <span class="post-date" title="2021-11-08 10:04:43">2021/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/11/04/JAVA/Batch/SpringBatch5/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Chunk 5">Spring Batch - Chunk 5</span>
            <span class="post-date" title="2021-11-04 07:47:42">2021/11/04</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/30/JAVA/Batch/SpringBatch4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Flow 4">Spring Batch - Flow 4</span>
            <span class="post-date" title="2021-10-30 07:47:42">2021/10/30</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/24/JAVA/Batch/SpringBatch3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ïä§ÌÇ§Îßà 3">Spring Batch - Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ Ïä§ÌÇ§Îßà 3</span>
            <span class="post-date" title="2021-10-24 07:47:42">2021/10/24</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/19/JAVA/Batch/SpringBatch2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch - Job, Step 2">Spring Batch - Job, Step 2</span>
            <span class="post-date" title="2021-10-19 07:47:42">2021/10/19</span>
        </a>
        
        
        <a  class="All JAVA SpringBatch "
           href="/2021/10/17/JAVA/Batch/SpringBatch1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Batch 1">Spring Batch 1</span>
            <span class="post-date" title="2021-10-17 07:47:42">2021/10/17</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config4/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ÎπÑÎåÄÏπ≠ÌÇ§Î•º Ïù¥Ïö©Ìïú application.yml ÏÑ§Ï†ïÍ∞í ÏïîÌò∏Ìôî">ÎπÑÎåÄÏπ≠ÌÇ§Î•º Ïù¥Ïö©Ìïú application.yml ÏÑ§Ï†ïÍ∞í ÏïîÌò∏Ìôî</span>
            <span class="post-date" title="2021-09-13 07:47:45">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Cloud Bus">Spring Cloud Bus</span>
            <span class="post-date" title="2021-09-13 07:47:44">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Actuator">Spring Boot Actuator</span>
            <span class="post-date" title="2021-09-13 07:47:43">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA SpringCloudConfig "
           href="/2021/09/13/JAVA/SpringCloudConfig/spring-cloud-config/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Cloud Config">Spring Cloud Config</span>
            <span class="post-date" title="2021-09-13 07:47:42">2021/09/13</span>
        </a>
        
        
        <a  class="All JAVA Transaction "
           href="/2021/03/14/JAVA/Transaction/multi-transaction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Multi-Transaction Í¥ÄÎ¶¨">Java Multi-Transaction Í¥ÄÎ¶¨</span>
            <span class="post-date" title="2021-03-14 07:47:42">2021/03/14</span>
        </a>
        
        
        <a  class="All JAVA Validator "
           href="/2020/12/18/JAVA/VALIDATOR/validator/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java Validator Í¥ÄÎ¶¨">Java Validator Í¥ÄÎ¶¨</span>
            <span class="post-date" title="2020-12-18 07:47:42">2020/12/18</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/19/JAVA/Security/SessionManagementFilterAndConcurrentSessionFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SessionManagementFilterAndConcurrentSessionFilter">SessionManagementFilterAndConcurrentSessionFilter</span>
            <span class="post-date" title="2020-11-19 18:02:23">2020/11/19</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/14/JAVA/Security/RememberMeAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RememberMeAuthenticationFilter">RememberMeAuthenticationFilter</span>
            <span class="post-date" title="2020-11-14 07:40:06">2020/11/14</span>
        </a>
        
        
        <a  class="All JAVA Security "
           href="/2020/11/13/JAVA/Security/UsernamePasswordAuthenticationFilter/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UsernamePasswordAuthenticationFilter">UsernamePasswordAuthenticationFilter</span>
            <span class="post-date" title="2020-11-13 08:51:13">2020/11/13</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/09/CI-CD/Jenkins/JenkinsGitLabConnect/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jenkins_GitLab_Ïó∞Îèô">Jenkins_GitLab_Ïó∞Îèô</span>
            <span class="post-date" title="2020-11-09 07:47:42">2020/11/09</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/08/CI-CD/Jenkins/JenkinsGitLabSshConnect/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ï††ÌÇ®Ïä§ÏôÄ GitLab ssh Ïó∞ÎèôÌïòÍ∏∞">Ï††ÌÇ®Ïä§ÏôÄ GitLab ssh Ïó∞ÎèôÌïòÍ∏∞</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA JPA "
           href="/2020/11/08/JAVA/JPA/eagerJpqlNplus1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="eagerJpqlNplus1">eagerJpqlNplus1</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (ÏùºÎ∞ò Î°úÍ∑∏Ïù∏)">Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (ÏùºÎ∞ò Î°úÍ∑∏Ïù∏)</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (Social Î°úÍ∑∏Ïù∏)">Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Authorization Server (Social Î°úÍ∑∏Ïù∏)</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All JAVA SpringBootAndSecurityAndJWT "
           href="/2020/11/08/JAVA/SpringBootAndSecurityAndJWT/spring-boot-security-jwt-social3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Resource Server">Spring Boot Î•º Ïù¥Ïö©Ìï¥ JWT + Social Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ - Resource Server</span>
            <span class="post-date" title="2020-11-08 07:47:42">2020/11/08</span>
        </a>
        
        
        <a  class="All J Jenkins "
           href="/2020/11/07/JAVA/Security/JKSGenerate/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JKSGenerate">JKSGenerate</span>
            <span class="post-date" title="2020-11-07 13:46:21">2020/11/07</span>
        </a>
        
        
        <a  class="All CI-CD Jenkins "
           href="/2020/11/07/CI-CD/Jenkins/JenkinsInstall/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÌôòÍ≤Ω Íµ¨ÏÑ±">Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÌôòÍ≤Ω Íµ¨ÏÑ±</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All DB Mysql "
           href="/2020/11/07/DB/Mysql/mysqlReplicationSetting/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mysql_Replication_ÏÑ§Ï†ï">Mysql_Replication_ÏÑ§Ï†ï</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All KUBERNETES "
           href="/2020/11/07/KUBERNETES/%EC%89%BD%EA%B2%8C_%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94_%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4_%ED%99%98%EA%B2%BD_%EA%B5%AC%EC%84%B1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jenkins_ÏÑ§Ïπò">Jenkins_ÏÑ§Ïπò</span>
            <span class="post-date" title="2020-11-07 07:47:42">2020/11/07</span>
        </a>
        
        
        <a  class="All R "
           href="/2020/10/17/R/RServerInstall/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RServer ÏÑ§Ïπò">RServer ÏÑ§Ïπò</span>
            <span class="post-date" title="2020-10-17 07:47:42">2020/10/17</span>
        </a>
        
        
        <a  class="All JavaScript Webpack "
           href="/2020/10/17/JAVASCRIPT/Webpack/devtool/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="WebPack - DevTool">WebPack - DevTool</span>
            <span class="post-date" title="2020-10-17 07:47:42">2020/10/17</span>
        </a>
        
        
        <a  class="All "
           href="/2018/12/02/%EB%A9%B4%EC%A0%91%EC%A4%80%EB%B9%84/test/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Í∑∏ÎÉ•... Ïû°Îã§Ìïú ÏßÄÏãù Î™®ÏùåÏßë">Í∑∏ÎÉ•... Ïû°Îã§Ìïú ÏßÄÏãù Î™®ÏùåÏßë</span>
            <span class="post-date" title="2018-12-02 15:50:00">2018/12/02</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="Toggle full screen shortcut key s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-JAVA/TEST/PaymentTesting/PaymentTesting1" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Í≤∞Ï†ú Testing - 1</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="JAVA">JAVA</a> > 
            
            <a  data-rel="JAVA&lt;---&gt;Spring">Spring</a> > 
            
            <a  data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment">Payment</a> > 
            
            <a  data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5">junit5</a> > 
            
            <a  data-rel="JAVA&lt;---&gt;Spring&lt;---&gt;Payment&lt;---&gt;junit5&lt;---&gt;Mockito">Mockito</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2024-12-20 07:39:37'>2024-12-02 15:50</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views üëÄ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%EC%98%88%EC%A0%9C-%EC%86%8C%EC%8A%A4-%EC%BD%94%EB%93%9C"><span class="toc-text">ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìú</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%EA%B2%B0%EC%A0%9C-TEST-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0"><span class="toc-text">Í≤∞Ï†ú TEST Íµ¨ÌòÑÌïòÍ∏∞</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TEST-%EC%BD%94%EB%93%9C%EA%B0%80-%EC%9E%88%EC%9D%8C%EC%9C%BC%EB%A1%9C-%EC%9E%A5%EC%A0%90"><span class="toc-text">TEST ÏΩîÎìúÍ∞Ä ÏûàÏùåÏúºÎ°ú Ïû•Ï†ê</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TEST-%EB%8C%80%EC%83%81%EC%9D%B4-%EB%90%98%EB%8A%94-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C"><span class="toc-text">TEST ÎåÄÏÉÅÏù¥ ÎêòÎäî Í≤∞Ï†ú ÏãúÏä§ÌÖú</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Junit-5-%EB%A1%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1-%ED%95%B4%EB%B3%B4%EA%B8%B0"><span class="toc-text">Junit 5 Î°ú ÌÖåÏä§Ìä∏ ÏΩîÎìú ÏûëÏÑ± Ìï¥Î≥¥Í∏∞</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TDD-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C"><span class="toc-text">TDD ÎûÄ Î¨¥ÏóáÏùºÍπå?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Layered-Architecture-%EB%A0%88%EC%9D%B4%EC%96%B4%EB%93%9C-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98"><span class="toc-text">Layered Architecture Î†àÏù¥Ïñ¥Îìú ÏïÑÌÇ§ÌÖçÏ≤ò</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8-Integration-Test"><span class="toc-text">ÌÜµÌï© ÌÖåÏä§Ìä∏ (Integration Test)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Persistence-Layer-%ED%85%8C%EC%8A%A4%ED%8A%B8"><span class="toc-text">Persistence Layer ÌÖåÏä§Ìä∏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBootTest-VS-DataJpaTest"><span class="toc-text">@SpringBootTest VS @DataJpaTest</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Business-Layer-%ED%85%8C%EC%8A%A4%ED%8A%B8"><span class="toc-text">Business Layer ÌÖåÏä§Ìä∏</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ÏòàÏ†ú-ÏÜåÏä§-ÏΩîÎìú"><a href="#ÏòàÏ†ú-ÏÜåÏä§-ÏΩîÎìú" class="headerlink" title="ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìú"></a>ÏòàÏ†ú ÏÜåÏä§ ÏΩîÎìú</h1><p>Ïù¥Î≤à Î∏îÎ°úÍ∑∏Ïóê ÏÇ¨Ïö©ÎêòÎäî ÏΩîÎìúÎäî ÏïÑÎûò ÎßÅÌÅ¨ ÌÜµÌï¥ ÌôïÏù∏ Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/syh8088/payment_testing">https://github.com/syh8088/payment_testing</a></p>
<h1 id="Í≤∞Ï†ú-TEST-Íµ¨ÌòÑÌïòÍ∏∞"><a href="#Í≤∞Ï†ú-TEST-Íµ¨ÌòÑÌïòÍ∏∞" class="headerlink" title="Í≤∞Ï†ú TEST Íµ¨ÌòÑÌïòÍ∏∞"></a>Í≤∞Ï†ú TEST Íµ¨ÌòÑÌïòÍ∏∞</h1><p>ÏïàÎÖïÌïòÏÑ∏Ïöî. Ïù¥Î≤àÏóê Í≤∞Ï†ú ÌîÑÎ°úÏÑ∏Ïä§Î•º ÌÜµÌï¥ Spring Boot ÏóêÏÑú ÌÖåÏä§Ìä∏ Íµ¨ÌòÑÏóê ÏûàÏñ¥ ÌïúÎ≤à Ï§ÄÎπÑ Ìï¥Î≥¥ÏïòÏäµÎãàÎã§. ÏùºÎã® TEST Îäî Ïôú ÌïÑÏöî ÌïòÎäîÏßÄ ÏïåÏïÑÏïº Îê†<br>Í≤É Í∞ôÏùÄÎç∞Ïöî. </p>
<p>ÏòàÎ•ºÎì§Ïñ¥ ÌöåÏÇ¨Ïóê Ï∑®ÏóÖÏùÑ ÌïòÍ≥† Í≤∞Ï†ú ÌîÑÎ°úÏ†ùÌä∏Î•º Îß°Í≤å ÎêòÎ©¥ÏÑú ÏÑúÎπÑÏä§Î•º Íµ¨ÌòÑ ÌñàÎã§Í≥† Í∞ÄÏ†ï ÌïòÍ≤†ÏäµÎãàÎã§. Ïä§ÌÉÄÌä∏ÏóÖÏù∏ ÎßåÌÅº Îπ†Î•¥Í≤å ÏÑ±Í≥ºÎ•º Î≥¥Ïó¨Ï§òÏïº ÌïòÍ∏∞ ÎïåÎ¨∏Ïóê<br>TEST ÏΩîÎìúÎäî Ï§ÄÎπÑ ÌïòÏßÄ ÏïäÍ≥† Îü∞Ïπ≠ ÌïòÍ≤å ÎêòÏóàÏäµÎãàÎã§. Îπ†Î•¥Í≤å ÏÑ±Í≥ºÎ•º Î≥¥Ïó¨Ï§¨ÏßÄÎßå Î¨∏Ï†úÎäî ÏßÄÍ∏àÎ∂ÄÌÑ∞ ÏûÖÎãàÎã§. </p>
<p>ÏÑúÎπÑÏä§ÎûÄ ÏÑúÎπÑÏä§ Ï∂úÏãú Ïù¥ÌõÑ ÏûëÏÑ±ÌñàÎçò ÏΩîÎìúÎì§ÏùÄ Î∂ÄÎ∂ÑÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎèÑ Ìï¥ÏïºÌïòÍ≥† Ï∂îÍ∞ÄÎèÑ Ìï¥Ïïº Ìï†Í≤É ÏûÖÎãàÎã§. TEST ÏΩîÎìúÎ•º ÏûëÏÑ±ÌïòÏßÄ ÏïäÎäî ÏÉÅÌÉúÏóêÏÑú Í∏∞Ï°¥Ïóê ÏûëÏÑ±ÌñàÎçò<br>ÎπÑÏßÄÎãàÏä§ Î°úÏßÅÎì§ÏùÄ ÏòÅÌñ•Ïù¥ ÎØ∏Ïπ†Í≤É ÏûÖÎãàÎã§. ÏòàÎ•ºÎì§Ïñ¥ ÌäπÏ†ï Í∏∞Îä•ÏùÑ Íµ¨ÌòÑÌïòÍ∏∞ ÏúÑÌï¥ A Í∞ùÏ≤¥ÏôÄ B Í∞ùÏ≤¥ ÏÑúÎ°ú Í∞ÑÏùò Ïó≠ÌôúÏùÑ ÏúÑÏûÑÌïòÍ≥† Ï±ÖÏûÑÏùÑ Î∂ÑÎ∞∞ÌïòÍ≥† ÏûàÎäî ÏÉÅÌô©ÏóêÏÑú<br>A Í∞ùÏ≤¥ Í∏∞Îä• ÏàòÏ†ï Î∞è Ï∂îÍ∞ÄÎ°ú Ïù∏Ìï¥ B Í∞ùÏ≤¥ÏóêÏÑúÎèÑ ÏòÅÌñ•Ïù¥ ÏûàÏùÑ Í≤É ÏûÖÎãàÎã§.</p>
<p>Ï¶â A Í∞ùÏ≤¥Î•º Í∏∞Îä• ÏàòÏ†ïÏù¥ ÏùºÏñ¥ÎÇòÍ≥† Ïù¥ÌõÑ B Í∞ùÏ≤¥Ïóê ÏòÅÌñ•ÏúºÎ°ú Ïù∏Ìï¥ Î≤ÑÍ∑∏Í∞Ä Î∞úÏÉù Ìï† Ïàò ÏûàÎäî ÏÜåÏßÄÍ∞Ä ÏûàÏäµÎãàÎã§. Í∞úÎ∞úÏûêÎäî Ïù¥Îü∞ ÏÉÅÌô©ÏùÑ Í∞êÏßÄ ÌïòÏßÄ Î™ª ÌïòÍ≥† ÏÉÅÏö© Î∞∞Ìè¨Î•º Ìï† Í≤ΩÏö∞<br>ÏÑúÎπÑÏä§Ïóê ÎåÄÌïú ÌÅ∞ Î¨∏Ï†úÍ∞Ä Î∞úÏÉù Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ï¶â ÏÜåÌîÑÌä∏Ïõ®Ïñ¥Ïùò ÏïàÏ†ïÏÑ±ÏùÑ Î≥¥Ïû• Ìï† Ïàò ÏóÜÍ≤å Îê©ÎãàÎã§.</p>
<p>ÏïûÏç® Ïù¥ÏïºÍ∏∞ ÌïúÎåÄÎ°ú ÏïûÏúºÎ°ú Í∏∞Îä• Ï∂îÍ∞Ä Ìï†ÎïåÎßàÎã§ Î∞úÏÉù Ìï† Ïàò ÏûàÎäî Î™®Îì† TEST Case Î•º Í≥†Î†§ Ìï¥Ïïº Ìï©ÎãàÎã§. TEST ÏΩîÎìúÎ•º ÏûëÏÑ±ÌïòÏßÄ ÏïäÏùÑÏãú Îß§ÏàúÍ∞Ñ Ïù¥Îü¨Ìïú Î™®Îì† Case Î•º Í≥†Î†§Î•º Ìï¥Ïïº Ìï†Í≤É ÏûÖÎãàÎã§.</p>
<h2 id="TEST-ÏΩîÎìúÍ∞Ä-ÏûàÏùåÏúºÎ°ú-Ïû•Ï†ê"><a href="#TEST-ÏΩîÎìúÍ∞Ä-ÏûàÏùåÏúºÎ°ú-Ïû•Ï†ê" class="headerlink" title="TEST ÏΩîÎìúÍ∞Ä ÏûàÏùåÏúºÎ°ú Ïû•Ï†ê"></a>TEST ÏΩîÎìúÍ∞Ä ÏûàÏùåÏúºÎ°ú Ïû•Ï†ê</h2><p>ÏïûÏç® TEST ÏΩîÎìúÍ∞Ä ÏóÜÎã§Î©¥ Î∞úÏÉù Ìï† Ïàò ÏûàÎäî Î¨∏Ï†úÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥ÏïòÎäîÎç∞Ïöî. Í∑∏Îüº Î≤àÍ±∞Î°≠ÏßÄÎßå TEST ÏΩîÎìúÎ•º ÏûëÏÑ±Ïãú Î∞úÏÉù Ìï† Ïàò ÏûàÎäî Ïû•Ï†êÏùÑ Î¨¥Ïóá ÏùºÍπåÏöî?<br>Ïö∞ÏÑ† ÏïûÏúºÎ°ú Ï†êÏ∞® ÏÑúÎπÑÏä§Í∞Ä Ïª§ÏßÄÍ≥† Í∏∞Îä•ÏùÑ Ï∂îÍ∞ÄÎêòÎ©¥ÏÑú Ïó¨Îü¨ Í∏∞Îä•ÏùÑ Ï∂îÍ∞Ä Ìï†ÎïåÎßàÎã§ Î∞úÏÉù Ìï† Ïàò ÏûàÎäî Ïó¨Îü¨ Case Î•º Îπ†Î•¥Í≤å Ïù∏ÏßÄ ÌïòÍ≥† TEST Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
<p>Í∑∏Î¶¨Í≥† TEST ÏΩîÎìúÎ•º ÌÜµÌï¥ TEST Î•º ÌïòÍ≤å ÎêúÎã§Î©¥ ÏàòÎèôÏ†ÅÏúºÎ°ú TEST Î•º ÌïúÍ≤É Î≥¥Îã§ ÏÜçÎèÑÎ©¥ÏóêÏÑúÎèÑ Îπ†Î•∏ Í∞ïÏ†êÏùÑ Î≥º Ïàò ÏûàÏäµÎãàÎã§.</p>
<p>Ï¥àÍ∏∞ TEST ÏΩîÎìú ÏûëÏÑ±ÌïòÎäîÎç∞ ÏûàÏñ¥ÏÑú ÎπÑÏö©Ï†ÅÏù∏ Î¨∏Ï†úÍ∞Ä ÏóÜÎã§Í≥† Ìï† Ïàò ÏóÜÏßÄÎßå Í∏∏Í≤å Î≥∏Îã§Î©¥ Î∂ÑÎ™Ö ÌÅ∞ Ïû•Ï†ê Ïù¥ÎùºÍ≥† ÏÉùÍ∞Å Îê©ÎãàÎã§.</p>
<h2 id="TEST-ÎåÄÏÉÅÏù¥-ÎêòÎäî-Í≤∞Ï†ú-ÏãúÏä§ÌÖú"><a href="#TEST-ÎåÄÏÉÅÏù¥-ÎêòÎäî-Í≤∞Ï†ú-ÏãúÏä§ÌÖú" class="headerlink" title="TEST ÎåÄÏÉÅÏù¥ ÎêòÎäî Í≤∞Ï†ú ÏãúÏä§ÌÖú"></a>TEST ÎåÄÏÉÅÏù¥ ÎêòÎäî Í≤∞Ï†ú ÏãúÏä§ÌÖú</h2><p>Ïù¥Î≤àÏóê TEST ÎåÄÏÉÅÏù¥ ÎêòÎäî ÏÑúÎπÑÏä§ ÏãúÏä§ÌÖúÏùÄ Í≤∞Ï†ú ÏãúÏä§ÌÖú ÏûÖÎãàÎã§. Ïó¨Í∏∞ÏÑú Ï†úÍ∞Ä TEST ÎåÄÏÉÅÏù¥ ÎêòÎäî Ïó¨Îü¨ ÏãúÏä§ÌÖúÏù¥ ÏûàÏßÄÎßå Í≤∞Ï†ú ÏãúÏä§ÌÖúÏúºÎ°ú ÏÑ†ÌÉùÌïú Ïù¥Ïú†Îäî<br>ÏÇ¨Ïö©ÏûêÍ∞Ä Í≤∞Ï†úÎ•º ÏãúÎèÑ ÌïòÎ©¥ÏÑú Ïã§Ï†úÎ°ú ÎπÑÏö©Ïù¥ Î∞úÏÉùÎêòÍ≥† Ïù¥Ïóê Îî∞Î•¥ ÏÑúÎπÑÏä§ Ï†úÍ≥µÏûêÎäî Îã® 1ÏõêÎèÑ Ïò§Ï∞® ÏóÜÏù¥ ÏûëÎèô Ìï¥Ïïº ÌïòÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§. </p>
<p>ÏòàÎ•ºÎì§Ïñ¥ ÏÇ¨Ïö©ÏûêÍ∞Ä Í≤∞Ï†úÎ•º ÌñàÎäîÎç∞ÎèÑ ÌäπÏ†ï ÏóêÎü¨Î°ú Í≤∞Ï†úÎäî ÌñàÏßÄÎßå Í≤∞Ï†úÎ°ú Ïù∏Ìïú ÏÉÅÌÉú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä ÎêòÏßÄ ÏïäÏúºÎ©¥ÏÑú Ïù¥Ïóê Îî∞Î•∏ ÏÜåÎπÑÏûêÏóêÍ≤å ÏÜêÏã§Ïù¥ Î∞úÏÉù ÌïòÎ©¥ Ïã†Î¢∞ÎèÑÎäî Ï†ÄÌïò Îê† Í≤É ÏûÖÎãàÎã§.</p>
<p>Ïù¥Îü¨Ìïú Î¨∏Ï†úÎ•º Î∞úÏÉùÌïòÏßÄ ÏïäÎèÑÎ°ù Í≤¨Í≥†ÌïòÍ≤å ÌäπÏ†ï ÏóêÎü¨Í∞Ä Î∞úÏÉùÎêòÎçîÎùºÎèÑ ÏûêÎèôÏ†ÅÏúºÎ°ú ÏãúÏä§ÌÖúÏù¥ Ïù¥Î•º Í∞êÏßÄÌïòÍ≥† Î¨∏Ï†ú Ìï¥Í≤∞ÏùÑ Ìï† ÏàòÎßå ÏûàÎã§Î©¥ Ï¢ãÍ≤†ÏßÄÎßå Ïù¥Îü∞ Î¨∏Ï†úÎ•º ÏÇ¨Ï†ÑÏóê Î∞©ÏßÄ ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎùºÎèÑ<br>Ïó¨Îü¨ Í∏∞Îä•Ïóê ÎåÄÌïú TEST ÏΩîÎìúÎ•º ÎßåÎì§Î©¥ÏÑú ÏãúÏä§ÌÖúÏùò ÏïàÏ†ïÏÑ±ÏùÑ ÌôïÎ≥¥ Ìï¥Ïïº Ìï©ÎãàÎã§.</p>
<p><img src="/../../../../img/JAVA/TEST/PaymentTesting/paymentProcess.png" alt="Í≤∞Ï†ú ÌîÑÎ°úÏÑ∏Ïä§"></p>
<p>Í∞ÑÎã®ÌïòÍ≤å TEST ÎåÄÏÉÅÏù¥ ÎêòÎäî Í≤∞Ï†ú ÏãúÏä§ÌÖúÏóê ÎåÄÌï¥ ÏÑ§Î™Ö ÌïòÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§. </p>
<ol>
<li>Ïö∞ÏÑ† ÏÇ¨Ïö©ÏûêÍ∞Ä Í≤∞Ï†ú Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÎ©¥ ‚ÄòCheckout‚Äô Ïù¥Î≤§Ìä∏Í∞Ä Î∞úÏÉùÎêòÎ©¥ÏÑú ÏÇ¨Ïö©ÏûêÍ∞Ä ÌäπÏ†ï ÏÉÅÌíàÏóê ÎåÄÌïú Íµ¨Îß§ Ïù¥Î≤§Ìä∏Î•º Î∞úÏÉù ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.</li>
<li>‚ÄòCheckout‚Äô Ïù¥Î≤§Ìä∏Í∞Ä Î∞úÏÉùÎêòÎ©¥ÏÑú ÏÑúÎπÑÏä§Îã®ÏóêÏÑúÎäî PaymentEvent Í∞Ä ÏÉùÏÑ±ÎêòÍ≥† ÎçîÎ∂àÏñ¥ Ìï¥Îãπ Ïù¥Î≤§Ìä∏Ïóê ÎåÄÌïú unique id Í∞íÏùÑ ÏÉùÏÑ± ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.</li>
</ol>
<p><img src="/../../../../img/JAVA/TEST/PaymentTesting/tossPaymentWidget.png" alt="ÌÜ†Ïä§ Í≤∞Ï†ú ÏúÑÏ†Ø"></p>
<ol start="3">
<li>ÌäπÏ†ï Í≤∞Ï†ú unique id Í∞í Ìè¨Ìï®Ìï¥ÏÑú ÏÉÅÌíà Í∞ÄÍ≤© Îç∞Ïù¥ÌÑ∞Î•º Toss ÏÑúÎ≤ÑÏóê Ï†ÑÎã¨ ÌïòÍ≤å ÎêòÍ≥† Ïù¥Ïóê ÏùëÎãµÏúºÎ°ú Toss ÏóêÏÑú Ï†úÍ≥µÌïòÎäî Í≤∞Ï†ú ÏúÑÏ†Ø ÌéòÏù¥ÏßÄÎ•º ÎùÑÏö∞Í≤å Îê©ÎãàÎã§. </li>
<li>ÏÇ¨Ïö©ÏûêÍ∞Ä Toss ÏóêÏÑú Ï†úÍ≥µÌïòÎäî ÏúÑÏ†ØÌéòÏù¥ÏßÄ ÌÜµÌï¥ Ïã§ÏßàÏ†ÅÏúºÎ°ú Í≤∞Ï†úÍ∞Ä ÏßÑÌñâ Îê©ÎãàÎã§.</li>
<li>Í≤∞Ï†úÍ∞Ä ÏßÑÌñâÎêòÍ≥† Toss Îäî ÏÇ¨Ïö©ÏûêÏóêÍ≤å Í≤∞Ï†ú Í≤∞Í≥º ÏùëÎãµÏùÑ Ìï¥Ï§çÎãàÎã§.</li>
<li>ÏùëÎãµÍ≥º ÎèôÏãúÏóê Í≤∞Ï†ú ÏÑúÎπÑÏä§ ÏÑúÎ≤ÑÎ°ú Redirect Î∞úÏÉùÎê©ÎãàÎã§. </li>
<li>ÏµúÏ¢ÖÏ†ÅÏúºÎ°ú Í≤∞Ï†ú ÏäπÏù∏ÏùÑ Ï≤òÎ¶¨ ÌïòÍ∏∞ ÏúÑÌï¥ ÏÇ¨Ïö©ÏûêÍ∞Ä Íµ¨Îß§Ìïú Í≤∞Ï†úÎ•º ÏµúÏ¢ÖÏ†ÅÏúºÎ°ú ÏÑ±Í≥µ ÌñàÎã§Îäî ÏÇ¨Ïã§ÏùÑ Toss ÏÑúÎ≤ÑÏóê Ï†ÑÎã¨ Ìï©ÎãàÎã§. ÏÑ±Í≥µÏãú ÏµúÏ¢ÖÏ†ÅÏúºÎ°ú Í≤∞Ï†úÍ∞Ä ÏôÑÎ£å Îê©ÎãàÎã§. ÎèôÏãúÏóê Í≤∞Ï†ú ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏Î•º ÌïòÍ≤å Îê©ÎãàÎã§.</li>
</ol>
<h2 id="Junit-5-Î°ú-ÌÖåÏä§Ìä∏-ÏΩîÎìú-ÏûëÏÑ±-Ìï¥Î≥¥Í∏∞"><a href="#Junit-5-Î°ú-ÌÖåÏä§Ìä∏-ÏΩîÎìú-ÏûëÏÑ±-Ìï¥Î≥¥Í∏∞" class="headerlink" title="Junit 5 Î°ú ÌÖåÏä§Ìä∏ ÏΩîÎìú ÏûëÏÑ± Ìï¥Î≥¥Í∏∞"></a>Junit 5 Î°ú ÌÖåÏä§Ìä∏ ÏΩîÎìú ÏûëÏÑ± Ìï¥Î≥¥Í∏∞</h2><p>ÏßÄÍ∏àÍπåÏßÄ TEST ÎåÄÏÉÅÏù¥ ÎêòÎäî Í≤∞Ï†ú ÏãúÏä§ÌÖúÏùÑ Í∞ÑÎã®Ìûà ÏïåÏïÑÎ≥¥ÏïòÏäµÎãàÎã§. Ïù¥Ï†úÎ∂ÄÌÑ∞ Î≥∏Í≤©Ï†ÅÏúºÎ°ú TEST ÏΩîÎìúÎ•º ÏûëÏÑ± Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§. ÏÇ¨Ïö©ÎêòÎäî ÌÖåÏä§Ìä∏ ÌîÑÎ†àÏûÑÏõåÌÅ¨Î°úÎäî JUnit5 Í≥º Mockito Î•º ÏÇ¨Ïö©ÌïòÍ≤†ÏäµÎãàÎã§.<br>JUnit5 Í≤ΩÏö∞Îäî ÏûêÎ∞îÏóêÏÑú ÏÇ¨Ïö©ÎêòÎäî Îã®ÏúÑ ÌÖåÏä§Ìä∏Î•º ÏûëÏÑ±ÌïòÎäîÎç∞ ÏÇ¨Ïö©ÎêòÎäî ÌîÑÎ†àÏûÑÏõåÌÅ¨ ÏûÖÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">testImplementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-test&#x27;</span></span><br></pre></td></tr></table></figure>
<p>build.gradle ÏóêÏÑú Ìï¥Îãπ ÏùòÏ°¥ÏÑ±ÏùÑ Ï∂îÍ∞Ä ÌïòÎ©¥ ÏûêÎèôÏúºÎ°ú Junit ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º ÎÇ¥Ïû• ÌïòÍ≤å Îê©ÎãàÎã§.</p>
<h2 id="TDD-ÎûÄ-Î¨¥ÏóáÏùºÍπå"><a href="#TDD-ÎûÄ-Î¨¥ÏóáÏùºÍπå" class="headerlink" title="TDD ÎûÄ Î¨¥ÏóáÏùºÍπå?"></a>TDD ÎûÄ Î¨¥ÏóáÏùºÍπå?</h2><p>TEST Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í∏∞Ï†Ñ TDD (Test Driven Development) Í¥ÄÎ†®Ìï¥ÏÑú ÏïåÏïÑÎ≥¥ÎäîÍ≤ÉÎèÑ Ï§ëÏöîÌïòÎã§ ÏÉùÍ∞ÅÌïòÏó¨ ÌïúÎ≤à Ï∂îÍ∞Ä Ìï¥Î≥¥ÏïòÏäµÎãàÎã§.<br>Íµ¨ÌòÑ ÏàúÏÑúÎ°ú ÏÉùÍ∞ÅÌï¥Î≥¥ÏûêÎ©¥ Î®ºÏ†Ä Í∏∞Îä•ÏùÑ Íµ¨ÌòÑ Ìïú Îí§Ïóê Í∑∏ Îã§Ïùå TEST Î•º Íµ¨ÌòÑÌïúÎã§Í≥† ÏÉùÍ∞ÅÌïòÍ∏∞ ÏâΩÎã§Í≥† ÏÉùÍ∞Å Ìï† Ïàò ÏûàÏäµÎãàÎã§. ‚ÄòTDD‚Äô Í≤ΩÏö∞Îäî Í∏∞Îä•ÏùÑ Íµ¨ÌòÑÌïòÏ†Ñ<br>Î®ºÏ†Ä TEST Î•º Íµ¨ÌòÑÌïòÍ≥† Í∏∞Îä•ÏùÑ Íµ¨ÌòÑ ÌïòÎäî Í∞úÎ∞ú Î∞©Î≤ïÎ°† ÏûÖÎãàÎã§.</p>
<p><img src="/../../../../img/JAVA/TEST/PaymentTesting/TDD_RedGreenRefactor.png" alt="TDD Red-Green-Refactor"></p>
<p>TDD Ïùò ÎåÄÌëúÏ†ÅÏù∏ Í∞úÎ∞úÏ£ºÍ∏∞Ïù∏ Red, Green, Refactor ÏûÖÎãàÎã§. Í∞ÅÍ∞Å Îã®Ïñ¥Î•º ÏÑ§Î™Ö ÌïòÏûêÎ©¥</p>
<ol>
<li>‚ÄòRed‚Äô Îã®Í≥Ñ Í≤ΩÏö∞ Ïã§Ìå®ÌïòÎäî ÌÖåÏä§Ìä∏ ÏΩîÎìúÎ•º Î®ºÏ†Ä ÏûëÏÑ± Ìï©ÎãàÎã§.</li>
<li>‚ÄòGreen‚Äô Îã®Í≥Ñ ÌÖåÏä§Ìä∏ ÏΩîÎìúÎ•º ÏÑ±Í≥µÏãúÌÇ§Í∏∞ ÏúÑÌïú Í∏∞Îä•Ïù¥ ÎêòÎäî Ïã§Ï†ú ÏΩîÎìúÎ•º ÏûëÏóÖ Ìï©ÎãàÎã§.</li>
<li>‚ÄòYellow‚Äô Îã®Í≥Ñ Í≤ΩÏö∞ Ï§ëÎ≥µ ÏΩîÎìú Ï†úÍ±∞ Í∑∏Î¶¨Í≥† ÏùºÎ∞òÌôî Îì±Ïùò Î¶¨Ìå©ÌÜ†ÎßÅÏùÑ ÏàòÌñâ ÌïòÎäî ÏûëÏóÖ ÏûÖÎãàÎã§.</li>
</ol>
<p>Ïù¥Î†áÍ≤å Î®ºÏ†Ä ÌÖåÏä§Ìä∏ ÏΩîÎìúÎ•º ÏûëÏÑ±ÌïòÍ≥† Ïù¥ÌõÑ Í∏∞Îä• Íµ¨ÌòÑ ÏàúÏÑúÎ°ú Í∞ÄÏïº ÌïòÎäî Ïù¥Ïú†Îäî Ïó¨Îü¨Í∞ÄÏßÄÍ∞Ä ÏûàÏùÑÏàò ÏûàÍ≤†ÏäµÎãàÎã§. ÏÇ¨ÎûåÏùò Ïã¨Î¶¨ÏÉÅ Í∏∞Îä• Íµ¨ÌòÑÏùÑ Ìïú Îã§Ïùå ÏãúÍ∞ÑÏù¥ ÏóÜÎã§ ÏÉùÍ∞ÅÌïòÏó¨<br>TEST Íµ¨ÌòÑÏùÑ Î™ª Ìï†ÏàòÎèÑ ÏûàÏäµÎãàÎã§. Ïù¥Îü¨Ìïú Ïã§ÏàòÎ•º Î∞©ÏßÄ ÌïòÍ∏∞ÏúÑÌï¥ TEST Íµ¨ÌòÑ Î∂ÄÌÑ∞ ÌïòÎäî Ïù¥Ïú† Ï§ë ÌïòÎÇò Ïù¥Í≤†ÏäµÎãàÎã§.</p>
<p>Í∑∏Î¶¨Í≥† Îòê ÌïòÎÇòÎäî Í∏∞Îä• Íµ¨ÌòÑÎ∂ÄÌÑ∞ ÌïúÎã§Î©¥ ÎØ∏Î¶¨ ÏûëÏÑ±Ìïú Í∏∞Îä• Íµ¨ÌòÑ Î≤†Ïù¥Ïä§Î°ú TEST Î•º ÏûëÏÑ±ÏùÑ ÌïòÍ∏∞ ÎïåÎ¨∏Ïóê Ïù¥ÎØ∏ Ïñ¥ÎäêÏ†ïÎèÑ ÏûëÎèôÏù¥ ÏûòÎêòÎäî ÏÜåÏä§ ÏΩîÎìú Í∏∞Î∞òÏúºÎ°ú TEST Íµ¨ÌòÑ ÌïòÍ∏∞ ÎïåÎ¨∏ ÏûÖÎãàÎã§.<br>Ïù¥Îü¨Ìïú Í∏çÏ†ïÏ†ÅÏù∏ ÏÇ¨Í≥†Î°ú Ïù∏Ìï¥ Ìï¥Îãπ Ïò§ÌçºÎ†àÏù¥ÏÖòÏóêÏÑú ÏòàÏô∏Í∞Ä Î∞úÏÉù Ìï† Ïàò ÏûàÎäî ÏºÄÏù¥Ïä§Î•º ÎàÑÎùΩ Îê† Ïàò ÏûàÎäî Ïã§ÏàòÍ∞Ä Î∞úÏÉù Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
<p>Î®ºÏ†Ä TEST Íµ¨ÌòÑÌïòÍ≥† ÎÇòÏ§ëÏóê Í∏∞Îä• Íµ¨ÌòÑÏùÑ ÌïòÍ≤å ÎêúÎã§Î©¥ TEST Íµ¨ÌòÑÌïòÎäî Í≥ºÏ†ïÏóêÏÑú Ïù¥Ï†Ñ Î≥¥Îã§ ÎÜìÏπòÍ∏∞ Ïâ¨Ïö¥ Îçî ÎßéÏùÄ ÏòàÏô∏ ÏºÄÏù¥Ïä§Ïóê ÎåÄÌïú ÏÇ¨Í≥†Í∞Ä ÎçîÌï¥ÏßÄÎ©¥ÏÑú Í≤∞Íµ≠ ÏÜåÌîÑÌä∏Ïõ®Ïñ¥Í∞Ä ÏïàÏ†ïÌôî Îê†Ïàò ÏûàÍ≤†ÏäµÎãàÎã§.</p>
<h2 id="Layered-Architecture-Î†àÏù¥Ïñ¥Îìú-ÏïÑÌÇ§ÌÖçÏ≤ò"><a href="#Layered-Architecture-Î†àÏù¥Ïñ¥Îìú-ÏïÑÌÇ§ÌÖçÏ≤ò" class="headerlink" title="Layered Architecture Î†àÏù¥Ïñ¥Îìú ÏïÑÌÇ§ÌÖçÏ≤ò"></a>Layered Architecture Î†àÏù¥Ïñ¥Îìú ÏïÑÌÇ§ÌÖçÏ≤ò</h2><p><img src="/../../../../img/JAVA/TEST/PaymentTesting/LayeredArchitecture.png" alt="Layered Architecture Í≥ÑÏ∏µ"></p>
<p>TEST Íµ¨ÌòÑÌïòÍ∏∞ Ï†Ñ ‚ÄòLayered Architecture‚Äô Ïóê ÎåÄÌï¥ ÏïåÏïÑÎ≥ºÎ†§Í≥† Ìï©ÎãàÎã§. Ïù¥Î†áÍ≤å Í∞ÅÍ∞ÅÏùò Î†àÏù¥Ïñ¥Î•º Î∂ÑÎ¶¨ ÌïòÎäî Ïù¥Ïú†Îäî ‚ÄòÍ¥ÄÏã¨ÏÇ¨‚Äô Ïùò Î∂ÑÎ¶¨Î°ú ÏãúÏûë ÌïúÎã§Í≥† Î≥¥Î©¥ Îê† Í≤É Í∞ôÏäµÎãàÎã§.</p>
<p>Ïó¨Îü¨ Í∏∞Îä•ÏùÑ Í∞ÅÍ∞ÅÏùò Ïó≠ÌôúÏùÑ Î∂ÑÎ¶¨ ÌïòÎ©¥ÏÑú Í¥ÄÏã¨ÏÇ¨Î•º Î∂ÑÎ¶¨ ÌïòÎØÄÎ°úÏç® Î†àÏù¥Ïñ¥Î•º Î∂ÑÎ¶¨ ÌïòÎäî Í≤É ÏûÖÎãàÎã§. Ï¶â Í¥ÄÏã¨ÏÇ¨Î•º Î∂ÑÎ¶¨Ìï¥ Í∞ÅÍ∞ÅÏùò Ï±ÖÏûÑÏùÑ ÎÇòÎàÑÍ≥† Ïú†ÏßÄÎ≥¥ÏàòÎ•º Ï°∞Í∏à Îçî<br>Ïö©Ïù¥ ÌïòÍ∏∞ ÏúÑÌï®Ïù¥ÎùºÍ≥† Î≥¥Î©¥ Îê©ÎãàÎã§.</p>
<p>Í∑∏Îüº TEST ÏΩîÎìú ÏûëÏÑ±ÏãúÏóêÎèÑ Ïù¥Î†áÍ≤å Î†àÏù¥Ïñ¥Î°ú Î∂ÑÎ¶¨ Ìï¥Î≥¥Î©¥ÏÑú Í¥ÄÏã¨ÏÇ¨Î•º Î∂ÑÎ¶¨ Ìï¥Î≥¥Îäî Í≤ÉÏù¥ Ïñ¥Îñ®Íπå ÏûÖÎãàÎã§. </p>
<h2 id="ÌÜµÌï©-ÌÖåÏä§Ìä∏-Integration-Test"><a href="#ÌÜµÌï©-ÌÖåÏä§Ìä∏-Integration-Test" class="headerlink" title="ÌÜµÌï© ÌÖåÏä§Ìä∏ (Integration Test)"></a>ÌÜµÌï© ÌÖåÏä§Ìä∏ (Integration Test)</h2><p><img src="/../../../../img/JAVA/TEST/PaymentTesting/IntegrationTest.png" alt="ÌÜµÌï© ÌÖåÏä§Ìä∏ ÏòàÏãú"></p>
<p>Í∞ùÏ≤¥ÏßÄÌñ• Í∞úÎ∞ú Î∞©ÏãùÏóêÏÑú ÏòàÎ•ºÎì§Ïñ¥ Í∞ÅÍ∞ÅÏùò A Í∞ùÏ≤¥ B Í∞ùÏ≤¥ ÏÑúÎ°ú ÌòëÎ†• ÌïòÎ©¥ÏÑú ÎèôÏûë ÌïòÍ≤å Îê©ÎãàÎã§. Í∞ÅÍ∞Å Îã®Ïùº ÌÖåÏä§Ìä∏Î°úÎäî A Í∞ùÏ≤¥ Í∑∏Î¶¨Í≥† B Í∞ùÏ≤¥ Ïñ¥Îñ§ Í≤∞Í≥ºÍ∞Ä Î∞úÏÉù<br>ÎêòÎäîÏßÄ ÏòàÏ∏°ÌïòÍ∏∞ Ïâ¨Ïõ†ÏßÄÎßå Ïù¥Î•º ÏÑúÎ°ú ÌòëÎ†• ÌÜµÌï¥ ÌÜµÌï© ÌïòÎ©¥ÏÑú ÏÉùÍ∞ÅÌïòÎ©¥ Ïñ¥ÎñªÍ≤å ÎèôÏûëÏùÑ ÌïòÎäîÏßÄ ÏòàÏ∏°ÌïòÍ∏∞ Ïñ¥Î†µÍ≤å Îê©ÎãàÎã§.</p>
<p>‚ÄòÌÜµÌï© ÌÖåÏä§Ìä∏ (Integration Test)‚Äô ÌÜµÌï¥ Ïó¨Îü¨ Î™®ÎìàÏù¥ ÌòëÎ†•ÌïòÎäî Í∏∞Îä•ÏùÑ ÌÜµÌï©Ï†ÅÏúºÎ°ú Í≤ÄÏ¶ù ÌïòÎäî ÌÖåÏä§Ìä∏Í∞Ä ÎÇòÏò®Í≤É ÏûÖÎãàÎã§.</p>
<p>ÏÑúÎ°ú ÌòëÎ†•ÏùÑ ÌÜµÌï¥ ÏùºÎ∞òÏ†ÅÏúºÎ°ú Îã®Ïùº ÌÖåÏä§Ìä∏Î°úÎäî ÏòàÏ∏°ÌïòÍ∏∞ Ïñ¥Î†§Ïö¥ Î¨∏Ï†úÎ•º ÌÜµÌï© ÌÖåÏä§Ìä∏Î•º ÌÜµÌï¥ Ïù¥Î•º Ìï¥Í≤∞ÌïòÏûêÎäî Ïù¥ÏïºÍ∏∞ ÏûÖÎãàÎã§. </p>
<p>Ïù¥Î≤à ÌÖåÏä§Ìä∏ Í≤ΩÏö∞Îäî ÏïûÏç® Layered Architecture Î•º ÏÑ§Î™ÖÌïú ÎåÄÎ°ú Í∞ÅÍ∞ÅÏùò Î†àÏù¥Ïñ¥ Îã®ÏúÑÎ°ú ÌÖåÏä§Ìä∏Î•º ÌïòÍ≥† ÏÑúÎ°ú ÌòëÎ†• ÌïòÎäî Î†àÏù¥Ïñ¥ Î∂ÄÎ∂ÑÏùÄ ÌÜµÌï© ÌÖåÏä§Ìä∏Î•º ÌÜµÌï¥ ÏßÑÌñâ Ìï¥Î≥ºÎ†§Í≥† Ìï©ÎãàÎã§.</p>
<h2 id="Persistence-Layer-ÌÖåÏä§Ìä∏"><a href="#Persistence-Layer-ÌÖåÏä§Ìä∏" class="headerlink" title="Persistence Layer ÌÖåÏä§Ìä∏"></a>Persistence Layer ÌÖåÏä§Ìä∏</h2><p><img src="/../../../../img/JAVA/TEST/PaymentTesting/PersistenceLayerTest.png" alt="Persistence Layer Test"></p>
<p>Î®ºÏ†Ä ‚ÄòPersistence Layer‚Äô ÏóêÏÑú Îì±Î°ùÎêú ÏÉÅÌíàÏùÑ Ï°∞Ìöå ÌïòÎäî ÌÖåÏä§Ìä∏ ÏûëÏÑ±ÏùÑ ÏßÑÌñâ Ìï¥Î≥ºÎ†§Í≥† Ìï©ÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">ActiveProfiles</span>(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">@<span class="title class_">SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductRepositoryTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">ProductRepository</span> productRepository;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    @<span class="title class_">DisplayName</span>(<span class="string">&quot;Îì±Î°ùÎêú ÏÉÅÌíàÎì§ÏùÑ Ï°∞ÌöåÌïúÎã§.&quot;</span>)</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">selectProduct</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        <span class="title class_">Product</span> product1 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product2 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product3 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>));</span><br><span class="line"></span><br><span class="line">        productRepository.<span class="title function_">saveAll</span>(<span class="title class_">List</span>.<span class="title function_">of</span>(product1, product2, product3));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Product</span>&gt; products = productRepository.<span class="title function_">selectProductAll</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        <span class="title function_">assertThat</span>(products).<span class="title function_">hasSize</span>(<span class="number">3</span>)</span><br><span class="line">                .<span class="title function_">extracting</span>(<span class="string">&quot;productId&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;price&quot;</span>)</span><br><span class="line">                .<span class="title function_">usingRecursiveFieldByFieldElementComparator</span>(</span><br><span class="line">                        <span class="title class_">RecursiveComparisonConfiguration</span>.<span class="title function_">builder</span>()</span><br><span class="line">                                .<span class="title function_">withComparatorForType</span>(<span class="title class_">BigDecimal</span>::compareTo, <span class="title class_">BigDecimal</span>.<span class="property">class</span>).<span class="title function_">build</span>()</span><br><span class="line">                )</span><br><span class="line">                .<span class="title function_">containsExactlyInAnyOrder</span>(</span><br><span class="line">                        <span class="title function_">tuple</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>)),</span><br><span class="line">                        <span class="title function_">tuple</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>)),</span><br><span class="line">                        <span class="title function_">tuple</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>))</span><br><span class="line">                );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private <span class="title class_">Product</span> <span class="title function_">createProduct</span>(<span class="params"><span class="built_in">String</span> productId, <span class="built_in">String</span> name, BigDecimal price</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Product</span>.<span class="title function_">of</span>(productId, name, price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>TEST ÏΩîÎìúÎ•º Î≥¥Î©¥ Îã®ÏàúÌïòÍ≤å Îì±Î°ùÎêú ÏÉÅÌíàÏùÑ Ï°∞Ìöå ÌïòÎäî Ïó≠ÌôúÏù∏Îç∞ Ïù¥Í≤ÉÏùÑ TEST Î•º Íµ≥Ïù¥ Ìï¥Ïïº ÌïòÎäîÍ∞Ä? ÎùºÎäî ÏùòÎ¨∏Ïù¥ ÏÉùÍ∏∏Ïàò ÏûàÏäµÎãàÎã§. ÌïòÏßÄÎßå ÏßÄÍ∏àÏùÄ ÏòàÏ∏°Ïù¥<br>ÏâΩÍ≤å Í∞ÄÎä•Ìïú Îã®Ïàú ÏÉÅÌíà Ï°∞ÌöåÏù¥ÏßÄÎßå ÎÇòÏ§ëÏóê ÏÉÅÌíà Ï°∞Ìöå Í∏∞Îä•Ïù¥ ÎçîÏö± Î≥µÏû°Ìï¥ÏßÄÍ≥† Í∏∞Îä•Ïù¥ Ï∂îÍ∞Ä ÎêòÎ©¥ÏÑú Ïù¥Ïóê Î≥¥Ïû• Ìï† Ïàò ÏûàÎäî ÎØ∏Î¶¨ TEST ÏΩîÎìúÎ•º ÏûëÏÑ± ÌïòÎ©¥ÏÑú Ïã†Î¢∞ÏÑ± ÏûàÎäî<br>Í∏∞Îä• Ï∂îÍ∞ÄÍ∞Ä Í∞ÄÎä•Ìï¥ÏßëÎãàÎã§.</p>
<p>Persistence Layer ÌÖåÏä§Ìä∏ Ï£ºÏöî Î™©ÌëúÎäî Îç∞Ïù¥ÌÑ∞ Access Í∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ïó≠Ìï†ÏùÑ Ïûò ÏàòÌñâ ÌïòÍ≥† ÏûàÎäîÏßÄ Í∑∏Î¶¨Í≥† Ïò§Î°úÏßÄ Data Ïóê ÎåÄÌïú CRUD Í¥ÄÎ†® TEST Îßå ÏßÑÌñâ ÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§.<br>Ï¶â Í∑∏Ïô∏ ÎπÑÏßÄÎãàÏä§ Í∞ÄÍ≥µ Î°úÏßÅÏóê Ìè¨Ìï® ÎêòÏñ¥ÏÑúÎäî ÏïàÎê©ÎãàÎã§.</p>
<h2 id="SpringBootTest-VS-DataJpaTest"><a href="#SpringBootTest-VS-DataJpaTest" class="headerlink" title="@SpringBootTest VS @DataJpaTest"></a>@SpringBootTest VS @DataJpaTest</h2><p>ÏÉÅÌíà Ï°∞Ìöå Í∏∞Îä• ÌÖåÏä§Ìä∏Î•º ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú JPA Í∏∞Ïà† ÌÜµÌï¥ Ï°∞ÌöåÎ•º ÌïòÍ≥† ÏûàÎäîÎç∞Ïöî. Í∑∏Îü¨Î©¥ ÏÉùÍ∞Å Ìï† Ïàò ÏûàÎäî Î∂ÄÎ∂ÑÏù¥ ‚Äò@SpringBootTest‚Äô ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÍ≥†<br>‚Äò@DataJpaTest‚Äô Î•º ÏÇ¨Ïö©ÌïòÎ©¥ÏÑú Î∂àÌïÑÏöîÌïú ÎπàÏùÑ ÏµúÏÜåÌôî ÌïòÎ©¥ Ïñ¥Îñ®Íπå ÏÉùÍ∞ÅÏù¥ Î∞úÏÉù Ìï† Ïàò ÏûàÏäµÎãàÎã§. </p>
<p>@DataJpaTest Í≤ΩÏö∞Îäî @SpringBootTest Îã§Î•¥Í≤å JPA Í¥ÄÎ†®Îêú ÎπàÎì§Îßå Îì±Î°ùÌï¥Ï£ºÍ∏∞ ÎïåÎ¨∏Ïóê Îçî Í∞ÄÎ≥çÎã§Îäî Ïû•Ï†êÏù¥ ÏûàÏäµÎãàÎã§. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Target</span>(value=<span class="variable constant_">TYPE</span>)</span><br><span class="line">@<span class="title class_">Retention</span>(value=<span class="variable constant_">RUNTIME</span>)</span><br><span class="line">@<span class="title class_">Documented</span></span><br><span class="line">@<span class="title class_">Inherited</span> @<span class="title class_">BootstrapWith</span>(value=org.<span class="property">springframework</span>.<span class="property">boot</span>.<span class="property">test</span>.<span class="property">autoconfigure</span>.<span class="property">orm</span>.<span class="property">jpa</span>.<span class="property">DataJpaTestContextBootstrapper</span>.<span class="property">class</span>)</span><br><span class="line">@<span class="title class_">ExtendWith</span>(value=org.<span class="property">springframework</span>.<span class="property">test</span>.<span class="property">context</span>.<span class="property">junit</span>.<span class="property">jupiter</span>.<span class="property">SpringExtension</span>.<span class="property">class</span>)</span><br><span class="line">@<span class="title class_">OverrideAutoConfiguration</span>(enabled=<span class="literal">false</span>)</span><br><span class="line">@<span class="title class_">TypeExcludeFilters</span>(value=<span class="title class_">DataJpaTypeExcludeFilter</span>.<span class="property">class</span>)</span><br><span class="line">@<span class="title class_">Transactional</span></span><br><span class="line">@<span class="title class_">AutoConfigureCache</span></span><br><span class="line">@<span class="title class_">AutoConfigureDataJpa</span></span><br><span class="line">@<span class="title class_">AutoConfigureTestDatabase</span></span><br><span class="line">@<span class="title class_">AutoConfigureTestEntityManager</span></span><br><span class="line">@<span class="title class_">ImportAutoConfiguration</span></span><br><span class="line">public @interface <span class="title class_">DataJpaTest</span></span><br></pre></td></tr></table></figure>

<p>Í∞úÏù∏Ï†ÅÏúºÎ°ú @DataJpaTest Î≥¥Îã§ @SpringBootTest Ïù¥ ÏÑ†Ìò∏ ÌïòÎäîÎç∞Ïöî. ‚Äò@DataJpaTest‚Äô ÏïàÏóê Îì§Ïñ¥Îã§ Î≥¥Î©¥ @Transaction ÏóêÎÖ∏ÌÖåÏù¥ÏÖòÏùÑ ÌôïÏù∏ Ìï†Ïàò ÏûàÏäµÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Target</span>(value=<span class="variable constant_">TYPE</span>)</span><br><span class="line">@<span class="title class_">Retention</span>(value=<span class="variable constant_">RUNTIME</span>)</span><br><span class="line">@<span class="title class_">Documented</span></span><br><span class="line">@<span class="title class_">Inherited</span></span><br><span class="line">@<span class="title class_">BootstrapWith</span>(value=<span class="title class_">SpringBootTestContextBootstrapper</span>.<span class="property">class</span>)</span><br><span class="line">@<span class="title class_">ExtendWith</span>(value=org.<span class="property">springframework</span>.<span class="property">test</span>.<span class="property">context</span>.<span class="property">junit</span>.<span class="property">jupiter</span>.<span class="property">SpringExtension</span>.<span class="property">class</span>)</span><br><span class="line">public @interface <span class="title class_">SpringBootTest</span></span><br></pre></td></tr></table></figure>

<p>ÌïòÏßÄÎßå Î∞òÎåÄÎ°ú @SpringBootTest Îäî @Transaction ÏóêÎÖ∏ÌÖåÏù¥ÏÖòÏù¥ ÏóÜÎäîÍ≤ÉÏùÑ ÌôïÏù∏ Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">Test</span></span><br><span class="line"><span class="keyword">void</span> AÏÉÅÌíà_Ï°∞Ìöå() &#123;</span><br><span class="line">    <span class="comment">// given</span></span><br><span class="line">    <span class="comment">// A ÏÉÅÌíà Îì±Î°ù - 1Í∞ú Îì±Î°ù</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// when</span></span><br><span class="line">    <span class="comment">// Îì±Î°ùÌïú ÏÉÅÌíà Ï°∞Ìöå</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// then</span></span><br><span class="line">    <span class="comment">// Îì±Î°ù Ìïú ÏÉÅÌíà count ÎπÑÍµê</span></span><br><span class="line">    <span class="comment">// 1Í∞úÎùºÍ≥† ÏòàÏÉÅ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Test</span></span><br><span class="line"><span class="keyword">void</span> BÏÉÅÌíà_Ï°∞Ìöå() &#123;</span><br><span class="line">    <span class="comment">// given</span></span><br><span class="line">    <span class="comment">// B ÏÉÅÌíà Îì±Î°ù - 1Í∞ú Îì±Î°ù</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// when</span></span><br><span class="line">    <span class="comment">// Îì±Î°ùÌïú ÏÉÅÌíà Ï°∞Ìöå</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// then</span></span><br><span class="line">    <span class="comment">// Îì±Î°ù Ìïú ÏÉÅÌíà count ÎπÑÍµê</span></span><br><span class="line">    <span class="comment">// 1Í∞úÎùºÍ≥† ÏòàÏÉÅ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÌïúÎ≤à ÏãúÎÇòÎ¶¨Ïò§Î•º ÏûëÏÑ± Ìï¥Î≥¥Í≤†ÏäµÎãàÎã§. @Transaction Ïù¥ ÏûàÏúºÎ©¥ ‚ÄòAÏÉÅÌíà_Ï°∞Ìöå‚Äô TEST Î•º ÏôÑÎ£å ÌïòÎ©¥ ÏûêÎèôÏúºÎ°ú Î°§Î∞±Ïù¥ ÏßÑÌñâ ÎêòÍ≥† (ÏÉÅÌíà ÌÖåÏù¥Î∏î ÎîîÎπÑ Îì±Î°ù Î°§Î∞±) ‚ÄòBÏÉÅÌíà_Ï°∞Ìöå‚Äô TEST Î•º ÏßÑÌñâ Ìï†Í≤É ÏûÖÎãàÎã§.<br>Í∑∏Îü¨Î©¥ ‚ÄòBÏÉÅÌíà_Ï°∞Ìöå‚Äô TEST Î•º ÏßÑÌñâ ÌïòÎ©¥ ÏÉÅÌíà ÌÖåÏù¥Î∏îÏóê ÌïúÍ∞ú ÏÉÅÌíàÏù¥ Îì±Î°ùÎêòÎ©¥ÏÑú Ï¥ù 1Í∞ú ÏÉÅÌíàÏù¥ Îì±Î°ùÎêòÏñ¥Ï†∏ ÏûàÏäµÎãàÎã§. (‚ÄòBÏÉÅÌíà_Ï°∞Ìöå‚Äô TEST Í∞Ä ÎÅùÎÇòÎ©¥ Î°§Î∞± ÏßÑÌñâ) </p>
<p>ÌïòÏßÄÎßå TEST ÏΩîÎìúÏóêÏÑú @Transaction Ï∂îÍ∞ÄÏãú Í≥†Î†§Ìï¥Ïïº Ìï† ÏÉÅÌô©Îì§Ïù¥ ÏûàÎäîÎç∞Ïöî. ÏïûÏç® Ïù¥ÏïºÍ∏∞Ìïú TDD Î∞©Ïãù Í∑∏Îü¨ÎãàÍπê TEST ÏΩîÎìúÎ•º Î®ºÏ†Ä ÏûëÏÑ± ÌïòÍ≥† Í∏∞Îä•ÏùÑ Íµ¨ÌòÑ ÌïòÎäî Í≥ºÏ†ïÏóêÏÑú<br>Ïã§Ïàò Ìï† Ïàò ÏûàÎäî Î∂ÄÎ∂ÑÏù¥ ÏûàÏäµÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@<span class="title class_">DataJpaTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductRepositoryTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    <span class="keyword">void</span> AÏÉÅÌíà_Ï°∞Ìöå() &#123;</span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        <span class="comment">// A ÏÉÅÌíà Îì±Î°ù - 1Í∞ú Îì±Î°ù</span></span><br><span class="line">        <span class="comment">// Îì±Î°ùÎêú A ÏÉÅÌíà Ïû¨Í≥† ÏàòÎüâ 5Î°ú Î≥ÄÍ≤Ω (JPA Î≥ÄÍ≤Ω Í∞êÏßÄ Í∏∞Îä• ÌÜµÌï¥ ÎîîÎπÑ ÏóÖÎç∞Ïù¥Ìä∏ ÏßÑÌñâ)    </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        <span class="comment">// Îì±Î°ùÌïú ÏÉÅÌíà Ï°∞Ìöå</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        <span class="comment">// Îì±Î°ù Ìïú ÏÉÅÌíà Ïû¨Í≥† ÏàòÎüâ ÎπÑÍµê</span></span><br><span class="line">        <span class="comment">// Ïû¨Í≥† ÏàòÎüâ 5Í∞úÎùºÍ≥† ÏòàÏÉÅ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÏÉÅÌíà Îì±Î°ù ÌõÑ Ïû¨Í≥† ÏàòÎüâÏùÑ 5Í∞úÎ°ú ÏóÖÎç∞Ïù¥Ìä∏ ÌïòÍ≥† ÏàòÎüâ ÎπÑÍµê ÌïòÎäî TEST ÏΩîÎìú ÏûÖÎãàÎã§. @Transaction ÎÇ¥Ïóê Ïã§Ìñâ ÎêòÎäî ÏΩîÎìúÏù¥Îãà JPA Î≥ÄÍ≤Ω Í∞êÏßÄ Í∏∞Îä• ÌÜµÌï¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Î≥ÄÍ≤ΩÎêú Ïû¨Í≥† ÏàòÎüâÏúºÎ°ú<br>ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä Î∞úÏÉù Ìï† Í≤É ÏûÖÎãàÎã§.</p>
<p>ÌïòÏßÄÎßå Ïù¥Î†áÍ≤å ÏùòÎèÑÌïú ÎåÄÎ°ú ÏÑ† TEST ÏΩîÎìú ÏûëÏÑ± ÌõÑ Í∏∞Îä• Íµ¨ÌòÑ ÏßÑÌñâÌïòÎäî Í≥ºÏ†ïÏóêÏÑú Ïù¥Î†áÍ≤å Ï†ïÏÉÅÏ†ÅÏúºÎ°ú TEST ÏßÑÌñâÎêòÎäî Í≤ÉÏùÑ Ï∞©Í∞Å ÌïòÍ≥†<br>Ïû¨Í≥† ÏàòÎüâ Î≥ÄÍ≤Ω ÌïòÎäî Í∏∞Îä• Íµ¨ÌòÑÌïòÎäî Îã®Í≥ÑÏóê Ï†ïÏûë ÌïÑÏöîÌïú @Transaction ÏóêÎÖ∏ÌÖåÏù¥ÏÖòÏùÑ Ï∂îÍ∞Ä ÌïòÏßÄ ÏïäÎäî Ïã§ÏàòÎ•º Î≤îÌïòÎ©¥ Ïù¥ÏïºÍ∏∞Í∞Ä Îã¨ÎùºÏßëÎãàÎã§.</p>
<p>Ïã§Ï†úÎ°ú Ïù¥ÎåÄÎ°ú Î∞∞Ìè¨Î•º ÌïòÍ≥† ÏÇ¨Ïö©ÏûêÍ∞Ä Ïù¥ ÌîÑÎ°úÏÑ∏Ïä§ÎåÄÎ°ú ÏßÑÌñâÏãú Î∂ÑÎ™Ö ÏóêÎü¨Í∞Ä Î∞úÏÉù Ìï† Í≤É ÏûÖÎãàÎã§. Íµ¨ÌòÑÎã®ÏóêÎäî @Transaction Í∏∞Îä•ÏùÑ Ï∂îÍ∞Ä ÌïòÏßÄ ÏïäÎäî ÏÉÅÌÉúÏù¥Îãà<br>JPA Î≥ÄÍ≤ΩÍ∞êÏßÄÍ∞Ä Î∞úÎèôÌïòÏßÄ ÏïäÍ≥† Ï†úÌíà ÏàòÎüâÏù¥ ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä ÎêòÏßÄ ÏïäÎäî Î¨∏Ï†úÍ∞Ä Î∞úÏÉù Ìï† Í≤É ÏûÖÎãàÎã§.</p>
<p>Ïù¥Îü¨Ìïú Ïã§ÏàòÎ•º Î∞©ÏßÄ ÌïòÍ∏∞ ÏúÑÌï¥ Ï†ÄÍ∞ôÏùÄ Í≤ΩÏö∞ @SpringBootTest ÏÇ¨Ïö©Ìï¥ÏÑú Ïã§ÏàòÎ•º ÏÇ¨Ï†ÑÏóê Î∞©ÏßÄ ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.</p>
<h2 id="Business-Layer-ÌÖåÏä§Ìä∏"><a href="#Business-Layer-ÌÖåÏä§Ìä∏" class="headerlink" title="Business Layer ÌÖåÏä§Ìä∏"></a>Business Layer ÌÖåÏä§Ìä∏</h2><p><img src="/../../../../img/JAVA/TEST/PaymentTesting/BusinessLayerTest.png" alt="Business Layer Test"></p>
<p>Business Layer ÌÖåÏä§Ìä∏ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§. Îßê Í∑∏ÎåÄÎ°ú ÎπÑÏßÄÎãàÏä§ Í¥ÄÎ†® Î°úÏßÅ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Íµ¨ÌòÑÎêòÍ≥† ÏûàÎäîÏßÄ Ï≤¥ÌÅ¨ ÌïòÎäî Ïó≠Ìôú ÏûÖÎãàÎã§.<br>Ïù¥Ï†ÑÏóê ÏïåÏïÑÎ≥¥ÏïòÎçò Persistence Layer ÌÖåÏä§Ìä∏ÏôÄ Ìï®Íªò ÏÉÅÌò∏ ÏûëÏö©ÏùÑ ÌïòÎ©¥ÏÑú Business Layer ÌÖåÏä§Ìä∏ ÏßÑÌñâ ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.</p>
<p>Í∑∏Î¶¨Í≥† Ï§ëÏöîÌïú Í≤ÉÏù¥ Ìä∏ÎûúÏû≠ÏÖòÏù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Î≥¥Ïû•Ïù¥ ÎêòÍ≥† ÏûàÎäîÏßÄ Ï≤¥ÌÅ¨ÎèÑ Ìï¥Ïïº Ìï©ÎãàÎã§. ÏòàÏô∏ Exception Ïù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Î∞úÏÉùÎêòÎäî TEST ÏßÑÌñâ ÌïòÎ©¥ÏÑú<br>Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Î°§Î∞±Ïù¥ Ïûò ÏßÑÌñâ ÎêòÏóàÎäîÏßÄ Ï≤¥ÌÅ¨ÎèÑ Ìï¥Ïïº Ìï©ÎãàÎã§.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title class_">ActiveProfiles</span>(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">@<span class="title class_">SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PaymentConfirmApiServiceTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">ProductRepository</span> productRepository;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">PaymentEventRepository</span> paymentEventRepository;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">PaymentOrderRepository</span> paymentOrderRepository;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">PaymentOrderHistoryRepository</span> paymentOrderHistoryRepository;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">PaymentCheckOutApiService</span> paymentCheckOutApiService;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">PaymentConfirmApiService</span> paymentConfirmApiService;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Autowired</span></span><br><span class="line">    private <span class="title class_">PaymentEventQueryService</span> paymentEventQueryService;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">MockBean</span></span><br><span class="line">    protected <span class="title class_">TossPaymentClient</span> tossPaymentClient;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">AfterEach</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">tearDown</span>(<span class="params"></span>) &#123;</span><br><span class="line">        paymentOrderHistoryRepository.<span class="title function_">deleteAllInBatch</span>();</span><br><span class="line">        paymentOrderRepository.<span class="title function_">deleteAllInBatch</span>();</span><br><span class="line">        productRepository.<span class="title function_">deleteAllInBatch</span>();</span><br><span class="line">        paymentEventRepository.<span class="title function_">deleteAllInBatch</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    @<span class="title class_">DisplayName</span>(<span class="string">&quot;ÏÉÅÌíà Ï£ºÎ¨∏ ÌïòÍ∏∞ ÏúÑÌïú Confirm Í∏∞Îä•ÏùÑ Ïã§Ìñâ Ìï©ÎãàÎã§.&quot;</span>)</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">paymentConfirm</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        <span class="title class_">Product</span> product1 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product2 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product3 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>));</span><br><span class="line"></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Product</span>&gt; productList = productRepository.<span class="title function_">saveAll</span>(<span class="title class_">List</span>.<span class="title function_">of</span>(product1, product2, product3));</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">ProductOutPut</span>&gt; productOutPutList = <span class="title class_">ProductOutPut</span>.<span class="title function_">of</span>(productList);</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Long</span>&gt; productNoList = productOutPutList.<span class="title function_">stream</span>()</span><br><span class="line">                .<span class="title function_">map</span>(<span class="title class_">ProductOutPut</span>::getNo)</span><br><span class="line">                .<span class="title function_">toList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">PaymentCheckOutRequest</span> paymentCheckOutRequest = <span class="title class_">PaymentCheckOutRequest</span>.<span class="title function_">of</span>(productNoList);</span><br><span class="line">        <span class="title class_">PaymentCheckOutResponse</span> paymentCheckOutResponse = paymentCheckOutApiService.<span class="title function_">paymentCheckOut</span>(paymentCheckOutRequest);</span><br><span class="line"></span><br><span class="line">        int intTotalAmount = <span class="number">6000</span>;</span><br><span class="line">        <span class="title class_">String</span> totalAmount = <span class="title class_">String</span>.<span class="title function_">valueOf</span>(intTotalAmount);</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> paymentKey = <span class="variable language_">this</span>.<span class="title function_">paymentIdb64uuid</span>();</span><br><span class="line">        <span class="title class_">PaymentConfirmRequest</span> paymentConfirmRequest</span><br><span class="line">                = <span class="title class_">PaymentConfirmRequest</span>.<span class="title function_">of</span>(</span><br><span class="line">                    paymentKey,</span><br><span class="line">                    paymentCheckOutResponse.<span class="title function_">getOrderId</span>(),</span><br><span class="line">                    totalAmount</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// stubbing</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">createStubbingTossPostPayment</span>(paymentKey, paymentCheckOutResponse.<span class="title function_">getOrderId</span>(), totalAmount);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        paymentConfirmApiService.<span class="title function_">paymentConfirm</span>(paymentConfirmRequest);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">PaymentEventOutPut</span>&gt; paymentEventOutPutList = paymentEventQueryService.<span class="title function_">selectPayments</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title function_">assertThat</span>(paymentEventOutPutList).<span class="title function_">hasSize</span>(<span class="number">1</span>)</span><br><span class="line">                .<span class="title function_">extracting</span>(<span class="string">&quot;paymentKey&quot;</span>, <span class="string">&quot;orderId&quot;</span>, <span class="string">&quot;isPaymentDone&quot;</span>)</span><br><span class="line">                .<span class="title function_">usingRecursiveFieldByFieldElementComparator</span>(</span><br><span class="line">                        <span class="title class_">RecursiveComparisonConfiguration</span>.<span class="title function_">builder</span>()</span><br><span class="line">                                .<span class="title function_">withComparatorForType</span>(<span class="title class_">BigDecimal</span>::compareTo, <span class="title class_">BigDecimal</span>.<span class="property">class</span>).<span class="title function_">build</span>()</span><br><span class="line">                )</span><br><span class="line">                .<span class="title function_">containsExactlyInAnyOrder</span>(</span><br><span class="line">                        <span class="title function_">tuple</span>(paymentKey, paymentCheckOutResponse.<span class="title function_">getOrderId</span>(), <span class="literal">true</span>)</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="title class_">PaymentEventOutPut</span> paymentEventOutPut : paymentEventOutPutList) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="title class_">BigDecimal</span> responseTotalAmount = paymentEventOutPut.<span class="title function_">getTotalAmount</span>();</span><br><span class="line">            <span class="title function_">assertThat</span>(responseTotalAmount).<span class="title function_">isEqualByComparingTo</span>(<span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(intTotalAmount));</span><br><span class="line"></span><br><span class="line">            <span class="title class_">List</span>&lt;<span class="title class_">PaymentOrderOutPut</span>&gt; paymentOrderList = paymentEventOutPut.<span class="title function_">getPaymentOrderList</span>();</span><br><span class="line"></span><br><span class="line">            <span class="title function_">assertThat</span>(paymentOrderList).<span class="title function_">hasSize</span>(<span class="number">3</span>)</span><br><span class="line">                    .<span class="title function_">extracting</span>(<span class="string">&quot;productId&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;amount&quot;</span>, <span class="string">&quot;status&quot;</span>)</span><br><span class="line">                    .<span class="title function_">usingRecursiveFieldByFieldElementComparator</span>(</span><br><span class="line">                            <span class="title class_">RecursiveComparisonConfiguration</span>.<span class="title function_">builder</span>()</span><br><span class="line">                                    .<span class="title function_">withComparatorForType</span>(<span class="title class_">BigDecimal</span>::compareTo, <span class="title class_">BigDecimal</span>.<span class="property">class</span>).<span class="title function_">build</span>()</span><br><span class="line">                    )</span><br><span class="line">                    .<span class="title function_">containsExactlyInAnyOrder</span>(</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">SUCCESS</span>),</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">SUCCESS</span>),</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">SUCCESS</span>)</span><br><span class="line">                    );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    @<span class="title class_">DisplayName</span>(<span class="string">&quot;ÏÉÅÌíà Ï£ºÎ¨∏ ÌïòÍ∏∞ ÏúÑÌïú Confirm Í∏∞Îä•ÏùÑ Ïã§ÌñâÏãú Í≤ΩÏö∞ ÏòàÏô∏Í∞Ä Î∞úÏÉù Ìï©ÎãàÎã§. - Ïû¨ÏãúÎèÑÍ∞Ä Í∞ÄÎä•ÌïòÏßÄ ÏïäÎäî Í≤∞Ï†ú ÏóêÎü¨&quot;</span>)</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">paymentConfirmThenThrow</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        <span class="title class_">Product</span> product1 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product2 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product3 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>));</span><br><span class="line"></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Product</span>&gt; productList = productRepository.<span class="title function_">saveAll</span>(<span class="title class_">List</span>.<span class="title function_">of</span>(product1, product2, product3));</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">ProductOutPut</span>&gt; productOutPutList = <span class="title class_">ProductOutPut</span>.<span class="title function_">of</span>(productList);</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Long</span>&gt; productNoList = productOutPutList.<span class="title function_">stream</span>()</span><br><span class="line">                .<span class="title function_">map</span>(<span class="title class_">ProductOutPut</span>::getNo)</span><br><span class="line">                .<span class="title function_">toList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">PaymentCheckOutRequest</span> paymentCheckOutRequest = <span class="title class_">PaymentCheckOutRequest</span>.<span class="title function_">of</span>(productNoList);</span><br><span class="line">        <span class="title class_">PaymentCheckOutResponse</span> paymentCheckOutResponse = paymentCheckOutApiService.<span class="title function_">paymentCheckOut</span>(paymentCheckOutRequest);</span><br><span class="line"></span><br><span class="line">        int intTotalAmount = <span class="number">6000</span>;</span><br><span class="line">        <span class="title class_">String</span> totalAmount = <span class="title class_">String</span>.<span class="title function_">valueOf</span>(intTotalAmount);</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> paymentKey = <span class="variable language_">this</span>.<span class="title function_">paymentIdb64uuid</span>();</span><br><span class="line">        <span class="title class_">PaymentConfirmRequest</span> paymentConfirmRequest</span><br><span class="line">                = <span class="title class_">PaymentConfirmRequest</span>.<span class="title function_">of</span>(</span><br><span class="line">                paymentKey,</span><br><span class="line">                paymentCheckOutResponse.<span class="title function_">getOrderId</span>(),</span><br><span class="line">                totalAmount</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// stubbing</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">createStubbingTossPostPaymentThenThrow</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        paymentConfirmApiService.<span class="title function_">paymentConfirm</span>(paymentConfirmRequest);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">PaymentEventOutPut</span>&gt; paymentEventOutPutList = paymentEventQueryService.<span class="title function_">selectPayments</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title function_">assertThat</span>(paymentEventOutPutList).<span class="title function_">hasSize</span>(<span class="number">1</span>)</span><br><span class="line">                .<span class="title function_">extracting</span>(<span class="string">&quot;paymentKey&quot;</span>, <span class="string">&quot;orderId&quot;</span>, <span class="string">&quot;isPaymentDone&quot;</span>)</span><br><span class="line">                .<span class="title function_">usingRecursiveFieldByFieldElementComparator</span>(</span><br><span class="line">                        <span class="title class_">RecursiveComparisonConfiguration</span>.<span class="title function_">builder</span>()</span><br><span class="line">                                .<span class="title function_">withComparatorForType</span>(<span class="title class_">BigDecimal</span>::compareTo, <span class="title class_">BigDecimal</span>.<span class="property">class</span>).<span class="title function_">build</span>()</span><br><span class="line">                )</span><br><span class="line">                .<span class="title function_">containsExactlyInAnyOrder</span>(</span><br><span class="line">                        <span class="title function_">tuple</span>(paymentKey, paymentCheckOutResponse.<span class="title function_">getOrderId</span>(), <span class="literal">false</span>)</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="title class_">PaymentEventOutPut</span> paymentEventOutPut : paymentEventOutPutList) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="title class_">BigDecimal</span> responseTotalAmount = paymentEventOutPut.<span class="title function_">getTotalAmount</span>();</span><br><span class="line">            <span class="title function_">assertThat</span>(responseTotalAmount).<span class="title function_">isEqualByComparingTo</span>(<span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(intTotalAmount));</span><br><span class="line"></span><br><span class="line">            <span class="title class_">List</span>&lt;<span class="title class_">PaymentOrderOutPut</span>&gt; paymentOrderList = paymentEventOutPut.<span class="title function_">getPaymentOrderList</span>();</span><br><span class="line"></span><br><span class="line">            <span class="title function_">assertThat</span>(paymentOrderList).<span class="title function_">hasSize</span>(<span class="number">3</span>)</span><br><span class="line">                    .<span class="title function_">extracting</span>(<span class="string">&quot;productId&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;amount&quot;</span>, <span class="string">&quot;status&quot;</span>)</span><br><span class="line">                    .<span class="title function_">usingRecursiveFieldByFieldElementComparator</span>(</span><br><span class="line">                            <span class="title class_">RecursiveComparisonConfiguration</span>.<span class="title function_">builder</span>()</span><br><span class="line">                                    .<span class="title function_">withComparatorForType</span>(<span class="title class_">BigDecimal</span>::compareTo, <span class="title class_">BigDecimal</span>.<span class="property">class</span>).<span class="title function_">build</span>()</span><br><span class="line">                    )</span><br><span class="line">                    .<span class="title function_">containsExactlyInAnyOrder</span>(</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">FAILURE</span>),</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">FAILURE</span>),</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">FAILURE</span>)</span><br><span class="line">                    );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    @<span class="title class_">DisplayName</span>(<span class="string">&quot;ÏÉÅÌíà Ï£ºÎ¨∏ ÌïòÍ∏∞ ÏúÑÌïú Confirm Í∏∞Îä•ÏùÑ Ïã§ÌñâÏãú Í≤ΩÏö∞ ÏòàÏô∏Í∞Ä Î∞úÏÉù Ìï©ÎãàÎã§. - Ïù¥ÎØ∏ ÏôÑÎ£åÎêú Í≤∞Ï†úÍ±¥&quot;</span>)</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">paymentConfirmAlreadyCompletedPaymentThenThrow</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        <span class="title class_">Product</span> product1 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product2 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product3 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>));</span><br><span class="line"></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Product</span>&gt; productList = productRepository.<span class="title function_">saveAll</span>(<span class="title class_">List</span>.<span class="title function_">of</span>(product1, product2, product3));</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">ProductOutPut</span>&gt; productOutPutList = <span class="title class_">ProductOutPut</span>.<span class="title function_">of</span>(productList);</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Long</span>&gt; productNoList = productOutPutList.<span class="title function_">stream</span>()</span><br><span class="line">                .<span class="title function_">map</span>(<span class="title class_">ProductOutPut</span>::getNo)</span><br><span class="line">                .<span class="title function_">toList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">PaymentCheckOutRequest</span> paymentCheckOutRequest = <span class="title class_">PaymentCheckOutRequest</span>.<span class="title function_">of</span>(productNoList);</span><br><span class="line">        <span class="title class_">PaymentCheckOutResponse</span> paymentCheckOutResponse = paymentCheckOutApiService.<span class="title function_">paymentCheckOut</span>(paymentCheckOutRequest);</span><br><span class="line"></span><br><span class="line">        int intTotalAmount = <span class="number">6000</span>;</span><br><span class="line">        <span class="title class_">String</span> totalAmount = <span class="title class_">String</span>.<span class="title function_">valueOf</span>(intTotalAmount);</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> paymentKey = <span class="variable language_">this</span>.<span class="title function_">paymentIdb64uuid</span>();</span><br><span class="line">        <span class="title class_">PaymentConfirmRequest</span> paymentConfirmRequest</span><br><span class="line">                = <span class="title class_">PaymentConfirmRequest</span>.<span class="title function_">of</span>(</span><br><span class="line">                paymentKey,</span><br><span class="line">                paymentCheckOutResponse.<span class="title function_">getOrderId</span>(),</span><br><span class="line">                totalAmount</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// stubbing</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">createStubbingAlreadyCompletedTossPostPaymentThenThrow</span>(paymentKey, paymentCheckOutResponse.<span class="title function_">getOrderId</span>(), totalAmount);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when</span></span><br><span class="line">        paymentConfirmApiService.<span class="title function_">paymentConfirm</span>(paymentConfirmRequest);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// then</span></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">PaymentEventOutPut</span>&gt; paymentEventOutPutList = paymentEventQueryService.<span class="title function_">selectPayments</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title function_">assertThat</span>(paymentEventOutPutList).<span class="title function_">hasSize</span>(<span class="number">1</span>)</span><br><span class="line">                .<span class="title function_">extracting</span>(<span class="string">&quot;paymentKey&quot;</span>, <span class="string">&quot;orderId&quot;</span>, <span class="string">&quot;isPaymentDone&quot;</span>)</span><br><span class="line">                .<span class="title function_">usingRecursiveFieldByFieldElementComparator</span>(</span><br><span class="line">                        <span class="title class_">RecursiveComparisonConfiguration</span>.<span class="title function_">builder</span>()</span><br><span class="line">                                .<span class="title function_">withComparatorForType</span>(<span class="title class_">BigDecimal</span>::compareTo, <span class="title class_">BigDecimal</span>.<span class="property">class</span>).<span class="title function_">build</span>()</span><br><span class="line">                )</span><br><span class="line">                .<span class="title function_">containsExactlyInAnyOrder</span>(</span><br><span class="line">                        <span class="title function_">tuple</span>(paymentKey, paymentCheckOutResponse.<span class="title function_">getOrderId</span>(), <span class="literal">true</span>)</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="title class_">PaymentEventOutPut</span> paymentEventOutPut : paymentEventOutPutList) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="title class_">BigDecimal</span> responseTotalAmount = paymentEventOutPut.<span class="title function_">getTotalAmount</span>();</span><br><span class="line">            <span class="title function_">assertThat</span>(responseTotalAmount).<span class="title function_">isEqualByComparingTo</span>(<span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(intTotalAmount));</span><br><span class="line"></span><br><span class="line">            <span class="title class_">List</span>&lt;<span class="title class_">PaymentOrderOutPut</span>&gt; paymentOrderList = paymentEventOutPut.<span class="title function_">getPaymentOrderList</span>();</span><br><span class="line"></span><br><span class="line">            <span class="title function_">assertThat</span>(paymentOrderList).<span class="title function_">hasSize</span>(<span class="number">3</span>)</span><br><span class="line">                    .<span class="title function_">extracting</span>(<span class="string">&quot;productId&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;amount&quot;</span>, <span class="string">&quot;status&quot;</span>)</span><br><span class="line">                    .<span class="title function_">usingRecursiveFieldByFieldElementComparator</span>(</span><br><span class="line">                            <span class="title class_">RecursiveComparisonConfiguration</span>.<span class="title function_">builder</span>()</span><br><span class="line">                                    .<span class="title function_">withComparatorForType</span>(<span class="title class_">BigDecimal</span>::compareTo, <span class="title class_">BigDecimal</span>.<span class="property">class</span>).<span class="title function_">build</span>()</span><br><span class="line">                    )</span><br><span class="line">                    .<span class="title function_">containsExactlyInAnyOrder</span>(</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">SUCCESS</span>),</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">SUCCESS</span>),</span><br><span class="line">                            <span class="title function_">tuple</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>), <span class="title class_">PaymentOrderStatus</span>.<span class="property">SUCCESS</span>)</span><br><span class="line">                    );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @<span class="title class_">Test</span></span><br><span class="line">    @<span class="title class_">DisplayName</span>(<span class="string">&quot;Í≤∞Ï†ú Í∏àÏï°Ïù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÑ Í≤ΩÏö∞ ÏòàÏô∏Í∞Ä Î∞úÏÉù Ìï©ÎãàÎã§.&quot;</span>)</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">invalidPaymentAmountThenThrow</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// given</span></span><br><span class="line">        <span class="title class_">Product</span> product1 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;ÏÉÅÌíàA&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">1000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product2 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;ÏÉÅÌíàB&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">2000</span>));</span><br><span class="line">        <span class="title class_">Product</span> product3 = <span class="variable language_">this</span>.<span class="title function_">createProduct</span>(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;ÏÉÅÌíàC&quot;</span>, <span class="title class_">BigDecimal</span>.<span class="title function_">valueOf</span>(<span class="number">3000</span>));</span><br><span class="line"></span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Product</span>&gt; productList = productRepository.<span class="title function_">saveAll</span>(<span class="title class_">List</span>.<span class="title function_">of</span>(product1, product2, product3));</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">ProductOutPut</span>&gt; productOutPutList = <span class="title class_">ProductOutPut</span>.<span class="title function_">of</span>(productList);</span><br><span class="line">        <span class="title class_">List</span>&lt;<span class="title class_">Long</span>&gt; productNoList = productOutPutList.<span class="title function_">stream</span>()</span><br><span class="line">                .<span class="title function_">map</span>(<span class="title class_">ProductOutPut</span>::getNo)</span><br><span class="line">                .<span class="title function_">toList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title class_">PaymentCheckOutRequest</span> paymentCheckOutRequest = <span class="title class_">PaymentCheckOutRequest</span>.<span class="title function_">of</span>(productNoList);</span><br><span class="line">        <span class="title class_">PaymentCheckOutResponse</span> paymentCheckOutResponse = paymentCheckOutApiService.<span class="title function_">paymentCheckOut</span>(paymentCheckOutRequest);</span><br><span class="line"></span><br><span class="line">        int intTotalAmount = <span class="number">5000</span>;</span><br><span class="line">        <span class="title class_">String</span> totalAmount = <span class="title class_">String</span>.<span class="title function_">valueOf</span>(intTotalAmount);</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> paymentKey = <span class="variable language_">this</span>.<span class="title function_">paymentIdb64uuid</span>();</span><br><span class="line">        <span class="title class_">PaymentConfirmRequest</span> paymentConfirmRequest</span><br><span class="line">                = <span class="title class_">PaymentConfirmRequest</span>.<span class="title function_">of</span>(</span><br><span class="line">                paymentKey,</span><br><span class="line">                paymentCheckOutResponse.<span class="title function_">getOrderId</span>(),</span><br><span class="line">                totalAmount</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// when // then</span></span><br><span class="line">        <span class="title function_">assertThatThrownBy</span>(() -&gt; paymentConfirmApiService.<span class="title function_">paymentConfirm</span>(paymentConfirmRequest))</span><br><span class="line">                .<span class="title function_">isInstanceOf</span>(<span class="title class_">BusinessException</span>.<span class="property">class</span>)</span><br><span class="line">                .<span class="title function_">hasMessage</span>(<span class="string">&quot;Í≤∞Ï†ú Í∏àÏï°Ïù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private <span class="keyword">void</span> <span class="title function_">createStubbingTossPostPayment</span>(<span class="params"><span class="built_in">String</span> paymentKey, <span class="built_in">String</span> orderId, <span class="built_in">String</span> amount</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> responsePostPaymentsBody = <span class="string">&quot;&#123;\&quot;mId\&quot;:\&quot;tvivarepublica\&quot;,\&quot;lastTransactionKey\&quot;:\&quot;F69384D0887558A85A78199D534FBBD5\&quot;,\&quot;paymentKey\&quot;:\&quot;&quot;</span> + paymentKey + <span class="string">&quot;\&quot;,\&quot;orderId\&quot;:\&quot;&quot;</span> + orderId + <span class="string">&quot;\&quot;,\&quot;orderName\&quot;:\&quot;ÏÉÅÌíàA Í∑∏Ïô∏\&quot;,\&quot;taxExemptionAmount\&quot;:0,\&quot;status\&quot;:\&quot;DONE\&quot;,\&quot;requestedAt\&quot;:\&quot;2024-11-30T16:53:34+09:00\&quot;,\&quot;approvedAt\&quot;:\&quot;2024-11-30T16:53:57+09:00\&quot;,\&quot;useEscrow\&quot;:false,\&quot;cultureExpense\&quot;:false,\&quot;card\&quot;:&#123;\&quot;issuerCode\&quot;:\&quot;11\&quot;,\&quot;acquirerCode\&quot;:\&quot;11\&quot;,\&quot;number\&quot;:\&quot;52361232****606*\&quot;,\&quot;installmentPlanMonths\&quot;:0,\&quot;isInterestFree\&quot;:false,\&quot;interestPayer\&quot;:null,\&quot;approveNo\&quot;:\&quot;00000000\&quot;,\&quot;useCardPoint\&quot;:false,\&quot;cardType\&quot;:\&quot;Ïã†Ïö©\&quot;,\&quot;ownerType\&quot;:\&quot;Í∞úÏù∏\&quot;,\&quot;acquireStatus\&quot;:\&quot;READY\&quot;,\&quot;amount\&quot;:&quot;</span> + amount + <span class="string">&quot;&#125;,\&quot;virtualAccount\&quot;:null,\&quot;transfer\&quot;:null,\&quot;mobilePhone\&quot;:null,\&quot;giftCertificate\&quot;:null,\&quot;cashReceipt\&quot;:null,\&quot;cashReceipts\&quot;:null,\&quot;discount\&quot;:null,\&quot;cancels\&quot;:null,\&quot;secret\&quot;:\&quot;ps_GePWvyJnrKvelyyyB2pLVgLzN97E\&quot;,\&quot;type\&quot;:\&quot;NORMAL\&quot;,\&quot;easyPay\&quot;:null,\&quot;country\&quot;:\&quot;KR\&quot;,\&quot;failure\&quot;:null,\&quot;isPartialCancelable\&quot;:true,\&quot;receipt\&quot;:&#123;\&quot;url\&quot;:\&quot;https://dashboard.tosspayments.com/receipt/redirection?transactionId=tviva20241130165334qVdY4&amp;ref=PX\&quot;&#125;,\&quot;checkout\&quot;:&#123;\&quot;url\&quot;:\&quot;https://api.tosspayments.com/v1/payments/tviva20241130165334qVdY4/checkout\&quot;&#125;,\&quot;currency\&quot;:\&quot;KRW\&quot;,\&quot;totalAmount\&quot;:&quot;</span> + amount + <span class="string">&quot;,\&quot;balanceAmount\&quot;:6000,\&quot;suppliedAmount\&quot;:5455,\&quot;vat\&quot;:545,\&quot;taxFreeAmount\&quot;:0,\&quot;method\&quot;:\&quot;Ïπ¥Îìú\&quot;,\&quot;version\&quot;:\&quot;2022-11-16\&quot;,\&quot;metadata\&quot;:null&#125;&quot;</span>;</span><br><span class="line">        <span class="title function_">when</span>(tossPaymentClient.<span class="title function_">paymentConfirm</span>(</span><br><span class="line">                <span class="title function_">any</span>(<span class="title class_">String</span>.<span class="property">class</span>), <span class="title function_">any</span>(<span class="title class_">PaymentConfirmInPut</span>.<span class="property">class</span>)</span><br><span class="line">        )).<span class="title function_">thenReturn</span>(<span class="title class_">ResponseEntity</span>.<span class="title function_">ok</span>(responsePostPaymentsBody));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private <span class="keyword">void</span> <span class="title function_">createStubbingTossPostPaymentThenThrow</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="title class_">PaymentException</span> paymentException = <span class="keyword">new</span> <span class="title class_">PaymentException</span>(</span><br><span class="line">                <span class="title class_">PSPErrorCode</span>.<span class="property">CLIENT_ERROR</span>,</span><br><span class="line">                <span class="string">&quot;INVALID_STOPPED_CARD&quot;</span>,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;Ï†ïÏßÄÎêú Ïπ¥Îìú ÏûÖÎãàÎã§.&quot;</span>&#125;,</span><br><span class="line">                <span class="string">&quot;&#123; \&quot;code\&quot;: \&quot;INVALID_STOPPED_CARD\&quot;, \&quot;message\&quot;: \&quot;Ï†ïÏßÄÎêú Ïπ¥Îìú ÏûÖÎãàÎã§.\&quot; &#125;&quot;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="title function_">when</span>(tossPaymentClient.<span class="title function_">paymentConfirm</span>(</span><br><span class="line">                <span class="title function_">any</span>(<span class="title class_">String</span>.<span class="property">class</span>), <span class="title function_">any</span>(<span class="title class_">PaymentConfirmInPut</span>.<span class="property">class</span>)</span><br><span class="line">        )).<span class="title function_">thenThrow</span>(paymentException);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private <span class="keyword">void</span> <span class="title function_">createStubbingAlreadyCompletedTossPostPaymentThenThrow</span>(<span class="params"><span class="built_in">String</span> paymentKey, <span class="built_in">String</span> orderId, <span class="built_in">String</span> amount</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="title class_">PaymentException</span> paymentException = <span class="keyword">new</span> <span class="title class_">PaymentException</span>(</span><br><span class="line">                <span class="title class_">PSPErrorCode</span>.<span class="property">CLIENT_ERROR</span>,</span><br><span class="line">                <span class="string">&quot;ALREADY_COMPLETED_PAYMENT&quot;</span>,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;Ïù¥ÎØ∏ ÏôÑÎ£åÎêú Í≤∞Ï†ú ÏûÖÎãàÎã§.&quot;</span>&#125;,</span><br><span class="line">                <span class="string">&quot;&#123; \&quot;code\&quot;: \&quot;ALREADY_COMPLETED_PAYMENT\&quot;, \&quot;message\&quot;: \&quot;Ïù¥ÎØ∏ ÏôÑÎ£åÎêú Í≤∞Ï†ú ÏûÖÎãàÎã§.\&quot; &#125;&quot;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="title function_">when</span>(tossPaymentClient.<span class="title function_">paymentConfirm</span>(</span><br><span class="line">                <span class="title function_">any</span>(<span class="title class_">String</span>.<span class="property">class</span>), <span class="title function_">any</span>(<span class="title class_">PaymentConfirmInPut</span>.<span class="property">class</span>)</span><br><span class="line">        )).<span class="title function_">thenThrow</span>(paymentException);</span><br><span class="line"></span><br><span class="line">        <span class="title class_">String</span> responsePostPaymentsBody = <span class="string">&quot;&#123;\&quot;mId\&quot;:\&quot;tvivarepublica\&quot;,\&quot;lastTransactionKey\&quot;:\&quot;F69384D0887558A85A78199D534FBBD5\&quot;,\&quot;paymentKey\&quot;:\&quot;&quot;</span> + paymentKey + <span class="string">&quot;\&quot;,\&quot;orderId\&quot;:\&quot;&quot;</span> + orderId + <span class="string">&quot;\&quot;,\&quot;orderName\&quot;:\&quot;ÏÉÅÌíàA Í∑∏Ïô∏\&quot;,\&quot;taxExemptionAmount\&quot;:0,\&quot;status\&quot;:\&quot;DONE\&quot;,\&quot;requestedAt\&quot;:\&quot;2024-11-30T16:53:34+09:00\&quot;,\&quot;approvedAt\&quot;:\&quot;2024-11-30T16:53:57+09:00\&quot;,\&quot;useEscrow\&quot;:false,\&quot;cultureExpense\&quot;:false,\&quot;card\&quot;:&#123;\&quot;issuerCode\&quot;:\&quot;11\&quot;,\&quot;acquirerCode\&quot;:\&quot;11\&quot;,\&quot;number\&quot;:\&quot;52361232****606*\&quot;,\&quot;installmentPlanMonths\&quot;:0,\&quot;isInterestFree\&quot;:false,\&quot;interestPayer\&quot;:null,\&quot;approveNo\&quot;:\&quot;00000000\&quot;,\&quot;useCardPoint\&quot;:false,\&quot;cardType\&quot;:\&quot;Ïã†Ïö©\&quot;,\&quot;ownerType\&quot;:\&quot;Í∞úÏù∏\&quot;,\&quot;acquireStatus\&quot;:\&quot;READY\&quot;,\&quot;amount\&quot;:&quot;</span> + amount + <span class="string">&quot;&#125;,\&quot;virtualAccount\&quot;:null,\&quot;transfer\&quot;:null,\&quot;mobilePhone\&quot;:null,\&quot;giftCertificate\&quot;:null,\&quot;cashReceipt\&quot;:null,\&quot;cashReceipts\&quot;:null,\&quot;discount\&quot;:null,\&quot;cancels\&quot;:null,\&quot;secret\&quot;:\&quot;ps_GePWvyJnrKvelyyyB2pLVgLzN97E\&quot;,\&quot;type\&quot;:\&quot;NORMAL\&quot;,\&quot;easyPay\&quot;:null,\&quot;country\&quot;:\&quot;KR\&quot;,\&quot;failure\&quot;:null,\&quot;isPartialCancelable\&quot;:true,\&quot;receipt\&quot;:&#123;\&quot;url\&quot;:\&quot;https://dashboard.tosspayments.com/receipt/redirection?transactionId=tviva20241130165334qVdY4&amp;ref=PX\&quot;&#125;,\&quot;checkout\&quot;:&#123;\&quot;url\&quot;:\&quot;https://api.tosspayments.com/v1/payments/tviva20241130165334qVdY4/checkout\&quot;&#125;,\&quot;currency\&quot;:\&quot;KRW\&quot;,\&quot;totalAmount\&quot;:&quot;</span> + amount + <span class="string">&quot;,\&quot;balanceAmount\&quot;:6000,\&quot;suppliedAmount\&quot;:5455,\&quot;vat\&quot;:545,\&quot;taxFreeAmount\&quot;:0,\&quot;method\&quot;:\&quot;Ïπ¥Îìú\&quot;,\&quot;version\&quot;:\&quot;2022-11-16\&quot;,\&quot;metadata\&quot;:null&#125;&quot;</span>;</span><br><span class="line">        <span class="title function_">when</span>(tossPaymentClient.<span class="title function_">getPayments</span>(</span><br><span class="line">                <span class="title function_">any</span>(<span class="title class_">String</span>.<span class="property">class</span>)</span><br><span class="line">        )).<span class="title function_">thenReturn</span>(<span class="title class_">ResponseEntity</span>.<span class="title function_">ok</span>(responsePostPaymentsBody));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private <span class="title class_">Product</span> <span class="title function_">createProduct</span>(<span class="params"><span class="built_in">String</span> productId, <span class="built_in">String</span> name, BigDecimal price</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Product</span>.<span class="title function_">of</span>(productId, name, price);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private <span class="title class_">String</span> <span class="title function_">paymentIdb64uuid</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">SecureRandom</span> secureRandom = <span class="keyword">new</span> <span class="title class_">SecureRandom</span>();</span><br><span class="line">        byte[] randomBytes = <span class="keyword">new</span> byte[<span class="number">25</span>];</span><br><span class="line">        secureRandom.<span class="title function_">nextBytes</span>(randomBytes);</span><br><span class="line">        <span class="title class_">String</span> identifier = <span class="title class_">Base64</span>.<span class="title function_">getUrlEncoder</span>().<span class="title function_">withoutPadding</span>().<span class="title function_">encodeToString</span>(randomBytes);</span><br><span class="line">        <span class="keyword">return</span> identifier.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Business Layer ÌÖåÏä§Ìä∏ÏóêÏÑúÎäî Ï¥ù 4Í∞ÄÏßÄ TEST Î•º ÏßÑÌñâ Ìï†Î†§Í≥† Ìï©ÎãàÎã§.</p>
<ol>
<li>ÏÉÅÌíà Ï£ºÎ¨∏ ÌïòÍ∏∞ ÏúÑÌïú Confirm Í∏∞Îä•ÏùÑ Ïã§Ìñâ Ìï©ÎãàÎã§.</li>
<li>ÏÉÅÌíà Ï£ºÎ¨∏ ÌïòÍ∏∞ ÏúÑÌïú Confirm Í∏∞Îä•ÏùÑ Ïã§ÌñâÏãú Í≤ΩÏö∞ ÏòàÏô∏Í∞Ä Î∞úÏÉù Ìï©ÎãàÎã§. - Ïû¨ÏãúÎèÑÍ∞Ä Í∞ÄÎä•ÌïòÏßÄ ÏïäÎäî Í≤∞Ï†ú ÏóêÎü¨</li>
<li>ÏÉÅÌíà Ï£ºÎ¨∏ ÌïòÍ∏∞ ÏúÑÌïú Confirm Í∏∞Îä•ÏùÑ Ïã§ÌñâÏãú Í≤ΩÏö∞ ÏòàÏô∏Í∞Ä Î∞úÏÉù Ìï©ÎãàÎã§. - Ïù¥ÎØ∏ ÏôÑÎ£åÎêú Í≤∞Ï†úÍ±¥</li>
<li>Í≤∞Ï†ú Í∏àÏï°Ïù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÑ Í≤ΩÏö∞ ÏòàÏô∏Í∞Ä Î∞úÏÉù Ìï©ÎãàÎã§.</li>
</ol>
<p>ÏïûÏç® ÏµúÏ¢Ö Í≤∞Ï†ú ÏäπÏù∏Ïù¥ ÏôÑÎ£å Îê†Î†§Î©¥ Ïù¥Ï†ÑÏóê checkout Í∏∞Îä• ÌÜµÌï¥ Íµ¨Îß§ Ïù¥Î≤§Ìä∏Î•º Î∞úÏÉù ÌïòÎèÑÎ°ù ÌïòÍ≥† ÎßàÏßÄÎßâÏúºÎ°ú confirm Í∏∞Îä•ÏúºÎ°ú ÏµúÏ¢Ö Í≤∞Ï†ú ÏäπÏù∏Ïù¥ Î∞úÏÉù ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.</p>
<p><img src="/../../../../img/JAVA/Payment/Idempotency.png" alt="Î©±Îì±ÏÑ±1.png"><br><img src="/../../../../img/JAVA/Payment/Idempotency2.png" alt="Î©±Îì±ÏÑ±2.png"></p>
<p>Í≤∞Ï†ú ÏãúÎèÑÌïòÎäî Í≥ºÏ†ïÏóêÏÑú ÌÜ†Ïä§ PSP ÏÇ¨ Ïû†ÏãúÎèôÏïà ÏÑúÎ≤Ñ Î∂àÏïàÏ†ïÏúºÎ°ú Í≤∞Ï†ú ÏäπÏù∏ Ïã§Ìå® ÌïòÎäî Í≤ΩÏö∞ retry Í∏∞Îä•ÏùÑ ÌÜµÌï¥ Îã§Ïãú Í≤∞Ï†ú ÏäπÏù∏ ÏãúÎèÑÎ•º ÌïòÏßÄÎßå Ïû¨ÏãúÎèÑÍ∞Ä Î∂àÍ∞ÄÎä•Ìïú Í≤∞Ï†ú ÏóêÎü¨ Î∞úÏÉù Ìïú Í≤ΩÏö∞Îäî<br>Ïù¥Ïóê ÎßûÎäî Ï†ÅÏ†àÌïú ÏòàÏô∏Í∞Ä Î∞úÏÉùÎêòÎäîÏßÄ TEST ÎèÑ Ï∂îÍ∞Ä Ìï¥Î≥¥ÏïòÏäµÎãàÎã§.</p>
<p>ÎßàÏßÄÎßâÏúºÎ°ú Ïù¥ÎØ∏ Í≤∞Ï†úÍ±¥Ïóê ÎåÄÌï¥ Îã§Ïãú ÏãúÎèÑ Ìï† Í≤ΩÏö∞ÏóêÎèÑ Ï†ÅÏ†à ÌïòÍ≤å ÏòàÏô∏ Ï≤òÎ¶¨ ÌïòÏòÄÎäîÏßÄÎèÑ Ï≤¥ÌÅ¨ Ìï©ÎãàÎã§.</p>

      
       <hr><span style="font-style: italic;color: gray;"> Copyright 201- syh8088. Î¨¥Îã® Ï†ÑÏû¨ Î∞è Ïû¨Î∞∞Ìè¨ Í∏àÏßÄ. Ï∂úÏ≤ò ÌëúÍ∏∞ Ïãú Ïù∏Ïö© Í∞ÄÎä•. </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">üí∞</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ¬©2017 Seo Yang Hun
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="Toggle full screen shortcut key s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">√ó</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="Êâ´Á†ÅÊîØÊåÅ">
            <img src="/img/weixin.jpg" class="weixin" title="Êâ´Á†ÅÊîØÊåÅ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*Ê∏≤ÊüìÂØπÂ∫îÁöÑË°®Ê†ºÊ†∑Âºè*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*Ê∏≤ÊüìÊâìËµèÊ†∑Âºè*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*È´ò‰∫Æ‰ª£Á†ÅÂùóË°åÂè∑*/
        

        /*ËÆøÈóÆÊï∞Èáè*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*‰ª£Á†ÅÈ´ò‰∫ÆÔºåË°åÂè∑ÂØπÈΩê*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*ÊâìËµèÈ°µÈù¢ÈöêËóè‰∏éÂ±ïÁ§∫*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--Âä†ÂÖ•Ë°åÂè∑ÁöÑÈ´ò‰∫Æ‰ª£Á†ÅÂùóÊ†∑Âºè-->

<!--Ëá™ÂÆö‰πâÊ†∑ÂºèËÆæÁΩÆ-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*ÂàóË°®Ê†∑Âºè*/
    

    /* ËÉåÊôØÂõæÊ†∑Âºè */
    
    


    /*ÂºïÁî®ÂùóÊ†∑Âºè*/
    

    /*ÊñáÁ´†ÂàóË°®ËÉåÊôØÂõæ*/
    

    
</style>







</html>
